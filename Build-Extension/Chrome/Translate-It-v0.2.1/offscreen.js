let currentAudio=null;chrome.runtime.onMessage.addListener(((r,e,u)=>"playOffscreenAudio"===r.action&&r.url?(currentAudio&&(currentAudio.pause(),currentAudio.src=""),currentAudio=new Audio(r.url),currentAudio.crossOrigin="anonymous",currentAudio.addEventListener("ended",(()=>{u({success:!0}),currentAudio=null})),currentAudio.addEventListener("error",(r=>{u({success:!1,error:r.message||"Audio playback error"}),currentAudio=null})),currentAudio.play().catch((r=>{u({success:!1,error:r.message}),currentAudio=null})),!0):"stopOffscreenAudio"===r.action?(currentAudio?(currentAudio.pause(),currentAudio.src="",currentAudio=null,u({success:!0})):u({success:!1,error:"No offscreen audio playing"}),!0):void 0));