(()=>{var t={225:(t,e,r)=>{"use strict";r(19346)("Float32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},237:(t,e,r)=>{"use strict";var n=r(47493),o=r(31067);n({target:"Function",proto:!0,forced:Function.bind!==o},{bind:o})},468:t=>{"use strict";t.exports={}},470:(t,e,r)=>{"use strict";var n,o,a,i=r(60609),s=r(11957),c=r(55431),u=r(48864),l=r(47898),f=r(30414),h=r(56416),p=r(26476),d="Object already initialized",y=s.TypeError,g=s.WeakMap;if(i||f.state){var v=f.state||(f.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,n=function(t,e){if(v.has(t))throw new y(d);return e.facade=t,v.set(t,e),e},o=function(t){return v.get(t)||{}},a=function(t){return v.has(t)}}else{var m=h("state");p[m]=!0,n=function(t,e){if(l(t,m))throw new y(d);return e.facade=t,u(t,m,e),e},o=function(t){return l(t,m)?t[m]:{}},a=function(t){return l(t,m)}}t.exports={set:n,get:o,has:a,enforce:function(t){return a(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=o(e)).type!==t)throw new y("Incompatible receiver, "+t+" required");return r}}}},537:(t,e,r)=>{"use strict";var n=r(47493),o=r(47227).trim;n({target:"String",proto:!0,forced:r(24897)("trim")},{trim:function(){return o(this)}})},564:(t,e,r)=>{"use strict";var n=r(66823),o=r(96746),a=r(55431),i=r(30338)("species"),s=Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,(o(e)&&(e===s||n(e.prototype))||a(e)&&null===(e=e[i]))&&(e=void 0)),void 0===e?s:e}},773:(t,e,r)=>{"use strict";var n=r(38789),o=r(16695).EXISTS,a=r(49753),i=r(37869),s=Function.prototype,c=a(s.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=a(u.exec);n&&!o&&i(s,"name",{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(t){return""}}})},827:t=>{"use strict";t.exports=Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1}},1063:(t,e,r)=>{"use strict";var n=r(34714);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},1150:(t,e,r)=>{"use strict";var n=r(48864),o=r(50308),a=r(41262),i=Error.captureStackTrace;t.exports=function(t,e,r,s){a&&(i?i(t,e):n(t,"stack",o(r,s)))}},1172:(t,e,r)=>{"use strict";var n=r(11957).navigator,o=n&&n.userAgent;t.exports=o?String(o):""},1192:(t,e,r)=>{"use strict";r(39115);var n=r(47493),o=r(34058);n({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==o},{trimStart:o})},1549:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(66823),i=o([].reverse),s=[1,2];n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),i(this)}})},1618:(t,e,r)=>{"use strict";var n=r(47493),o=r(98184);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},1786:(t,e,r)=>{"use strict";var n,o,a,i,s=r(11957),c=r(87854),u=r(44117),l=r(35908),f=r(47898),h=r(34714),p=r(27434),d=r(46489),y=r(75118),g=r(9021),v=r(12387),m=r(99196),b=s.setImmediate,x=s.clearImmediate,w=s.process,_=s.Dispatch,E=s.Function,T=s.MessageChannel,S=s.String,k=0,A={},I="onreadystatechange";h((function(){n=s.location}));var run=function(t){if(f(A,t)){var e=A[t];delete A[t],e()}},runner=function(t){return function(){run(t)}},eventListener=function(t){run(t.data)},globalPostMessageDefer=function(t){s.postMessage(S(t),n.protocol+"//"+n.host)};b&&x||(b=function(t){g(arguments.length,1);var e=l(t)?t:E(t),r=d(arguments,1);return A[++k]=function(){c(e,void 0,r)},o(k),k},x=function(t){delete A[t]},m?o=function(t){w.nextTick(runner(t))}:_&&_.now?o=function(t){_.now(runner(t))}:T&&!v?(i=(a=new T).port2,a.port1.onmessage=eventListener,o=u(i.postMessage,i)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!h(globalPostMessageDefer)?(o=globalPostMessageDefer,s.addEventListener("message",eventListener,!1)):o=I in y("script")?function(t){p.appendChild(y("script"))[I]=function(){p.removeChild(this),run(t)}}:function(t){setTimeout(runner(t),0)}),t.exports={set:b,clear:x}},1811:(t,e,r)=>{"use strict";var n=r(47493),o=r(3121),a=r(53129),i=r(26402),s=r(42170);n({target:"Iterator",proto:!0,real:!0},{find:function(t){i(this),a(t);var e=s(this),r=0;return o(e,(function(e,n){if(t(e,r++))return n(e)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},1826:(t,e,r)=>{"use strict";var n=r(11957),o=r(33120),a=r(70095),i=r(83509),s=r(95304),c=r(85140),u=r(34714),l=n.RangeError,f=n.Int8Array,h=f&&f.prototype,p=h&&h.set,d=a.aTypedArray,y=a.exportTypedArrayMethod,g=!u((function(){var t=new Uint8ClampedArray(2);return o(p,t,{length:1,0:3},1),3!==t[1]})),v=g&&a.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var t=new f(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));y("set",(function(t){d(this);var e=s(arguments.length>1?arguments[1]:void 0,1),r=c(t);if(g)return o(p,this,r,e);var n=this.length,a=i(r),u=0;if(a+e>n)throw new l("Wrong length");for(;u<a;)this[e+u]=r[u++]}),!g||v)},2019:(t,e,r)=>{"use strict";var n=r(70095),o=r(49753),a=r(53129),i=r(76655),s=n.aTypedArray,c=n.getTypedArrayConstructor,u=n.exportTypedArrayMethod,l=o(n.TypedArrayPrototype.sort);u("toSorted",(function(t){void 0!==t&&a(t);var e=s(this),r=i(c(e),e);return l(r,t)}))},2817:(t,e,r)=>{"use strict";var n=r(23025),o=r(74835),a=r(38863),i=r(91598),s=r(73168),c=o.add,u=o.has,l=o.remove;t.exports=function(t){var e=n(this),r=i(t).getIterator(),o=a(e);return s(r,(function(t){u(e,t)?l(o,t):c(o,t)})),o}},2818:(t,e,r)=>{"use strict";var n=r(15868),o="DOMException";r(31042)(n(o),o)},3007:(t,e,r)=>{"use strict";r(36861)},3121:(t,e,r)=>{"use strict";var n=r(44117),o=r(33120),a=r(26402),i=r(97822),s=r(16330),c=r(83509),u=r(39130),l=r(3990),f=r(84554),h=r(4700),p=TypeError,Result=function(t,e){this.stopped=t,this.result=e},d=Result.prototype;t.exports=function(t,e,r){var y,g,v,m,b,x,w,_=r&&r.that,E=!(!r||!r.AS_ENTRIES),T=!(!r||!r.IS_RECORD),S=!(!r||!r.IS_ITERATOR),k=!(!r||!r.INTERRUPTED),A=n(e,_),stop=function(t){return y&&h(y,"normal",t),new Result(!0,t)},callFn=function(t){return E?(a(t),k?A(t[0],t[1],stop):A(t[0],t[1])):k?A(t,stop):A(t)};if(T)y=t.iterator;else if(S)y=t;else{if(!(g=f(t)))throw new p(i(t)+" is not iterable");if(s(g)){for(v=0,m=c(t);m>v;v++)if((b=callFn(t[v]))&&u(d,b))return b;return new Result(!1)}y=l(t,g)}for(x=T?t.next:y.next;!(w=o(x,y)).done;){try{b=callFn(w.value)}catch(t){h(y,"throw",t)}if("object"==typeof b&&b&&u(d,b))return b}return new Result(!1)}},3160:(t,e,r)=>{"use strict";var n=r(47493),o=r(26402),a=r(5697),i=r(69878);i&&n({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){o(t),a(e);try{return i(t,e),!0}catch(t){return!1}}})},3276:(t,e,r)=>{"use strict";var n=r(47493),o=r(38789),a=r(26402),i=r(92512),s=r(93418);n({target:"Reflect",stat:!0,forced:r(34714)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!o},{defineProperty:function(t,e,r){a(t);var n=i(e);a(r);try{return s.f(t,n,r),!0}catch(t){return!1}}})},3292:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(34714)((function(){return 120!==new Date(16e11).getYear()})),i=o(Date.prototype.getFullYear);n({target:"Date",proto:!0,forced:a},{getYear:function(){return i(this)-1900}})},3358:(t,e,r)=>{"use strict";var n=r(47493),o=r(42101);n({target:"String",proto:!0,forced:r(21390)("small")},{small:function(){return o(this,"small","","")}})},3905:(t,e,r)=>{"use strict";var n=r(47493),o=r(81099);n({target:"Number",stat:!0,forced:Number.parseFloat!==o},{parseFloat:o})},3990:(t,e,r)=>{"use strict";var n=r(33120),o=r(53129),a=r(26402),i=r(97822),s=r(84554),c=TypeError;t.exports=function(t,e){var r=arguments.length<2?s(t):e;if(o(r))return a(n(r,t));throw new c(i(t)+" is not iterable")}},4049:(t,e,r)=>{"use strict";var n=r(33120),o=r(11259),a=r(26402),i=r(30470),s=r(93645),c=r(72421),u=r(8594),l=r(18985),f=r(69017);o("search",(function(t,e,r){return[function(e){var r=s(this),o=i(e)?void 0:l(e,t);return o?n(o,e,r):new RegExp(e)[t](u(r))},function(t){var n=a(this),o=u(t),i=r(e,n,o);if(i.done)return i.value;var s=n.lastIndex;c(s,0)||(n.lastIndex=0);var l=f(n,o);return c(n.lastIndex,s)||(n.lastIndex=s),null===l?-1:l.index}]}))},4232:(t,e,r)=>{"use strict";var n=r(38789),o=r(66823),a=TypeError,i=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(o(t)&&!i(t,"length").writable)throw new a("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4331:(t,e,r)=>{"use strict";r(47493)({target:"Object",stat:!0,sham:!r(38789)},{create:r(79969)})},4571:(t,e,r)=>{"use strict";var n=r(11957),o=r(34714),a=r(91832),i=r(10862),s=n.structuredClone;t.exports=!!s&&!o((function(){if("DENO"===i&&a>92||"NODE"===i&&a>94||"BROWSER"===i&&a>97)return!1;var t=new ArrayBuffer(8),e=s(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}))},4620:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(1786).set,i=r(40539),s=o.setImmediate?i(a,!1):a;n({global:!0,bind:!0,enumerable:!0,forced:o.setImmediate!==s},{setImmediate:s})},4683:(t,e,r)=>{"use strict";var n=r(47493),o=r(827),a=Math.abs,i=Math.pow;n({target:"Math",stat:!0},{cbrt:function(t){var e=+t;return o(e)*i(a(e),1/3)}})},4700:(t,e,r)=>{"use strict";var n=r(33120),o=r(26402),a=r(18985);t.exports=function(t,e,r){var i,s;o(t);try{if(!(i=a(t,"return"))){if("throw"===e)throw r;return r}i=n(i,t)}catch(t){s=!0,i=t}if("throw"===e)throw r;if(s)throw i;return o(i),r}},4760:(t,e,r)=>{"use strict";r(19346)("Int16",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},4828:(t,e,r)=>{"use strict";var n=r(47493),o=r(42101);n({target:"String",proto:!0,forced:r(21390)("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},4879:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(26402),i=r(55431),s=r(27356),c=r(34714),u=r(93418),l=r(33264),f=r(47746),h=r(42251);n({target:"Reflect",stat:!0,forced:c((function(){var Constructor=function(){},t=u.f(new Constructor,"a",{configurable:!0});return!1!==Reflect.set(Constructor.prototype,"a",1,t)}))},{set:function set(t,e,r){var n,c,p,d=arguments.length<4?t:arguments[3],y=l.f(a(t),e);if(!y){if(i(c=f(t)))return set(c,e,r,d);y=h(0)}if(s(y)){if(!1===y.writable||!i(d))return!1;if(n=l.f(d,e)){if(n.get||n.set||!1===n.writable)return!1;n.value=r,u.f(d,e,n)}else u.f(d,e,h(0,r))}else{if(void 0===(p=y.set))return!1;o(p,d,r)}return!0}})},4908:(t,e,r)=>{"use strict";var n=r(47493),o=r(98046);n({target:"Iterator",proto:!0,real:!0,forced:r(76222)},{map:o})},4977:(t,e,r)=>{"use strict";var n=r(47493),o=r(66823),a=r(96746),i=r(55431),s=r(77147),c=r(83509),u=r(95156),l=r(33449),f=r(30338),h=r(93650),p=r(46489),d=h("slice"),y=f("species"),g=Array,v=Math.max;n({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var r,n,f,h=u(this),d=c(h),m=s(t,d),b=s(void 0===e?d:e,d);if(o(h)&&(r=h.constructor,(a(r)&&(r===g||o(r.prototype))||i(r)&&null===(r=r[y]))&&(r=void 0),r===g||void 0===r))return p(h,m,b);for(n=new(void 0===r?g:r)(v(b-m,0)),f=0;m<b;m++,f++)m in h&&l(n,f,h[m]);return n.length=f,n}})},5619:(t,e,r)=>{"use strict";var n=r(47493),o=r(87854),a=r(53129),i=r(26402);n({target:"Reflect",stat:!0,forced:!r(34714)((function(){Reflect.apply((function(){}))}))},{apply:function(t,e,r){return o(a(t),e,i(r))}})},5648:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(93645),i=r(8594),s=o("".charCodeAt);n({target:"String",proto:!0},{isWellFormed:function(){for(var t=i(a(this)),e=t.length,r=0;r<e;r++){var n=s(t,r);if(55296==(63488&n)&&(n>=56320||++r>=e||56320!=(64512&s(t,r))))return!1}return!0}})},5675:(t,e,r)=>{"use strict";var n=r(47493),o=r(85140),a=r(60361);n({target:"Object",stat:!0,forced:r(34714)((function(){a(1)}))},{keys:function(t){return a(o(t))}})},5697:(t,e,r)=>{"use strict";var n=r(95776),o=String,a=TypeError;t.exports=function(t){if(n(t))return t;throw new a("Can't set "+o(t)+" as a prototype")}},5843:(t,e,r)=>{"use strict";var n=r(9636),o=r(45085);n("toPrimitive"),o()},5924:t=>{"use strict";var e=Math.round;t.exports=function(t){var r=e(t);return r<0?0:r>255?255:255&r}},5933:(t,e,r)=>{"use strict";var n=r(47493),o=r(42560).findIndex,a=r(32250),i="findIndex",s=!0;i in[]&&Array(1)[i]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a(i)},5977:(t,e,r)=>{"use strict";var n=r(95156),o=r(32250),a=r(468),i=r(470),s=r(93418).f,c=r(45833),u=r(74520),l=r(76222),f=r(38789),h="Array Iterator",p=i.set,d=i.getterFor(h);t.exports=c(Array,"Array",(function(t,e){p(this,{type:h,target:n(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,u(void 0,!0);switch(t.kind){case"keys":return u(r,!1);case"values":return u(e[r],!1)}return u([r,e[r]],!1)}),"values");var y=a.Arguments=a.Array;if(o("keys"),o("values"),o("entries"),!l&&f&&"values"!==y.name)try{s(y,"name",{value:"values"})}catch(t){}},6147:(t,e,r)=>{"use strict";r(9636)("matchAll")},6204:(t,e,r)=>{"use strict";var n=r(26402);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},6571:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(55431),i=r(26402),s=r(27356),c=r(33264),u=r(47746);n({target:"Reflect",stat:!0},{get:function get(t,e){var r,n,l=arguments.length<3?t:arguments[2];return i(t)===l?t[e]:(r=c.f(t,e))?s(r)?r.value:void 0===r.get?void 0:o(r.get,l):a(n=u(t))?get(n,e,l):void 0}})},8413:(t,e,r)=>{"use strict";var n=r(47493),o=r(38243),a=r(49530).indexOf,i=r(68397),s=o([].indexOf),c=!!s&&1/s([1],1,-0)<0;n({target:"Array",proto:!0,forced:c||!i("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return c?s(this,t,e)||0:a(this,t,e)}})},8594:(t,e,r)=>{"use strict";var n=r(33382),o=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},8953:(t,e,r)=>{"use strict";var n=r(49753),o=n({}.toString),a=n("".slice);t.exports=function(t){return a(o(t),8,-1)}},9021:t=>{"use strict";var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},9066:(t,e,r)=>{"use strict";var n=r(49753),o=r(34714),a=r(35908),i=r(47898),s=r(38789),c=r(16695).CONFIGURABLE,u=r(35517),l=r(470),f=l.enforce,h=l.get,p=String,d=Object.defineProperty,y=n("".slice),g=n("".replace),v=n([].join),m=s&&!o((function(){return 8!==d((function(){}),"length",{value:8}).length})),b=String(String).split("String"),x=t.exports=function(t,e,r){"Symbol("===y(p(e),0,7)&&(e="["+g(p(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!i(t,"name")||c&&t.name!==e)&&(s?d(t,"name",{value:e,configurable:!0}):t.name=e),m&&r&&i(r,"arity")&&t.length!==r.arity&&d(t,"length",{value:r.arity});try{r&&i(r,"constructor")&&r.constructor?s&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=f(t);return i(n,"source")||(n.source=v(b,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return a(this)&&h(this).source||u(this)}),"toString")},9520:(t,e,r)=>{"use strict";var n=r(33382);t.exports=function(t){var e=n(t);return"BigInt64Array"===e||"BigUint64Array"===e}},9636:(t,e,r)=>{"use strict";var n=r(20904),o=r(47898),a=r(57762),i=r(93418).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});o(e,t)||i(e,t,{value:a.f(t)})}},9948:(t,e,r)=>{"use strict";r(47493)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},10028:(t,e,r)=>{"use strict";var n=r(47493),o=r(54488),a=Math.abs;n({target:"Number",stat:!0},{isSafeInteger:function(t){return o(t)&&a(t)<=9007199254740991}})},10233:(t,e,r)=>{"use strict";r(71139)},10298:t=>{"use strict";var e=Math.log,r=Math.LN2;t.exports=Math.log2||function(t){return e(t)/r}},10406:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(25249),i=r(28900),s="ArrayBuffer",c=a[s];n({global:!0,constructor:!0,forced:o[s]!==c},{ArrayBuffer:c}),i(s)},10706:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(8594),i=String.fromCharCode,s=o("".charAt),c=o(/./.exec),u=o("".slice),l=/^[\da-f]{2}$/i,f=/^[\da-f]{4}$/i;n({global:!0},{unescape:function(t){for(var e,r,n=a(t),o="",h=n.length,p=0;p<h;){if("%"===(e=s(n,p++)))if("u"===s(n,p)){if(r=u(n,p+1,p+5),c(f,r)){o+=i(parseInt(r,16)),p+=5;continue}}else if(r=u(n,p,p+2),c(l,r)){o+=i(parseInt(r,16)),p+=2;continue}o+=e}return o}})},10732:(t,e,r)=>{"use strict";var n=r(34714),o=r(11957).RegExp;t.exports=n((function(){var t=o(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},10842:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(23084),i=r(47898),s=r(53838).start,c=r(23121),u=Array,l=RegExp.escape,f=o("".charAt),h=o("".charCodeAt),p=o(1.1.toString),d=o([].join),y=/^[0-9a-z]/i,g=/^[$()*+./?[\\\]^{|}]/,v=RegExp("^[!\"#%&',\\-:;<=>@`~"+c+"]"),m=o(y.exec),b={"\t":"t","\n":"n","\v":"v","\f":"f","\r":"r"},escapeChar=function(t){var e=p(h(t,0),16);return e.length<3?"\\x"+s(e,2,"0"):"\\u"+s(e,4,"0")};n({target:"RegExp",stat:!0,forced:!l||"\\x61b"!==l("ab")},{escape:function(t){a(t);for(var e=t.length,r=u(e),n=0;n<e;n++){var o=f(t,n);if(0===n&&m(y,o))r[n]=escapeChar(o);else if(i(b,o))r[n]="\\"+b[o];else if(m(g,o))r[n]="\\"+o;else if(m(v,o))r[n]=escapeChar(o);else{var s=h(o,0);55296!=(63488&s)?r[n]=o:s>=56320||n+1>=e||56320!=(64512&h(t,n+1))?r[n]=escapeChar(o):(r[n]=o,r[++n]=f(t,n))}}return d(r,"")}})},10862:(t,e,r)=>{"use strict";var n=r(11957),o=r(1172),a=r(8953),userAgentStartsWith=function(t){return o.slice(0,t.length)===t};t.exports=userAgentStartsWith("Bun/")?"BUN":userAgentStartsWith("Cloudflare-Workers")?"CLOUDFLARE":userAgentStartsWith("Deno/")?"DENO":userAgentStartsWith("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},10919:(t,e,r)=>{"use strict";var n=r(70095),o=r(42560).find,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0)}))},11147:(t,e,r)=>{"use strict";var n=r(49753),o=r(34714),a=r(53838).start,i=RangeError,s=isFinite,c=Math.abs,u=Date.prototype,l=u.toISOString,f=n(u.getTime),h=n(u.getUTCDate),p=n(u.getUTCFullYear),d=n(u.getUTCHours),y=n(u.getUTCMilliseconds),g=n(u.getUTCMinutes),v=n(u.getUTCMonth),m=n(u.getUTCSeconds);t.exports=o((function(){return"0385-07-25T07:06:39.999Z"!==l.call(new Date(-5e13-1))}))||!o((function(){l.call(new Date(NaN))}))?function(){if(!s(f(this)))throw new i("Invalid time value");var t=this,e=p(t),r=y(t),n=e<0?"-":e>9999?"+":"";return n+a(c(e),n?6:4,0)+"-"+a(v(t)+1,2,0)+"-"+a(h(t),2,0)+"T"+a(d(t),2,0)+":"+a(g(t),2,0)+":"+a(m(t),2,0)+"."+a(r,3,0)+"Z"}:l},11196:(t,e,r)=>{"use strict";var n,o=r(47493),a=r(38243),i=r(33264).f,s=r(79203),c=r(8594),u=r(12892),l=r(93645),f=r(30177),h=r(76222),p=a("".slice),d=Math.min,y=f("endsWith");o({target:"String",proto:!0,forced:!!(h||y||(n=i(String.prototype,"endsWith"),!n||n.writable))&&!y},{endsWith:function(t){var e=c(l(this));u(t);var r=arguments.length>1?arguments[1]:void 0,n=e.length,o=void 0===r?n:d(s(r),n),a=c(t);return p(e,o-a.length,o)===a}})},11230:(t,e,r)=>{"use strict";var n=r(47493),o=r(38789),a=r(11957),i=r(49753),s=r(47898),c=r(35908),u=r(39130),l=r(8594),f=r(37869),h=r(48313),p=a.Symbol,d=p&&p.prototype;if(o&&c(p)&&(!("description"in d)||void 0!==p().description)){var y={},SymbolWrapper=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=u(d,this)?new p(t):void 0===t?p():p(t);return""===t&&(y[e]=!0),e};h(SymbolWrapper,p),SymbolWrapper.prototype=d,d.constructor=SymbolWrapper;var g="Symbol(description detection)"===String(p("description detection")),v=i(d.valueOf),m=i(d.toString),b=/^Symbol\((.*)\)[^)]+$/,x=i("".replace),w=i("".slice);f(d,"description",{configurable:!0,get:function(){var t=v(this);if(s(y,t))return"";var e=m(t),r=g?w(e,7,-1):x(e,b,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:SymbolWrapper})}},11259:(t,e,r)=>{"use strict";r(86640);var n=r(33120),o=r(50701),a=r(88118),i=r(34714),s=r(30338),c=r(48864),u=s("species"),l=RegExp.prototype;t.exports=function(t,e,r,f){var h=s(t),p=!i((function(){var e={};return e[h]=function(){return 7},7!==""[t](e)})),d=p&&!i((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[h]=/./[h]),r.exec=function(){return e=!0,null},r[h](""),!e}));if(!p||!d||r){var y=/./[h],g=e(h,""[t],(function(t,e,r,o,i){var s=e.exec;return s===a||s===l.exec?p&&!i?{done:!0,value:n(y,e,r,o)}:{done:!0,value:n(t,r,e,o)}:{done:!1}}));o(String.prototype,t,g[0]),o(l,h,g[1])}f&&c(l[h],"sham",!0)}},11318:(t,e,r)=>{"use strict";r(19346)("Float64",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},11433:(t,e,r)=>{"use strict";var n=r(47493),o=r(11147);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==o},{toISOString:o})},11564:(t,e,r)=>{"use strict";var n=r(47493),o=Math.hypot,a=Math.abs,i=Math.sqrt;n({target:"Math",stat:!0,arity:2,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var r,n,o=0,s=0,c=arguments.length,u=0;s<c;)u<(r=a(arguments[s++]))?(o=o*(n=u/r)*n+1,u=r):o+=r>0?(n=r/u)*n:r;return u===1/0?1/0:u*i(o)}})},11957:function(t,e,r){"use strict";var check=function(t){return t&&t.Math===Math&&t};t.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof r.g&&r.g)||check("object"==typeof this&&this)||function(){return this}()||Function("return this")()},12382:(t,e,r)=>{"use strict";var n=r(47493),o=r(15868),a=r(87854),i=r(31067),s=r(17289),c=r(26402),u=r(55431),l=r(79969),f=r(34714),h=o("Reflect","construct"),p=Object.prototype,d=[].push,y=f((function(){function F(){}return!(h((function(){}),[],F)instanceof F)})),g=!f((function(){h((function(){}))})),v=y||g;n({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(t,e){s(t),c(e);var r=arguments.length<3?t:s(arguments[2]);if(g&&!y)return h(t,e,r);if(t===r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return a(d,n,e),new(a(i,t,n))}var o=r.prototype,f=l(u(o)?o:p),v=a(t,f,e);return u(v)?v:f}})},12387:(t,e,r)=>{"use strict";var n=r(1172);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},12402:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957);n({global:!0,forced:o.globalThis!==o},{globalThis:o})},12603:(t,e,r)=>{"use strict";var n=r(47898),o=r(50701),a=r(67057),i=r(30338)("toPrimitive"),s=Date.prototype;n(s,i)||o(s,i,a)},12892:(t,e,r)=>{"use strict";var n=r(78177),o=TypeError;t.exports=function(t){if(n(t))throw new o("The method doesn't accept regular expressions");return t}},12933:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(8594),i=o("".charAt),s=o("".charCodeAt),c=o(/./.exec),u=o(1..toString),l=o("".toUpperCase),f=/[\w*+\-./@]/,hex=function(t,e){for(var r=u(t,16);r.length<e;)r="0"+r;return r};n({global:!0},{escape:function(t){for(var e,r,n=a(t),o="",u=n.length,h=0;h<u;)e=i(n,h++),c(f,e)?o+=e:o+=(r=s(e,0))<256?"%"+hex(r,2):"%u"+l(hex(r,4));return o}})},13362:(t,e,r)=>{"use strict";var n=r(47493),o=r(49530).includes,a=r(34714),i=r(32250);n({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},13539:(t,e,r)=>{"use strict";var n=r(33120),o=r(79969),a=r(48864),i=r(46376),s=r(30338),c=r(470),u=r(18985),l=r(42250).IteratorPrototype,f=r(74520),h=r(4700),p=s("toStringTag"),d="IteratorHelper",y="WrapForValidIterator",g=c.set,createIteratorProxyPrototype=function(t){var e=c.getterFor(t?y:d);return i(o(l),{next:function(){var r=e(this);if(t)return r.nextHandler();if(r.done)return f(void 0,!0);try{var n=r.nextHandler();return r.returnHandlerResult?n:f(n,r.done)}catch(t){throw r.done=!0,t}},return:function(){var r=e(this),o=r.iterator;if(r.done=!0,t){var a=u(o,"return");return a?n(a,o):f(void 0,!0)}if(r.inner)try{h(r.inner.iterator,"normal")}catch(t){return h(o,"throw",t)}return o&&h(o,"normal"),f(void 0,!0)}})},v=createIteratorProxyPrototype(!0),m=createIteratorProxyPrototype(!1);a(m,p,"Iterator Helper"),t.exports=function(t,e,r){var IteratorProxy=function(n,o){o?(o.iterator=n.iterator,o.next=n.next):o=n,o.type=e?y:d,o.returnHandlerResult=!!r,o.nextHandler=t,o.counter=0,o.done=!1,g(this,o)};return IteratorProxy.prototype=e?v:m,IteratorProxy}},13817:(t,e,r)=>{"use strict";r(24227),r(61440),r(83428),r(66526),r(38784),r(58275)},14223:(t,e,r)=>{"use strict";var n=r(47493),o=r(34714),a=r(36785);n({target:"Set",proto:!0,real:!0,forced:!r(58047)("intersection",(function(t){return 2===t.size&&t.has(1)&&t.has(2)}))||o((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:a})},14354:(t,e,r)=>{"use strict";var n=r(47493),o=r(92087);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==o},{trimRight:o})},14358:(t,e,r)=>{"use strict";var n=r(49753),o=r(66823),a=r(35908),i=r(8953),s=r(8594),c=n([].push);t.exports=function(t){if(a(t))return t;if(o(t)){for(var e=t.length,r=[],n=0;n<e;n++){var u=t[n];"string"==typeof u?c(r,u):"number"!=typeof u&&"Number"!==i(u)&&"String"!==i(u)||c(r,s(u))}var l=r.length,f=!0;return function(t,e){if(f)return f=!1,e;if(o(this))return e;for(var n=0;n<l;n++)if(r[n]===t)return e}}}},14374:(t,e,r)=>{"use strict";var n=r(47493),o=r(63037).right,a=r(68397),i=r(91832);n({target:"Array",proto:!0,forced:!r(99196)&&i>79&&i<83||!a("reduceRight")},{reduceRight:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},14379:(t,e,r)=>{"use strict";var n=r(30876).charAt,o=r(8594),a=r(470),i=r(45833),s=r(74520),c="String Iterator",u=a.set,l=a.getterFor(c);i(String,"String",(function(t){u(this,{type:c,string:o(t),index:0})}),(function(){var t,e=l(this),r=e.string,o=e.index;return o>=r.length?s(void 0,!0):(t=n(r,o),e.index+=t.length,s(t,!1))}))},14472:(t,e,r)=>{"use strict";var n=r(49753),o=r(34714),a=r(8953),i=Object,s=n("".split);t.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(t){return"String"===a(t)?s(t,""):i(t)}:i},14704:(t,e,r)=>{"use strict";var n=r(34714),o=r(11957).RegExp,a=n((function(){var t=o("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),i=a||n((function(){return!o("a","y").sticky})),s=a||n((function(){var t=o("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:s,MISSED_STICKY:i,UNSUPPORTED_Y:a}},14771:(t,e,r)=>{"use strict";r(9636)("unscopables")},15186:(t,e,r)=>{"use strict";var n=r(30876).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},15267:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(49753),i=r(93645),s=r(35908),c=r(30470),u=r(78177),l=r(8594),f=r(18985),h=r(50881),p=r(89873),d=r(30338),y=r(76222),g=d("replace"),v=TypeError,m=a("".indexOf),b=a("".replace),x=a("".slice),w=Math.max;n({target:"String",proto:!0},{replaceAll:function(t,e){var r,n,a,d,_,E,T,S,k,A,I=i(this),P=0,O="";if(!c(t)){if((r=u(t))&&(n=l(i(h(t))),!~m(n,"g")))throw new v("`.replaceAll` does not allow non-global regexes");if(a=f(t,g))return o(a,t,I,e);if(y&&r)return b(l(I),t,e)}for(d=l(I),_=l(t),(E=s(e))||(e=l(e)),T=_.length,S=w(1,T),k=m(d,_);-1!==k;)A=E?l(e(_,k,d)):p(_,d,k,[],void 0,e),O+=x(d,P,k)+A,P=k+T,k=k+S>d.length?-1:m(d,_,k+S);return P<d.length&&(O+=x(d,P)),O}})},15507:(t,e,r)=>{"use strict";var n=r(47493),o=r(42101);n({target:"String",proto:!0,forced:r(21390)("sub")},{sub:function(){return o(this,"sub","","")}})},15868:(t,e,r)=>{"use strict";var n=r(11957),o=r(35908);t.exports=function(t,e){return arguments.length<2?(r=n[t],o(r)?r:void 0):n[t]&&n[t][e];var r}},15904:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(93645),i=r(67088),s=r(8594),c=o("".slice),u=Math.max,l=Math.min;n({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(t,e){var r,n,o=s(a(this)),f=o.length,h=i(t);return h===1/0&&(h=0),h<0&&(h=u(f+h,0)),(r=void 0===e?f:i(e))<=0||r===1/0||h>=(n=l(h+r,f))?"":c(o,h,n)}})},16075:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(87854),i=r(34008),s="WebAssembly",c=o[s],u=7!==new Error("e",{cause:7}).cause,exportGlobalErrorCauseWrapper=function(t,e){var r={};r[t]=i(t,e,u),n({global:!0,constructor:!0,arity:1,forced:u},r)},exportWebAssemblyErrorCauseWrapper=function(t,e){if(c&&c[t]){var r={};r[t]=i(s+"."+t,e,u),n({target:s,stat:!0,constructor:!0,arity:1,forced:u},r)}};exportGlobalErrorCauseWrapper("Error",(function(t){return function(e){return a(t,this,arguments)}})),exportGlobalErrorCauseWrapper("EvalError",(function(t){return function(e){return a(t,this,arguments)}})),exportGlobalErrorCauseWrapper("RangeError",(function(t){return function(e){return a(t,this,arguments)}})),exportGlobalErrorCauseWrapper("ReferenceError",(function(t){return function(e){return a(t,this,arguments)}})),exportGlobalErrorCauseWrapper("SyntaxError",(function(t){return function(e){return a(t,this,arguments)}})),exportGlobalErrorCauseWrapper("TypeError",(function(t){return function(e){return a(t,this,arguments)}})),exportGlobalErrorCauseWrapper("URIError",(function(t){return function(e){return a(t,this,arguments)}})),exportWebAssemblyErrorCauseWrapper("CompileError",(function(t){return function(e){return a(t,this,arguments)}})),exportWebAssemblyErrorCauseWrapper("LinkError",(function(t){return function(e){return a(t,this,arguments)}})),exportWebAssemblyErrorCauseWrapper("RuntimeError",(function(t){return function(e){return a(t,this,arguments)}}))},16241:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(34714),i=r(27217),s=o(1..toPrecision);n({target:"Number",proto:!0,forced:a((function(){return"1"!==s(1,void 0)}))||!a((function(){s({})}))},{toPrecision:function(t){return void 0===t?s(i(this)):s(i(this),t)}})},16330:(t,e,r)=>{"use strict";var n=r(30338),o=r(468),a=n("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||i[a]===t)}},16344:(t,e,r)=>{"use strict";var n=r(70095),o=r(34714),a=r(46489),i=n.aTypedArray,s=n.getTypedArrayConstructor;(0,n.exportTypedArrayMethod)("slice",(function(t,e){for(var r=a(i(this),t,e),n=s(this),o=0,c=r.length,u=new n(c);c>o;)u[o]=r[o++];return u}),o((function(){new Int8Array(1).slice()})))},16695:(t,e,r)=>{"use strict";var n=r(38789),o=r(47898),a=Function.prototype,i=n&&Object.getOwnPropertyDescriptor,s=o(a,"name"),c=s&&"something"===function(){}.name,u=s&&(!n||n&&i(a,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},16825:(t,e,r)=>{"use strict";r(14354);var n=r(47493),o=r(92087);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==o},{trimEnd:o})},17033:(t,e,r)=>{"use strict";var n={};n[r(30338)("toStringTag")]="z",t.exports="[object z]"===String(n)},17289:(t,e,r)=>{"use strict";var n=r(96746),o=r(97822),a=TypeError;t.exports=function(t){if(n(t))return t;throw new a(o(t)+" is not a constructor")}},17333:(t,e,r)=>{"use strict";r(19346)("Uint32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},17412:t=>{"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},17726:(t,e,r)=>{"use strict";r(41224)},18360:(t,e,r)=>{"use strict";var n=r(15868),o=r(9636),a=r(31042);o("toStringTag"),a(n("Symbol"),"Symbol")},18405:(t,e,r)=>{"use strict";var n=r(34714),o=r(30338),a=r(38789),i=r(76222),s=o("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach((function(t,r){e["delete"]("b"),n+=r+t})),r["delete"]("a",2),r["delete"]("b",void 0),i&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(i||!a)||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==n||"x"!==new URL("https://x",void 0).host}))},18491:(t,e,r)=>{"use strict";r(9636)("isConcatSpreadable")},18796:(t,e,r)=>{"use strict";var n=r(70095),o=r(24030).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0)}))},18985:(t,e,r)=>{"use strict";var n=r(53129),o=r(30470);t.exports=function(t,e){var r=t[e];return o(r)?void 0:n(r)}},19346:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(33120),i=r(38789),s=r(66772),c=r(70095),u=r(25249),l=r(98454),f=r(42251),h=r(48864),p=r(54488),d=r(79203),y=r(30555),g=r(95304),v=r(5924),m=r(92512),b=r(47898),x=r(33382),w=r(55431),_=r(65496),E=r(79969),T=r(39130),S=r(69878),k=r(29445).f,A=r(53780),I=r(42560).forEach,P=r(28900),O=r(37869),L=r(93418),R=r(33264),C=r(76655),N=r(470),M=r(64590),G=N.get,j=N.set,D=N.enforce,H=L.f,U=R.f,W=o.RangeError,B=u.ArrayBuffer,z=B.prototype,Y=u.DataView,$=c.NATIVE_ARRAY_BUFFER_VIEWS,V=c.TYPED_ARRAY_TAG,X=c.TypedArray,q=c.TypedArrayPrototype,K=c.isTypedArray,J="BYTES_PER_ELEMENT",Z="Wrong length",addGetter=function(t,e){O(t,e,{configurable:!0,get:function(){return G(this)[e]}})},isArrayBuffer=function(t){var e;return T(z,t)||"ArrayBuffer"===(e=x(t))||"SharedArrayBuffer"===e},isTypedArrayIndex=function(t,e){return K(t)&&!_(e)&&e in t&&p(+e)&&e>=0},wrappedGetOwnPropertyDescriptor=function(t,e){return e=m(e),isTypedArrayIndex(t,e)?f(2,t[e]):U(t,e)},wrappedDefineProperty=function(t,e,r){return e=m(e),!(isTypedArrayIndex(t,e)&&w(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?H(t,e,r):(t[e]=r.value,t)};i?($||(R.f=wrappedGetOwnPropertyDescriptor,L.f=wrappedDefineProperty,addGetter(q,"buffer"),addGetter(q,"byteOffset"),addGetter(q,"byteLength"),addGetter(q,"length")),n({target:"Object",stat:!0,forced:!$},{getOwnPropertyDescriptor:wrappedGetOwnPropertyDescriptor,defineProperty:wrappedDefineProperty}),t.exports=function(t,e,r){var i=t.match(/\d+/)[0]/8,c=t+(r?"Clamped":"")+"Array",u="get"+t,f="set"+t,p=o[c],m=p,b=m&&m.prototype,x={},addElement=function(t,e){H(t,e,{get:function(){return function(t,e){var r=G(t);return r.view[u](e*i+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var o=G(t);o.view[f](e*i+o.byteOffset,r?v(n):n,!0)}(this,e,t)},enumerable:!0})};$?s&&(m=e((function(t,e,r,n){return l(t,b),M(w(e)?isArrayBuffer(e)?void 0!==n?new p(e,g(r,i),n):void 0!==r?new p(e,g(r,i)):new p(e):K(e)?C(m,e):a(A,m,e):new p(y(e)),t,m)})),S&&S(m,X),I(k(p),(function(t){t in m||h(m,t,p[t])})),m.prototype=b):(m=e((function(t,e,r,n){l(t,b);var o,s,c,u=0,f=0;if(w(e)){if(!isArrayBuffer(e))return K(e)?C(m,e):a(A,m,e);o=e,f=g(r,i);var h=e.byteLength;if(void 0===n){if(h%i)throw new W(Z);if((s=h-f)<0)throw new W(Z)}else if((s=d(n)*i)+f>h)throw new W(Z);c=s/i}else c=y(e),o=new B(s=c*i);for(j(t,{buffer:o,byteOffset:f,byteLength:s,length:c,view:new Y(o)});u<c;)addElement(t,u++)})),S&&S(m,X),b=m.prototype=E(q)),b.constructor!==m&&h(b,"constructor",m),D(b).TypedArrayConstructor=m,V&&h(b,V,c);var _=m!==p;x[c]=m,n({global:!0,constructor:!0,forced:_,sham:!$},x),J in m||h(m,J,i),J in b||h(b,J,i),P(c)}):t.exports=function(){}},19518:(t,e,r)=>{"use strict";r(19346)("Int32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},19634:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(53129),i=r(26402),s=r(42170),c=r(13539),u=r(84356),l=r(76222),f=c((function(){for(var t,e,r=this.iterator,n=this.predicate,a=this.next;1;){if(t=i(o(a,r)),this.done=!!t.done)return;if(e=t.value,u(r,n,[e,this.counter++],!0))return e}}));n({target:"Iterator",proto:!0,real:!0,forced:l},{filter:function(t){return i(this),a(t),new f(s(this),{predicate:t})}})},19645:(t,e,r)=>{"use strict";var n,o=r(47493),a=r(38243),i=r(33264).f,s=r(79203),c=r(8594),u=r(12892),l=r(93645),f=r(30177),h=r(76222),p=a("".slice),d=Math.min,y=f("startsWith");o({target:"String",proto:!0,forced:!!(h||y||(n=i(String.prototype,"startsWith"),!n||n.writable))&&!y},{startsWith:function(t){var e=c(l(this));u(t);var r=s(d(arguments.length>1?arguments[1]:void 0,e.length)),n=c(t);return p(e,r,r+n.length)===n}})},20077:(t,e,r)=>{"use strict";var n=r(47493),o=r(24030).findLast,a=r(32250);n({target:"Array",proto:!0},{findLast:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a("findLast")},20385:(t,e,r)=>{"use strict";var n=r(83509);t.exports=function(t,e){for(var r=n(t),o=new e(r),a=0;a<r;a++)o[a]=t[r-a-1];return o}},20658:(t,e,r)=>{"use strict";var n=r(8594);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},20737:(t,e,r)=>{"use strict";var n=r(70095),o=r(66772),a=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,r=new(a(this))(e);e>t;)r[t]=arguments[t++];return r}),o)},20755:(t,e,r)=>{"use strict";var n=r(70095).exportTypedArrayMethod,o=r(34714),a=r(11957),i=r(49753),s=a.Uint8Array,c=s&&s.prototype||{},u=[].toString,l=i([].join);o((function(){u.call({})}))&&(u=function(){return l(this)});var f=c.toString!==u;n("toString",u,f)},20904:(t,e,r)=>{"use strict";var n=r(11957);t.exports=n},21390:(t,e,r)=>{"use strict";var n=r(34714);t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},21440:(t,e,r)=>{"use strict";var n=r(47493),o=r(55431),a=r(78894).onFreeze,i=r(1063),s=r(34714),c=Object.preventExtensions;n({target:"Object",stat:!0,forced:s((function(){c(1)})),sham:!i},{preventExtensions:function(t){return c&&o(t)?c(a(t)):t}})},21449:(t,e,r)=>{"use strict";var n=r(47493),o=r(76222),a=r(38789),i=r(11957),s=r(20904),c=r(49753),u=r(35137),l=r(47898),f=r(64590),h=r(39130),p=r(65496),d=r(70730),y=r(34714),g=r(29445).f,v=r(33264).f,m=r(93418).f,b=r(27217),x=r(47227).trim,w="Number",_=i[w],E=s[w],T=_.prototype,S=i.TypeError,k=c("".slice),A=c("".charCodeAt),toNumber=function(t){var e,r,n,o,a,i,s,c,u=d(t,"number");if(p(u))throw new S("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=x(u),43===(e=A(u,0))||45===e){if(88===(r=A(u,2))||120===r)return NaN}else if(48===e){switch(A(u,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+u}for(i=(a=k(u,2)).length,s=0;s<i;s++)if((c=A(a,s))<48||c>o)return NaN;return parseInt(a,n)}return+u},I=u(w,!_(" 0o1")||!_("0b1")||_("+0x1")),NumberWrapper=function(t){var e,r=arguments.length<1?0:_(function(t){var e=d(t,"number");return"bigint"==typeof e?e:toNumber(e)}(t));return h(T,e=this)&&y((function(){b(e)}))?f(Object(r),this,NumberWrapper):r};NumberWrapper.prototype=T,I&&!o&&(T.constructor=NumberWrapper),n({global:!0,constructor:!0,wrap:!0,forced:I},{Number:NumberWrapper});var copyConstructorProperties=function(t,e){for(var r,n=a?g(e):("MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,"+"EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,"+"fromString,range").split(","),o=0;n.length>o;o++)l(e,r=n[o])&&!l(t,r)&&m(t,r,v(e,r))};o&&E&&copyConstructorProperties(s[w],E),(I||o)&&copyConstructorProperties(s[w],_)},21721:(t,e,r)=>{"use strict";var n=r(87016);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},22488:(t,e,r)=>{"use strict";var n=r(70095),o=r(42560).map,a=n.aTypedArray,i=n.getTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(i(t))(e)}))}))},22918:(t,e,r)=>{"use strict";var n=r(1172).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},22950:(t,e,r)=>{"use strict";var n=r(47493),o=r(34714),a=r(85140),i=r(70730);n({target:"Date",proto:!0,arity:1,forced:o((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=a(this),r=i(e,"number");return"number"!=typeof r||isFinite(r)?e.toISOString():null}})},23025:(t,e,r)=>{"use strict";var n=r(74835).has;t.exports=function(t){return n(t),t}},23084:t=>{"use strict";var e=TypeError;t.exports=function(t){if("string"==typeof t)return t;throw new e("Argument is not a string")}},23121:t=>{"use strict";t.exports="\t\n\v\f\r      "+"          　\u2028\u2029\ufeff"},23238:(t,e,r)=>{"use strict";r(31042)(Math,"Math",!0)},23433:(t,e,r)=>{"use strict";var n=r(47493),o=r(42101);n({target:"String",proto:!0,forced:r(21390)("fontsize")},{fontsize:function(t){return o(this,"font","size",t)}})},23542:(t,e,r)=>{"use strict";var n=r(47493),o=r(85140),a=r(83509),i=r(4232),s=r(74753),c=r(27114);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}()},{unshift:function(t){var e=o(this),r=a(e),n=arguments.length;if(n){c(r+n);for(var u=r;u--;){var l=u+n;u in e?e[l]=e[u]:s(e,l)}for(var f=0;f<n;f++)e[f]=arguments[f]}return i(e,r+n)}})},23638:(t,e,r)=>{"use strict";var n=r(47493),o=r(38789),a=r(26402),i=r(33264);n({target:"Reflect",stat:!0,sham:!o},{getOwnPropertyDescriptor:function(t,e){return i.f(a(t),e)}})},24030:(t,e,r)=>{"use strict";var n=r(44117),o=r(14472),a=r(85140),i=r(83509),createMethod=function(t){var e=1===t;return function(r,s,c){for(var u,l=a(r),f=o(l),h=i(f),p=n(s,c);h-- >0;)if(p(u=f[h],h,l))switch(t){case 0:return u;case 1:return h}return e?-1:void 0}};t.exports={findLast:createMethod(0),findLastIndex:createMethod(1)}},24227:(t,e,r)=>{"use strict";var n,o,a,i,s=r(47493),c=r(76222),u=r(99196),l=r(11957),f=r(33120),h=r(50701),p=r(69878),d=r(31042),y=r(28900),g=r(53129),v=r(35908),m=r(55431),b=r(98454),x=r(95588),w=r(1786).set,_=r(58550),E=r(28546),T=r(56850),S=r(80240),k=r(470),A=r(86781),I=r(65949),P=r(68236),O="Promise",L=I.CONSTRUCTOR,R=I.REJECTION_EVENT,C=I.SUBCLASSING,N=k.getterFor(O),M=k.set,G=A&&A.prototype,j=A,D=G,H=l.TypeError,U=l.document,W=l.process,B=P.f,z=B,Y=!!(U&&U.createEvent&&l.dispatchEvent),$="unhandledrejection",V="rejectionhandled",X=0,q=1,K=2,J=1,Z=2,isThenable=function(t){var e;return!(!m(t)||!v(e=t.then))&&e},callReaction=function(t,e){var r,n,o,a=e.value,i=e.state===q,s=i?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(i||(e.rejection===Z&&onHandleUnhandled(e),e.rejection=J),!0===s?r=a:(l&&l.enter(),r=s(a),l&&(l.exit(),o=!0)),r===t.promise?u(new H("Promise-chain cycle")):(n=isThenable(r))?f(n,r,c,u):c(r)):u(a)}catch(t){l&&!o&&l.exit(),u(t)}},notify=function(t,e){t.notified||(t.notified=!0,_((function(){for(var r,n=t.reactions;r=n.get();)callReaction(r,t);t.notified=!1,e&&!t.rejection&&onUnhandled(t)})))},dispatchEvent=function(t,e,r){var n,o;Y?((n=U.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),l.dispatchEvent(n)):n={promise:e,reason:r},!R&&(o=l["on"+t])?o(n):t===$&&E("Unhandled promise rejection",r)},onUnhandled=function(t){f(w,l,(function(){var e,r=t.facade,n=t.value;if(isUnhandled(t)&&(e=T((function(){u?W.emit("unhandledRejection",n,r):dispatchEvent($,r,n)})),t.rejection=u||isUnhandled(t)?Z:J,e.error))throw e.value}))},isUnhandled=function(t){return t.rejection!==J&&!t.parent},onHandleUnhandled=function(t){f(w,l,(function(){var e=t.facade;u?W.emit("rejectionHandled",e):dispatchEvent(V,e,t.value)}))},bind=function(t,e,r){return function(n){t(e,n,r)}},internalReject=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=K,notify(t,!0))},internalResolve=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new H("Promise can't be resolved itself");var n=isThenable(e);n?_((function(){var r={done:!1};try{f(n,e,bind(internalResolve,r,t),bind(internalReject,r,t))}catch(e){internalReject(r,e,t)}})):(t.value=e,t.state=q,notify(t,!1))}catch(e){internalReject({done:!1},e,t)}}};if(L&&(D=(j=function(t){b(this,D),g(t),f(n,this);var e=N(this);try{t(bind(internalResolve,e),bind(internalReject,e))}catch(t){internalReject(e,t)}}).prototype,(n=function(t){M(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:X,value:null})}).prototype=h(D,"then",(function(t,e){var r=N(this),n=B(x(this,j));return r.parent=!0,n.ok=!v(t)||t,n.fail=v(e)&&e,n.domain=u?W.domain:void 0,r.state===X?r.reactions.add(n):_((function(){callReaction(n,r)})),n.promise})),o=function(){var t=new n,e=N(t);this.promise=t,this.resolve=bind(internalResolve,e),this.reject=bind(internalReject,e)},P.f=B=function(t){return t===j||t===a?new o(t):z(t)},!c&&v(A)&&G!==Object.prototype)){i=G.then,C||h(G,"then",(function(t,e){var r=this;return new j((function(t,e){f(i,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete G.constructor}catch(t){}p&&p(G,D)}s({global:!0,constructor:!0,wrap:!0,forced:L},{Promise:j}),d(j,O,!1,!0),y(O)},24269:(t,e,r)=>{"use strict";var n=r(49753),o=r(70095),a=n(r(93768)),i=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",(function(t,e){return a(i(this),t,e,arguments.length>2?arguments[2]:void 0)}))},24272:(t,e,r)=>{"use strict";r(93214)},24403:(t,e,r)=>{"use strict";r(32250)("flat")},24518:t=>{"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},24817:(t,e,r)=>{"use strict";var n=r(38789),o=r(11957),a=r(49753),i=r(35137),s=r(64590),c=r(48864),u=r(79969),l=r(29445).f,f=r(39130),h=r(78177),p=r(8594),d=r(50881),y=r(14704),g=r(56287),v=r(50701),m=r(34714),b=r(47898),x=r(470).enforce,w=r(28900),_=r(30338),E=r(10732),T=r(82281),S=_("match"),k=o.RegExp,A=k.prototype,I=o.SyntaxError,P=a(A.exec),O=a("".charAt),L=a("".replace),R=a("".indexOf),C=a("".slice),N=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,G=/a/g,j=new k(M)!==M,D=y.MISSED_STICKY,H=y.UNSUPPORTED_Y,U=n&&(!j||D||E||T||m((function(){return G[S]=!1,k(M)!==M||k(G)===G||"/a/i"!==String(k(M,"i"))})));if(i("RegExp",U)){for(var RegExpWrapper=function(t,e){var r,n,o,a,i,l,y=f(A,this),g=h(t),v=void 0===e,m=[],w=t;if(!y&&g&&v&&t.constructor===RegExpWrapper)return t;if((g||f(A,t))&&(t=t.source,v&&(e=d(w))),t=void 0===t?"":p(t),e=void 0===e?"":p(e),w=t,E&&"dotAll"in M&&(n=!!e&&R(e,"s")>-1)&&(e=L(e,/s/g,"")),r=e,D&&"sticky"in M&&(o=!!e&&R(e,"y")>-1)&&H&&(e=L(e,/y/g,"")),T&&(a=function(t){for(var e,r=t.length,n=0,o="",a=[],i=u(null),s=!1,c=!1,l=0,f="";n<=r;n++){if("\\"===(e=O(t,n)))e+=O(t,++n);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:if(o+=e,"?:"===C(t,n+1,n+3))continue;P(N,C(t,n+1))&&(n+=2,c=!0),l++;continue;case">"===e&&c:if(""===f||b(i,f))throw new I("Invalid capture group name");i[f]=!0,a[a.length]=[f,l],c=!1,f="";continue}c?f+=e:o+=e}return[o,a]}(t),t=a[0],m=a[1]),i=s(k(t,e),y?this:A,RegExpWrapper),(n||o||m.length)&&(l=x(i),n&&(l.dotAll=!0,l.raw=RegExpWrapper(function(t){for(var e,r=t.length,n=0,o="",a=!1;n<=r;n++)"\\"!==(e=O(t,n))?a||"."!==e?("["===e?a=!0:"]"===e&&(a=!1),o+=e):o+="[\\s\\S]":o+=e+O(t,++n);return o}(t),r)),o&&(l.sticky=!0),m.length&&(l.groups=m)),t!==w)try{c(i,"source",""===w?"(?:)":w)}catch(t){}return i},W=l(k),B=0;W.length>B;)g(RegExpWrapper,k,W[B++]);A.constructor=RegExpWrapper,RegExpWrapper.prototype=A,v(o,"RegExp",RegExpWrapper,{constructor:!0})}w("RegExp")},24873:(t,e,r)=>{"use strict";var n=r(55431),o=r(48864);t.exports=function(t,e){n(e)&&"cause"in e&&o(t,"cause",e.cause)}},24897:(t,e,r)=>{"use strict";var n=r(16695).PROPER,o=r(34714),a=r(23121),i="​᠎";t.exports=function(t){return o((function(){return!!a[t]()||i[t]()!==i||n&&a[t].name!==t}))}},25113:(t,e,r)=>{"use strict";var n=r(87016);t.exports=n&&!!Symbol["for"]&&!!Symbol.keyFor},25249:(t,e,r)=>{"use strict";var n=r(11957),o=r(49753),a=r(38789),i=r(17412),s=r(16695),c=r(48864),u=r(37869),l=r(46376),f=r(34714),h=r(98454),p=r(67088),d=r(79203),y=r(30555),g=r(85836),v=r(97583),m=r(47746),b=r(69878),x=r(90350),w=r(46489),_=r(64590),E=r(48313),T=r(31042),S=r(470),k=s.PROPER,A=s.CONFIGURABLE,I="ArrayBuffer",P="DataView",O="prototype",L="Wrong length",R="Wrong index",C=S.getterFor(I),N=S.getterFor(P),M=S.set,G=n[I],j=G,D=j&&j[O],H=n[P],U=H&&H[O],W=Object.prototype,B=n.Array,z=n.RangeError,Y=o(x),$=o([].reverse),V=v.pack,X=v.unpack,packInt8=function(t){return[255&t]},packInt16=function(t){return[255&t,t>>8&255]},packInt32=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},unpackInt32=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},packFloat32=function(t){return V(g(t),23,4)},packFloat64=function(t){return V(t,52,8)},addGetter=function(t,e,r){u(t[O],e,{configurable:!0,get:function(){return r(this)[e]}})},get=function(t,e,r,n){var o=N(t),a=y(r),i=!!n;if(a+e>o.byteLength)throw new z(R);var s=o.bytes,c=a+o.byteOffset,u=w(s,c,c+e);return i?u:$(u)},set=function(t,e,r,n,o,a){var i=N(t),s=y(r),c=n(+o),u=!!a;if(s+e>i.byteLength)throw new z(R);for(var l=i.bytes,f=s+i.byteOffset,h=0;h<e;h++)l[f+h]=c[u?h:e-h-1]};if(i){var q=k&&G.name!==I;f((function(){G(1)}))&&f((function(){new G(-1)}))&&!f((function(){return new G,new G(1.5),new G(NaN),1!==G.length||q&&!A}))?q&&A&&c(G,"name",I):((j=function(t){return h(this,D),_(new G(y(t)),this,j)})[O]=D,D.constructor=j,E(j,G)),b&&m(U)!==W&&b(U,W);var K=new H(new j(2)),J=o(U.setInt8);K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||l(U,{setInt8:function(t,e){J(this,t,e<<24>>24)},setUint8:function(t,e){J(this,t,e<<24>>24)}},{unsafe:!0})}else D=(j=function(t){h(this,D);var e=y(t);M(this,{type:I,bytes:Y(B(e),0),byteLength:e}),a||(this.byteLength=e,this.detached=!1)})[O],U=(H=function(t,e,r){h(this,U),h(t,D);var n=C(t),o=n.byteLength,i=p(e);if(i<0||i>o)throw new z("Wrong offset");if(i+(r=void 0===r?o-i:d(r))>o)throw new z(L);M(this,{type:P,buffer:t,byteLength:r,byteOffset:i,bytes:n.bytes}),a||(this.buffer=t,this.byteLength=r,this.byteOffset=i)})[O],a&&(addGetter(j,"byteLength",C),addGetter(H,"buffer",N),addGetter(H,"byteLength",N),addGetter(H,"byteOffset",N)),l(U,{getInt8:function(t){return get(this,1,t)[0]<<24>>24},getUint8:function(t){return get(this,1,t)[0]},getInt16:function(t){var e=get(this,2,t,arguments.length>1&&arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=get(this,2,t,arguments.length>1&&arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return unpackInt32(get(this,4,t,arguments.length>1&&arguments[1]))},getUint32:function(t){return unpackInt32(get(this,4,t,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(t){return X(get(this,4,t,arguments.length>1&&arguments[1]),23)},getFloat64:function(t){return X(get(this,8,t,arguments.length>1&&arguments[1]),52)},setInt8:function(t,e){set(this,1,t,packInt8,e)},setUint8:function(t,e){set(this,1,t,packInt8,e)},setInt16:function(t,e){set(this,2,t,packInt16,e,arguments.length>2&&arguments[2])},setUint16:function(t,e){set(this,2,t,packInt16,e,arguments.length>2&&arguments[2])},setInt32:function(t,e){set(this,4,t,packInt32,e,arguments.length>2&&arguments[2])},setUint32:function(t,e){set(this,4,t,packInt32,e,arguments.length>2&&arguments[2])},setFloat32:function(t,e){set(this,4,t,packFloat32,e,arguments.length>2&&arguments[2])},setFloat64:function(t,e){set(this,8,t,packFloat64,e,arguments.length>2&&arguments[2])}});T(j,I),T(H,P),t.exports={ArrayBuffer:j,DataView:H}},25385:(t,e,r)=>{"use strict";var n=r(70095),o=r(83509),a=r(67088),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(t){var e=i(this),r=o(e),n=a(t),s=n>=0?n:r+n;return s<0||s>=r?void 0:e[s]}))},25856:(t,e,r)=>{"use strict";var n=r(47493),o=r(24030).findLastIndex,a=r(32250);n({target:"Array",proto:!0},{findLastIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a("findLastIndex")},26296:(t,e,r)=>{"use strict";r(32250)("flatMap")},26402:(t,e,r)=>{"use strict";var n=r(55431),o=String,a=TypeError;t.exports=function(t){if(n(t))return t;throw new a(o(t)+" is not an object")}},26476:t=>{"use strict";t.exports={}},26575:(t,e,r)=>{"use strict";var n=r(47493),o=r(90292).entries;n({target:"Object",stat:!0},{entries:function(t){return o(t)}})},26772:(t,e,r)=>{"use strict";var n=r(47493),o=r(34714),a=r(55431),i=r(8953),s=r(27669),c=Object.isSealed;n({target:"Object",stat:!0,forced:s||o((function(){c(1)}))},{isSealed:function(t){return!a(t)||(!(!s||"ArrayBuffer"!==i(t))||!!c&&c(t))}})},26964:(t,e,r)=>{"use strict";var n=r(47493),o=r(76222),a=r(86781),i=r(34714),s=r(15868),c=r(35908),u=r(95588),l=r(95835),f=r(50701),h=a&&a.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&i((function(){h["finally"].call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,s("Promise")),r=c(t);return this.then(r?function(r){return l(e,t()).then((function(){return r}))}:t,r?function(r){return l(e,t()).then((function(){throw r}))}:t)}}),!o&&c(a)){var p=s("Promise").prototype["finally"];h["finally"]!==p&&f(h,"finally",p,{unsafe:!0})}},27114:t=>{"use strict";var e=TypeError,r=9007199254740991;t.exports=function(t){if(t>r)throw e("Maximum allowed index exceeded");return t}},27217:(t,e,r)=>{"use strict";var n=r(49753);t.exports=n(1..valueOf)},27332:(t,e,r)=>{"use strict";var n=r(63675),o=r.n(n);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=function(t,e){if("object"!=_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_typeof(e)?e:e+""}var a=_createClass((function ErrorTypes(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ErrorTypes)}));_defineProperty(a,"API","API"),_defineProperty(a,"HTTP_ERROR","HTTP_ERROR"),_defineProperty(a,"NETWORK_ERROR","NETWORK_ERROR"),_defineProperty(a,"API_RESPONSE_INVALID","API_RESPONSE_INVALID"),_defineProperty(a,"SERVICE","SERVICE"),_defineProperty(a,"VALIDATION","VALIDATION"),_defineProperty(a,"TAB_AVAILABILITY","TAB"),_defineProperty(a,"CONTEXT","CONTEXT"),_defineProperty(a,"UI","UI"),_defineProperty(a,"INTEGRATION","INTEGRATION"),_defineProperty(a,"UNKNOWN","UNKNOWN"),_defineProperty(a,"PROMPT_INVALID","PROMPT_INVALID"),_defineProperty(a,"TEXT_EMPTY","TEXT_EMPTY"),_defineProperty(a,"TEXT_TOO_LONG","TEXT_TOO_LONG"),_defineProperty(a,"TRANSLATION_NOT_FOUND","TRANSLATION_NOT_FOUND"),_defineProperty(a,"TRANSLATION_FAILED","TRANSLATION_FAILED"),_defineProperty(a,"API_KEY_MISSING","API_KEY_MISSING"),_defineProperty(a,"API_KEY_INVALID","API_KEY_INVALID"),_defineProperty(a,"API_URL_MISSING","API_URL_MISSING"),_defineProperty(a,"MODEL_MISSING","MODEL_MISSING"),_defineProperty(a,"MODEL_OVERLOADED","MODEL_OVERLOADED"),_defineProperty(a,"QUOTA_EXCEEDED","QUOTA_EXCEEDED"),_defineProperty(a,"GEMINI_QUOTA_REGION","GEMINI_QUOTA_REGION");var i=[{name:"English",voiceCode:"en-US",promptName:"English",code:"en",locale:"en",flag:"🇬🇧"},{name:"Farsi",voiceCode:"fa-IR",promptName:"Farsi",code:"fa",locale:"fa",flag:"🇮🇷"},{name:"German",voiceCode:"de-DE",promptName:"German",code:"de"},{name:"French",voiceCode:"fr-FR",promptName:"French",code:"fr"},{name:"Chinese (Simplified)",voiceCode:"zh-CN",promptName:"Chinese (Simplified)",code:"zh"},{name:"Spanish",voiceCode:"es-ES",promptName:"Spanish",code:"es"},{name:"Hindi",voiceCode:"hi-IN",promptName:"Hindi",code:"hi"},{name:"Arabic",voiceCode:"ar-SA",promptName:"Arabic",code:"ar"},{name:"Bengali",voiceCode:"bn-BD",promptName:"Bengali",code:"bn"},{name:"Portuguese",voiceCode:"pt-PT",promptName:"Portuguese",code:"pt"},{name:"Russian",voiceCode:"ru-RU",promptName:"Russian",code:"ru"},{name:"Japanese",voiceCode:"ja-JP",promptName:"Japanese",code:"ja"},{name:"Urdu",voiceCode:"ur-PK",promptName:"Urdu",code:"ur"},{name:"Indonesian",voiceCode:"id-ID",promptName:"Indonesian",code:"id"},{name:"Italian",voiceCode:"it-IT",promptName:"Italian",code:"it"},{name:"Swahili",voiceCode:"sw-KE",promptName:"Swahili",code:"sw"},{name:"Marathi",voiceCode:"mr-IN",promptName:"Marathi",code:"mr"},{name:"Telugu",voiceCode:"te-IN",promptName:"Telugu",code:"te"},{name:"Tamil",voiceCode:"ta-IN",promptName:"Tamil",code:"ta"},{name:"Turkish",voiceCode:"tr-TR",promptName:"Turkish",code:"tr"},{name:"Vietnamese",voiceCode:"vi-VN",promptName:"Vietnamese",code:"vi"},{name:"Korean",voiceCode:"ko-KR",promptName:"Korean",code:"ko"},{name:"Thai",voiceCode:"th-TH",promptName:"Thai",code:"th"},{name:"Malay",voiceCode:"ms-MY",promptName:"Malay",code:"ms"},{name:"Polish",voiceCode:"pl-PL",promptName:"Polish",code:"pl"},{name:"Dutch",voiceCode:"nl-NL",promptName:"Dutch",code:"nl"},{name:"Filipino",voiceCode:"fil-PH",promptName:"Filipino",code:"fi"},{name:"Ukrainian",voiceCode:"uk-UA",promptName:"Ukrainian",code:"uk"},{name:"Romanian",voiceCode:"ro-RO",promptName:"Romanian",code:"ro"},{name:"Greek",voiceCode:"el-GR",promptName:"Greek",code:"el"},{name:"Czech",voiceCode:"cs-CZ",promptName:"Czech",code:"cs"},{name:"Hungarian",voiceCode:"hu-HU",promptName:"Hungarian",code:"hu"},{name:"Swedish",voiceCode:"sv-SE",promptName:"Swedish",code:"sv"},{name:"Norwegian",voiceCode:"no-NO",promptName:"Norwegian",code:"no"},{name:"Danish",voiceCode:"da-DK",promptName:"Danish",code:"da"},{name:"Finnish",voiceCode:"fi-FI",promptName:"Finnish",code:"fi"},{name:"Hebrew",voiceCode:"he-IL",promptName:"Hebrew",code:"he"},{name:"Afrikaans",voiceCode:"af-ZA",promptName:"Afrikaans",code:"af"},{name:"Albanian",voiceCode:"sq-AL",promptName:"Albanian",code:"sq"},{name:"Bulgarian",voiceCode:"bg-BG",promptName:"Bulgarian",code:"bg"},{name:"Catalan",voiceCode:"ca-ES",promptName:"Catalan",code:"ca"},{name:"Croatian",voiceCode:"hr-HR",promptName:"Croatian",code:"hr"},{name:"Estonian",voiceCode:"et-EE",promptName:"Estonian",code:"et"},{name:"Latvian",voiceCode:"lv-LV",promptName:"Latvian",code:"lv"},{name:"Lithuanian",voiceCode:"lt-LT",promptName:"Lithuanian",code:"lt"},{name:"Slovak",voiceCode:"sk-SK",promptName:"Slovak",code:"sk"},{name:"Slovenian",voiceCode:"sl-SI",promptName:"Slovenian",code:"sl"},{name:"Serbian",voiceCode:"sr-RS",promptName:"Serbian",code:"sr"},{name:"Malayalam",voiceCode:"ml-IN",promptName:"Malayalam",code:"ml"},{name:"Kannada",voiceCode:"kn-IN",promptName:"Kannada",code:"kn"},{name:"Odia",voiceCode:"or-IN",promptName:"Odia",code:"or"},{name:"Punjabi",voiceCode:"pa-IN",promptName:"Punjabi",code:"pa"},{name:"Sinhala",voiceCode:"si-LK",promptName:"Sinhala",code:"si"},{name:"Nepali",voiceCode:"ne-NP",promptName:"Nepali",code:"ne"},{name:"Azerbaijani",voiceCode:"az-AZ",promptName:"Azerbaijani",code:"az"},{name:"Belarusian",voiceCode:"be-BY",promptName:"Belarusian",code:"be"},{name:"Kazakh",voiceCode:"kk-KZ",promptName:"Kazakh",code:"kk"},{name:"Uzbek",voiceCode:"uz-UZ",promptName:"Uzbek",code:"uz"},{name:"Pashto",voiceCode:"ps-AF",promptName:"Pashto",code:"ps"},{name:"Tagalog",voiceCode:"tl-PH",promptName:"Tagalog",code:"tl"},{name:"Cebuano",voiceCode:"en-US",promptName:"Cebuano",code:"en"}];var isRtlText=function(t){return S.RTL_REGEX.test(t)},correctTextDirection=function(t,e){if(t){var r=function(t){return function(t){return/[\u0600-\u06FF]/.test(t)}(t)||isRtlText(t)}(Array.isArray(e)?e.join("\n"):e),n=r?"rtl":"ltr",o=r?"right":"left";t.style?(t.style.direction=n,t.style.textAlign=o):t.setAttribute("style","direction: ".concat(n,"; text-align: ").concat(o,";")),t.setAttribute("dir",n)}};function i18n_typeof(t){return i18n_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i18n_typeof(t)}function i18n_regeneratorRuntime(){i18n_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==i18n_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(i18n_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function i18n_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function i18n_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){i18n_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){i18n_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}function parseBoolean(t){return"true"===String(t).trim().toLowerCase()}var s,c,u,l,f,h,p,d=new Map;function loadTranslationsForLanguageCached(t){return _loadTranslationsForLanguageCached.apply(this,arguments)}function _loadTranslationsForLanguageCached(){return(_loadTranslationsForLanguageCached=i18n_asyncToGenerator(i18n_regeneratorRuntime().mark((function _callee(t){var e,r,n;return i18n_regeneratorRuntime().wrap((function(a){for(;1;)switch(a.prev=a.next){case 0:if(!d.has(t)){a.next=2;break}return a.abrupt("return",d.get(t));case 2:return a.prev=2,e=o().runtime.getURL("_locales/".concat(t,"/messages.json")),a.next=6,fetch(e);case 6:if((r=a.sent).ok){a.next=9;break}return a.abrupt("return",null);case 9:return a.next=11,r.json();case 11:return n=a.sent,d.set(t,n),a.abrupt("return",n);case 16:return a.prev=16,a.t0=a["catch"](2),a.abrupt("return",null);case 19:case"end":return a.stop()}}),_callee,null,[[2,16]])})))).apply(this,arguments)}function i18n_getTranslationString(t,e){return _getTranslationString.apply(this,arguments)}function _getTranslationString(){return(_getTranslationString=i18n_asyncToGenerator(i18n_regeneratorRuntime().mark((function _callee2(t,e){var r,n,o,a,s;return i18n_regeneratorRuntime().wrap((function(c){for(;1;)switch(c.prev=c.next){case 0:if((n=e)&&2===n.length){c.next=7;break}return c.next=4,ut();case 4:o=c.sent,a=i.find((function(t){return t.name===o||t.locale===o})),n=(null==a?void 0:a.code)||(2===(null==o?void 0:o.length)?o:"en");case 7:return c.next=9,loadTranslationsForLanguageCached(n);case 9:if(!(s=c.sent)||null===(r=s[t])||void 0===r||!r.message){c.next=12;break}return c.abrupt("return",s[t].message);case 12:return c.abrupt("return",null);case 13:case"end":return c.stop()}}),_callee2)})))).apply(this,arguments)}function NotificationManager_typeof(t){return NotificationManager_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NotificationManager_typeof(t)}function NotificationManager_regeneratorRuntime(){NotificationManager_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==NotificationManager_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(NotificationManager_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function NotificationManager_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function NotificationManager_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NotificationManager_toPropertyKey(n.key),n)}}function NotificationManager_toPropertyKey(t){var e=function(t,e){if("object"!=NotificationManager_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=NotificationManager_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==NotificationManager_typeof(e)?e:e+""}var y,g={ICON_TRANSLATION:null!==(s=null==S?void 0:S.ICON_TRANSLATION)&&void 0!==s?s:"🌐",ICON_SUCCESS:null!==(c=null==S?void 0:S.ICON_SUCCESS)&&void 0!==c?c:"✅",ICON_WARNING:null!==(u=null==S?void 0:S.ICON_WARNING)&&void 0!==u?u:"⚠️",ICON_STATUS:null!==(l=null==S?void 0:S.ICON_STATUS)&&void 0!==l?l:"⏳",ICON_ERROR:null!==(f=null==S?void 0:S.ICON_ERROR)&&void 0!==f?f:"❌",ICON_INFO:null!==(h=null==S?void 0:S.ICON_INFO)&&void 0!==h?h:"🔵",ICON_REVERT:null!==(p=null==S?void 0:S.ICON_REVERT)&&void 0!==p?p:"↩️"},v=function(){return t=function NotificationManager(t){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,NotificationManager),this.errorHandler=t||{handle:function(){}},this.map={error:{title:"Translate It! - Error",icon:g.ICON_ERROR,cls:"AIWC-error",dur:5e3},warning:{title:"Translate It! - Warning",icon:g.ICON_WARNING,cls:"AIWC-warning",dur:4e3},success:{title:"Translate It! - Success",icon:g.ICON_SUCCESS,cls:"AIWC-success",dur:3e3},info:{title:"Translate It! - Info",icon:g.ICON_INFO,cls:"AIWC-info",dur:3e3},status:{title:"Translate It! - Status",icon:g.ICON_STATUS,cls:"AIWC-status",dur:2e3},revert:{title:"Translate It! - Revert",icon:g.ICON_REVERT,cls:"AIWC-revert",dur:800}},this.container=null,"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){return e._makeContainer()}),{once:!0}):this._makeContainer()),o().storage&&o().storage.onChanged&&o().storage.onChanged.addListener((function(t,r){"local"===r&&t.APPLICATION_LOCALIZE&&e._applyAlignment()}))},e=[{key:"_applyAlignment",value:(n=NotificationManager_regeneratorRuntime().mark((function _callee(){var t,e;return NotificationManager_regeneratorRuntime().wrap((function(r){for(;1;)switch(r.prev=r.next){case 0:if(this.container){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,i18n_getTranslationString("IsRTL");case 5:t=r.sent,(e=parseBoolean(t))?(this.container.style.right="20px",this.container.style.left=""):(this.container.style.left="",this.container.style.right="20px"),this.container.style.direction=e?"rtl":"ltr",this.container.style.textAlign="right",r.next=14;break;case 12:r.prev=12,r.t0=r["catch"](2);case 14:case"end":return r.stop()}}),_callee,this,[[2,12]])})),i=function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(t){NotificationManager_asyncGeneratorStep(a,r,o,_next,_throw,"next",t)}function _throw(t){NotificationManager_asyncGeneratorStep(a,r,o,_next,_throw,"throw",t)}_next(void 0)}))},function(){return i.apply(this,arguments)})},{key:"_makeContainer",value:function(){var t=null;try{var e="AIWritingCompanion-notifications";return(t=document.getElementById(e))?(this.container=t,this._applyAlignment(),t):document.body?(t=document.createElement("div"))?(t.id=e,Object.assign(t.style,{position:"fixed",top:"20px",zIndex:"2147483646",display:"flex",flexDirection:"column",gap:"10px"}),document.body.appendChild(t),this.container=t,this._applyAlignment(),t):(helpers_logME("[NotificationManager] createElement failed."),null):(helpers_logME("[NotificationManager] document.body not available."),null)}catch(e){return helpers_logME("[NotificationManager] _makeContainer error:",e),t&&t.remove&&t.remove(),null}}},{key:"show",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4?arguments[4]:void 0,i=this.map[e]||this.map.info,s=null!=n?n:i.dur;if(this.container&&document.body.contains(this.container))try{return this._toastInPage(t,i,r,s,o)}catch(t){var c,u;return null===(c=(u=this.errorHandler).handle)||void 0===c||c.call(u,t,{type:a.UI,context:"NotificationManager-show"}),null}return this._sendToActiveTab(t,e,r,s,o),null}},{key:"dismiss",value:function(t){t&&"function"==typeof t.remove&&(t.style.opacity="0",setTimeout((function(){return t.remove()}),500))}},{key:"_toastInPage",value:function(t,e,r,n,o){var a=this,i=document.createElement("div");i.className="AIWC-notification ".concat(e.cls),i.style.cssText="\n      background:#fff;color:#333;padding:10px 15px;\n      border-radius:6px;font-size:14px;border:1px solid #ddd;\n      box-shadow:0 2px 8px rgba(0,0,0,0.1);display:flex;\n      align-items:center;cursor:pointer;opacity:1;\n      transition:opacity .5s";var s=document.createElement("span");s.textContent=e.icon;var c=document.createElement("span");return c.textContent=t,i.appendChild(s),i.appendChild(c),i.addEventListener("click",(function(){try{null==o||o()}catch(t){helpers_logME(t)}a.dismiss(i)})),this.container.appendChild(i),r&&"AIWC-status"!==e.cls&&setTimeout((function(){return a.dismiss(i)}),n),i}},{key:"_sendToActiveTab",value:function(t,e,r,n,a){var i=this;return o().tabs.query({active:!0,currentWindow:!0}).then((function(a){var i;return null!=a&&null!==(i=a[0])&&void 0!==i&&i.id&&isExtensionContextValid()?o().tabs.sendMessage(a[0].id,{action:"show_notification",payload:{message:t,type:e,autoDismiss:r,duration:n}}):null})).then((function(t){if(a&&void 0!==t){var _listener=function(t){"notification_clicked"===(null==t?void 0:t.action)&&(a(),o().runtime.onMessage.removeListener(_listener))};o().runtime.onMessage.addListener(_listener)}}))["catch"]((function(){return i._osNotification(t,e,a)}))}},{key:"_osNotification",value:function(t,e,r){var n=this.map[e]||this.map.info;o().notifications.create({type:"basic",iconUrl:o().runtime.getURL("icons/extension_icon.png"),title:n.title,message:t}).then((function(t){if(r){var _click=function(e){e===t&&(r(),o().notifications.clear(t),o().notifications.onClicked.removeListener(_click))};o().notifications.onClicked.addListener(_click)}}))["catch"]((function(){}))}}],e&&NotificationManager_defineProperties(t.prototype,e),r&&NotificationManager_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,i}();function ErrorMatcher_typeof(t){return ErrorMatcher_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ErrorMatcher_typeof(t)}function matchErrorToType(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"==typeof t){var e=t.trim();if(Object.values(a).includes(e))return e}if(t&&"object"===ErrorMatcher_typeof(t)){if(t.type)return t.type;var r=t.statusCode;if("number"==typeof r&&r>=400&&r<600)return a.HTTP_ERROR}var n=String(t).toLowerCase().trim();return/\b(403|404|500|502|503|504)\b/.test(n)?a.HTTP_ERROR:n.includes("text is empty")?a.TEXT_EMPTY:n.includes("prompt is invalid")?a.PROMPT_INVALID:n.includes("text is too long")||n.includes("too long")?a.TEXT_TOO_LONG:n.includes("translation not found")?a.TRANSLATION_NOT_FOUND:n.includes("translation failed")?a.TRANSLATION_FAILED:n.includes("wrong api key")||n.includes("api key not valid")||n.includes("no auth credentials")||n.includes("incorrect api key provided")||n.includes("api key expired")||n.includes("renew the api key")||n.includes("API key expired")||n.includes("renew the api key")?a.API_KEY_INVALID:n.includes("api key is missing")||n.includes("key missing")?a.API_KEY_MISSING:n.includes("api url")&&n.includes("missing")?a.API_URL_MISSING:n.includes("not a valid model id")||n.includes("invalid model")||n.includes("model not found")||n.includes("model is missing")||n.includes("model not available")||n.includes("the model `")&&n.includes("does not exist or you do not have access to it")?a.MODEL_MISSING:n.includes("the model is overloaded")||n.includes("overloaded")?a.MODEL_OVERLOADED:n.includes("quota exceeded")&&n.includes("region")||n.includes("location is not supported")?(helpers_logME("[ErrorMatcher] Quota exceeded with region, indicating Gemini-specific quota."),a.GEMINI_QUOTA_REGION):n.includes("quota exceeded")||n.includes("gemini quota")||n.includes("resource has been exhausted")||n.includes("check quota")?a.QUOTA_EXCEEDED:n.includes("failed to fetch")||n.includes("network failure")||n.includes("connection failed")||n.includes("networkerror")||n.includes("networkerror when attempting to fetch resource")?a.NETWORK_ERROR:n.includes("http error")||n.includes("http status")||n.includes("http response")||n.includes("operation was aborted")||n.includes("the operation was aborted.")?a.HTTP_ERROR:n.includes("context")||n.includes("context invalid")||n.includes("extension context")||n.includes("context invalidated")||n.includes("extension context invalidated")?a.CONTEXT:a.UNKNOWN}function ErrorMessages_regeneratorRuntime(){ErrorMessages_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==ErrorMessages_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(ErrorMessages_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function ErrorMessages_typeof(t){return ErrorMessages_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ErrorMessages_typeof(t)}function ErrorMessages_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ErrorMessages_defineProperty(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=ErrorMessages_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ErrorMessages_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ErrorMessages_typeof(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m=(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(y={},a.TEXT_EMPTY,"Text is empty"),a.PROMPT_INVALID,"Prompt is invalid"),a.TEXT_TOO_LONG,"Text is too long"),a.TRANSLATION_NOT_FOUND,"Translation not found"),a.TRANSLATION_FAILED,"Translation failed"),a.API,"API error"),a.API_KEY_MISSING,"API Key is missing"),a.API_KEY_INVALID,"API Key is wrong or invalid"),a.API_URL_MISSING,"API URL is missing"),a.MODEL_MISSING,"AI Model is missing or invalid"),ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(ErrorMessages_defineProperty(y,a.MODEL_OVERLOADED,"The Model is overloaded"),a.QUOTA_EXCEEDED,"You exceeded your current quota"),a.GEMINI_QUOTA_REGION,"You reached the Gemini quota. (Region issue)"),a.NETWORK_ERROR,"Connection to server failed"),a.HTTP_ERROR,"HTTP error"),a.CONTEXT,"Extension context lost"),a.UNKNOWN,"An unknown error occurred"),a.TAB_AVAILABILITY,"Tab not available"),a.UI,"User Interface error"),a.INTEGRATION,"Integration error"),ErrorMessages_defineProperty(ErrorMessages_defineProperty(y,a.SERVICE,"Service error"),a.VALIDATION,"Validation error"));function getErrorMessage(t){return _getErrorMessage.apply(this,arguments)}function _getErrorMessage(){var t;return t=ErrorMessages_regeneratorRuntime().mark((function _callee(t){var e,r;return ErrorMessages_regeneratorRuntime().wrap((function(n){for(;1;)switch(n.prev=n.next){case 0:return e=t.startsWith("ERRORS_")?t:"ERRORS_".concat(t),n.next=3,i18n_getTranslationString(e);case 3:return(r=n.sent)&&r.trim()||(r=m[t]||m[a.UNKNOWN]),n.abrupt("return",r);case 6:case"end":return n.stop()}}),_callee)})),_getErrorMessage=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){ErrorMessages_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){ErrorMessages_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))},_getErrorMessage.apply(this,arguments)}function ErrorService_typeof(t){return ErrorService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ErrorService_typeof(t)}function ErrorService_defineProperty(t,e,r){return(e=ErrorService_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ErrorService_regeneratorRuntime(){ErrorService_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==ErrorService_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(ErrorService_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function ErrorService_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ErrorService_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){ErrorService_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){ErrorService_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}function ErrorService_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ErrorService_toPropertyKey(n.key),n)}}function ErrorService_toPropertyKey(t){var e=function(t,e){if("object"!=ErrorService_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ErrorService_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ErrorService_typeof(e)?e:e+""}var b=new Set([a.CONTEXT]),x=new Set([a.CONTEXT,a.API,a.API_KEY_INVALID,a.API_KEY_MISSING,a.API_URL_MISSING,a.MODEL_MISSING,a.MODEL_OVERLOADED,a.QUOTA_EXCEEDED,a.GEMINI_QUOTA_REGION,a.NETWORK_ERROR,a.HTTP_ERROR,a.INTEGRATION,a.SERVICE,a.VALIDATION,a.UI,a.PROMPT_INVALID,a.TEXT_EMPTY,a.TEXT_TOO_LONG,a.TRANSLATION_NOT_FOUND,a.TRANSLATION_FAILED,a.TAB_AVAILABILITY]),w=new Set([a.API_KEY_INVALID,a.API_KEY_MISSING,a.MODEL_OVERLOADED,a.MODEL_MISSING,a.API_URL_MISSING,a.QUOTA_EXCEEDED,a.HTTP_ERROR,a.GEMINI_QUOTA_REGION]),_=function(){return t=function ErrorHandler(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ErrorHandler),this.notifier=new v,this.displayedErrors=new Set,this.handling=!1},e=[{key:"handle",value:(o=ErrorService_asyncToGenerator(ErrorService_regeneratorRuntime().mark((function _callee(t){var e,r,n,o,i,s=arguments;return ErrorService_regeneratorRuntime().wrap((function(c){for(;1;)switch(c.prev=c.next){case 0:if(e=s.length>1&&void 0!==s[1]?s[1]:{},!this.handling){c.next=3;break}return c.abrupt("return",t);case 3:return this.handling=!0,c.prev=4,r=t instanceof Error?t.message:String(t),n=matchErrorToType(r),c.next=9,getErrorMessage(n);case 9:return o=c.sent,c.next=12,it()["catch"]((function(){return S.DEBUG_MODE}));case 12:if(c.sent&&!x.has(n)&&console.error("[".concat(n,"] ").concat(r),t.stack),!b.has(n)){c.next=16;break}return c.abrupt("return",t);case 16:return i=w.has(n)?openOptionsPage:void 0,this._notifyUser(o,e.type||a.SERVICE,i),c.abrupt("return",t);case 19:return c.prev=19,this.handling=!1,c.finish(19);case 22:case"end":return c.stop()}}),_callee,this,[[4,,19,22]])}))),function(t){return o.apply(this,arguments)})},{key:"_logError",value:function(t,e){console.error("[ErrorService] ".concat(t.name,": ").concat(t.message,"\nContext: ").concat(e.context,"\nType: ").concat(e.type,"\nStack: ").concat(t.stack))}},{key:"_notifyUser",value:function(t,e,r){var n,o=this;if(!this.displayedErrors.has(t)){var i=(ErrorService_defineProperty(ErrorService_defineProperty(ErrorService_defineProperty(ErrorService_defineProperty(ErrorService_defineProperty(ErrorService_defineProperty(ErrorService_defineProperty(ErrorService_defineProperty(ErrorService_defineProperty(ErrorService_defineProperty(n={},a.API,"error"),a.UI,"error"),a.NETWORK_ERROR,"warning"),a.HTTP_ERROR,"warning"),a.SERVICE,"error"),a.CONTEXT,"warning"),a.VALIDATION,"warning"),a.INTEGRATION,"warning"),a.API_KEY_INVALID,"error"),a.API_KEY_MISSING,"error"),ErrorService_defineProperty(ErrorService_defineProperty(ErrorService_defineProperty(ErrorService_defineProperty(ErrorService_defineProperty(n,a.API_URL_MISSING,"error"),a.MODEL_MISSING,"error"),a.MODEL_OVERLOADED,"warning"),a.QUOTA_EXCEEDED,"warning"),a.GEMINI_QUOTA_REGION,"warning"))[e]||"error";this.notifier.show(t,i,!0,4e3,r),this.displayedErrors.add(t),setTimeout((function(){return o.displayedErrors["delete"](t)}),4500)}}}],r=[{key:"processError",value:(n=ErrorService_asyncToGenerator(ErrorService_regeneratorRuntime().mark((function _callee2(t){return ErrorService_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:if(null==t||!t.then){e.next=6;break}return e.next=3,t;case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=t;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),_callee2)}))),function(t){return n.apply(this,arguments)})}],e&&ErrorService_defineProperties(t.prototype,e),r&&ErrorService_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,o}();function _handleUIError(){return _handleUIError=ErrorService_asyncToGenerator(ErrorService_regeneratorRuntime().mark((function _callee3(t){var e,r,n=arguments;return ErrorService_regeneratorRuntime().wrap((function(o){for(;1;)switch(o.prev=o.next){case 0:return e=n.length>1&&void 0!==n[1]?n[1]:"",r=new _,o.abrupt("return",r.handle(t,{type:a.UI,context:e}));case 3:case"end":return o.stop()}}),_callee3)}))),_handleUIError.apply(this,arguments)}var E=new _,delay=function(t){return new Promise((function(e){return setTimeout(e,t)}))};function logMethod(t,e,r){}var T,helpers_logME=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];ct().then((function(t){var r;t&&(r=console).debug.apply(r,e)}))},isEditable=function(t){if(null!=t&&t.isContentEditable)return!0;if("TEXTAREA"===(null==t?void 0:t.tagName))return!0;if("INPUT"===(null==t?void 0:t.tagName)){var e,r=(null===(e=t.getAttribute("type"))||void 0===e?void 0:e.toLowerCase())||"text";return["text","search"].includes(r)}return!(null==t||!t.closest||!t.closest('[contenteditable="true"]'))},isExtensionContextValid=function(){try{var t,e;return!(null===o()||void 0===o()||null===(t=o().runtime)||void 0===t||!t.id||null===o()||void 0===o()||null===(e=o().storage)||void 0===e||!e.local)}catch(t){return!1}},openOptionsPage=function(){o().runtime.openOptionsPage?o().runtime.openOptionsPage():window.open(o().runtime.getURL("html/options.html"))};T=null;function taggleLinks(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{var e;if(null===(e=document)||void 0===e||!e.body)return;document.documentElement.classList.toggle("AIWritingCompanion-disable-links",t)}catch(t){throw E.handle(t,{type:a.CONTEXT,context:"taggleLinks",details:{errorType:t.message.includes("context invalidated")?"CONTEXT_INVALIDATED":"UNKNOWN_ERROR"}})}}var injectCSS=function(t){try{if(!document.head)throw new Error(a.INTEGRATION||"document.head not available");var e=document.createElement("link");e.href=o().runtime.getURL(t),e.rel="stylesheet",document.head.appendChild(e)}catch(e){throw E.handle(e,{type:a.UI,context:"injectCSS",filePath:t})}};function config_typeof(t){return config_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},config_typeof(t)}function config_regeneratorRuntime(){config_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==config_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(config_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach((function(e){config_defineProperty(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function config_defineProperty(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=config_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=config_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==config_typeof(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function config_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function config_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){config_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){config_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}var S={APP_NAME:"Translate It",USE_MOCK:!1,DEBUG_MODE:!1,EXTENSION_ENABLED:!0,APPLICATION_LOCALIZE:"Farsi",SOURCE_LANGUAGE:"English",TARGET_LANGUAGE:"Farsi",THEME:"auto",TRANSLATION_API:"gemini",API_URL:"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",API_KEY:"",WEBAI_API_URL:"http://localhost:6969/translate",WEBAI_API_MODEL:"gemini-2.0-flash",OPENAI_API_KEY:"",OPENAI_API_URL:"https://api.openai.com/v1/chat/completions",OPENAI_API_MODEL:"gpt-3.5-turbo",OPENROUTER_API_KEY:"",OPENROUTER_API_URL:"https://openrouter.ai/api/v1/chat/completions",OPENROUTER_API_MODEL:"openai/gpt-3.5-turbo",TRANSLATE_ON_TEXT_FIELDS:!0,ENABLE_SHORTCUT_FOR_TEXT_FIELDS:!0,TRANSLATE_WITH_SELECT_ELEMENT:!0,TRANSLATE_ON_TEXT_SELECTION:!0,REQUIRE_CTRL_FOR_TEXT_SELECTION:!1,ENABLE_DICTIONARY:!0,HIGHTLIH_NEW_ELEMETN_RED:"2px solid red",TRANSLATION_ICON_TITLE:"Translate Text",HIGHLIGHT_STYLE:"2px solid red",ICON_TRANSLATION:"🌐",ICON_SUCCESS:"✅ ",ICON_WARNING:"⚠️ ",ICON_STATUS:"⏳ ",ICON_ERROR:"❌ ",ICON_INFO:"🔵 ",ICON_REVERT:"↩️",NOTIFICATION_ALIGNMENT:"right",NOTIFICATION_TEXT_DIRECTION:"rtl",NOTIFICATION_TEXT_ALIGNMENT:"right",RTL_REGEX:/[\u0591-\u07FF\u0600-\u06FF]/,PERSIAN_REGEX:/^(?=.*[\u0600-\u06FF])[\u0600-\u06FF\u0660-\u0669\u06F0-\u06F9\u0041-\u005A\u0061-\u007A\u0030-\u0039\s.,:;؟!()«»@#\n\t\u200C]+$/,PROMPT_BASE_FIELD:"You are a translation service. Your task is to translate text while strictly preserving its structure, formatting, and line breaks. Follow these rules:\n\n  - If the input is in $_{SOURCE}, translate it to $_{TARGET}.\n  - If the input is in $_{TARGET}, translate it to $_{SOURCE}.\n  - If the input is in any other language, translate it to $_{TARGET}.\n  - If the input has grammar mistakes but is in $_{TARGET}, translate it to $_{SOURCE} while preserving the intended meaning.\n\n  Return **only** the translated text without any extra words, explanations, markdown, or modifications.\n\n  ```text input\n  $_{TEXT}\n  ```\n  ",PROMPT_BASE_SELECT:'Act as an automated JSON translation service. The input is a JSON array where each object contains a "text" property.\n\n  1. Translate each "text" value according to the given rules: $_{USER_RULES}\n  2. Preserve all input elements. **Do not omit, modify, or skip any entry.**\n  3. If translation is not needed for a specific item (e.g., numbers, hashtags, URLs), **return the original value unchanged.**\n  4. Maintain the internal structure, formatting, and line breaks exactly.\n  5. Output **only** the translated JSON array, with no extra text, explanations, or markdown.\n\n  ```json input\n  $_{TEXT}\n  ```\n    ',PROMPT_BASE_DICTIONARY:"You are a $_{TARGET} dictionary service. Your task is to provide in detailed dictionary definitions while strictly preserving the input structure and formatting. Follow these rules:\n\n  - Provide the translation of the input word or phrase.\n  - Include synonyms, word type (noun, verb, adjective, etc.), and a brief definition.\n  - If applicable, provide example sentences using the word or phrase in context.\n  - If the input is ambiguous, return the most common meanings.\n  - If no definition is found, return translation only.\n\n  Return in $_{TARGET} language, and **ONLY** the dictionary entry without any extra words, explanations, markdown, or modifications.\n\n  ```text input\n  $_{TEXT}\n  ```\n  ",PROMPT_BASE_POPUP_TRANSLATE:"You are a translation service. Your task is to translate text while strictly preserving its structure, formatting, and line breaks. Follow these rules:\n\n  - If the input is in any language, translate it to $_{TARGET}.\n\n\n  Return **only** the translated text without any extra words, explanations, markdown, or modifications.\n\n  ```text input\n  $_{TEXT}\n  ```\n  ",PROMPT_TEMPLATE:"- If the input is in $_{SOURCE}, translate it to $_{TARGET}.\n- If the input is in $_{TARGET}, translate it to $_{SOURCE}.\n- If the input is in any other language, translate it to $_{TARGET}.\n- If the input has grammar mistakes but is in $_{TARGET}, translate it to $_{SOURCE} while preserving the intended meaning.",DEBUG_TRANSLATED_ENGLISH:"This is a mock translation to English.",DEBUG_TRANSLATED_PERSIAN:"این یک ترجمه آزمایشی به فارسی است.",DEBUG_TRANSLATED_ENGLISH_With_NewLine:"This is a mock \ntranslation to English with \nnew lines.",DEBUG_TRANSLATED_PERSIAN_With_NewLine:"این یک ترجمه آزمایشی \nبرای ترجمه به فارسی \nبا خطوط جدید است."},k="field",A="select_element",I="selection",P="dictionary",O={selectElementActive:!1,highlightedElement:null,activeTranslateIcon:null,originalTexts:new Map,translateMode:null},L=null,R=function(){var t=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:if(null===L){t.next=2;break}return t.abrupt("return",L);case 2:return t.abrupt("return",o().storage.local.get(null).then((function(t){return L=_objectSpread(_objectSpread({},S),t)}))["catch"]((function(t){return helpers_logME("Error fetching settings:",t),L=_objectSpread({},S)})));case 3:case"end":return t.stop()}}),_callee)})));return function(){return t.apply(this,arguments)}}();o()&&o().storage&&o().storage.onChanged?o().storage.onChanged.addListener((function(t,e){"local"===e&&L&&Object.keys(t).forEach((function(e){if(Object.prototype.hasOwnProperty.call(S,e)||L&&Object.prototype.hasOwnProperty.call(L,e)){var r=t[e].newValue;L[e]!==r&&(L[e]=r)}}))})):helpers_logME("Browser.storage.onChanged not available. Settings cache might become stale.");var C,N,M,G,j,D,H,U,W,B,z,Y,$,V,X,q,K,J,Z,Q,tt,et,rt,nt,ot,at=function(){var t=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee2(t,e){var r,n;return config_regeneratorRuntime().wrap((function(o){for(;1;)switch(o.prev=o.next){case 0:return o.next=2,R();case 2:return n=o.sent,o.abrupt("return",null!==(r=null==n?void 0:n[t])&&void 0!==r?r:e);case 4:case"end":return o.stop()}}),_callee2)})));return function(e,r){return t.apply(this,arguments)}}(),it=(null&&(C=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee3(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("USE_MOCK",S.USE_MOCK));case 1:case"end":return t.stop()}}),_callee3)})))),function(){var t=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee4(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("DEBUG_MODE",S.DEBUG_MODE));case 1:case"end":return t.stop()}}),_callee4)})));return function(){return t.apply(this,arguments)}}()),st=function(){var t=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee5(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("THEME",S.THEME));case 1:case"end":return t.stop()}}),_callee5)})));return function(){return t.apply(this,arguments)}}(),ct=function(){var t=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee6(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:if(!L||void 0===L.DEBUG_MODE){t.next=2;break}return t.abrupt("return",L.DEBUG_MODE);case 2:return t.abrupt("return",it());case 3:case"end":return t.stop()}}),_callee6)})));return function(){return t.apply(this,arguments)}}(),ut=(null&&(N=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee7(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("API_KEY",S.API_KEY));case 1:case"end":return t.stop()}}),_callee7)})))),null&&(M=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee8(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("API_URL",S.API_URL));case 1:case"end":return t.stop()}}),_callee8)})))),function(){var t=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee9(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("APPLICATION_LOCALIZE",S.APPLICATION_LOCALIZE));case 1:case"end":return t.stop()}}),_callee9)})));return function(){return t.apply(this,arguments)}}()),lt=(null&&(G=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee10(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("APP_NAME",S.APP_NAME));case 1:case"end":return t.stop()}}),_callee10)})))),null&&(j=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee11(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("EXTENSION_ENABLED",S.EXTENSION_ENABLED));case 1:case"end":return t.stop()}}),_callee11)})))),null&&(D=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee12(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("SOURCE_LANGUAGE",S.SOURCE_LANGUAGE));case 1:case"end":return t.stop()}}),_callee12)})))),null&&(H=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee13(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("TARGET_LANGUAGE",S.TARGET_LANGUAGE));case 1:case"end":return t.stop()}}),_callee13)})))),null&&(U=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee14(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("ENABLE_DICTIONARY",S.ENABLE_DICTIONARY));case 1:case"end":return t.stop()}}),_callee14)})))),null&&(W=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee15(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("PROMPT_TEMPLATE",S.PROMPT_TEMPLATE));case 1:case"end":return t.stop()}}),_callee15)})))),null&&(B=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee16(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("PROMPT_BASE_DICTIONARY",S.PROMPT_BASE_DICTIONARY));case 1:case"end":return t.stop()}}),_callee16)})))),null&&(z=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee17(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("PROMPT_BASE_POPUP_TRANSLATE",S.PROMPT_BASE_POPUP_TRANSLATE));case 1:case"end":return t.stop()}}),_callee17)})))),null&&(Y=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee18(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("PROMPT_BASE_SELECT",S.PROMPT_BASE_SELECT));case 1:case"end":return t.stop()}}),_callee18)})))),null&&($=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee19(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("PROMPT_BASE_FIELD",S.PROMPT_BASE_FIELD));case 1:case"end":return t.stop()}}),_callee19)})))),null&&(V=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee20(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("TRANSLATION_API",S.TRANSLATION_API));case 1:case"end":return t.stop()}}),_callee20)})))),null&&(X=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee21(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("WEBAI_API_URL",S.WEBAI_API_URL));case 1:case"end":return t.stop()}}),_callee21)})))),null&&(q=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee22(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("WEBAI_API_MODEL",S.WEBAI_API_MODEL));case 1:case"end":return t.stop()}}),_callee22)})))),null&&(K=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee23(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("OPENAI_API_KEY",S.OPENAI_API_KEY));case 1:case"end":return t.stop()}}),_callee23)})))),null&&(J=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee24(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",S.OPENAI_API_URL);case 1:case"end":return t.stop()}}),_callee24)})))),null&&(Z=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee25(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("OPENAI_API_MODEL",S.OPENAI_API_MODEL));case 1:case"end":return t.stop()}}),_callee25)})))),null&&(Q=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee26(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("OPENROUTER_API_KEY",S.OPENROUTER_API_KEY));case 1:case"end":return t.stop()}}),_callee26)})))),null&&(tt=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee27(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("OPENROUTER_API_MODEL",S.OPENROUTER_API_MODEL));case 1:case"end":return t.stop()}}),_callee27)})))),null&&(et=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee28(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("TRANSLATE_ON_TEXT_FIELDS",S.TRANSLATE_ON_TEXT_FIELDS));case 1:case"end":return t.stop()}}),_callee28)})))),null&&(rt=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee29(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("ENABLE_SHORTCUT_FOR_TEXT_FIELDS",S.ENABLE_SHORTCUT_FOR_TEXT_FIELDS));case 1:case"end":return t.stop()}}),_callee29)})))),null&&(nt=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee30(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("TRANSLATE_WITH_SELECT_ELEMENT",S.TRANSLATE_WITH_SELECT_ELEMENT));case 1:case"end":return t.stop()}}),_callee30)})))),null&&(ot=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee31(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("TRANSLATE_ON_TEXT_SELECTION",S.TRANSLATE_ON_TEXT_SELECTION));case 1:case"end":return t.stop()}}),_callee31)})))),function(){var t=config_asyncToGenerator(config_regeneratorRuntime().mark((function _callee32(){return config_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return t.abrupt("return",at("REQUIRE_CTRL_FOR_TEXT_SELECTION",S.REQUIRE_CTRL_FOR_TEXT_SELECTION));case 1:case"end":return t.stop()}}),_callee32)})));return function(){return t.apply(this,arguments)}}());function bridgeIntegration_typeof(t){return bridgeIntegration_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bridgeIntegration_typeof(t)}function bridgeIntegration_regeneratorRuntime(){bridgeIntegration_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==bridgeIntegration_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(bridgeIntegration_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function bridgeIntegration_ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function bridgeIntegration_objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bridgeIntegration_ownKeys(Object(r),!0).forEach((function(e){bridgeIntegration_defineProperty(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bridgeIntegration_ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function bridgeIntegration_defineProperty(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=bridgeIntegration_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=bridgeIntegration_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bridgeIntegration_typeof(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bridgeIntegration_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function injectPageBridge(){if(!document.getElementById("__AI_WRITING_BRIDGE")){var t=document.createElement("script");t.src=o().runtime.getURL("./pageBridge.js"),t.id="__AI_WRITING_BRIDGE",(document.head||document.documentElement).appendChild(t)}}function smartTranslate(t){return _smartTranslate.apply(this,arguments)}function _smartTranslate(){var t;return t=bridgeIntegration_regeneratorRuntime().mark((function _callee(t){var e,r,n,a=arguments;return bridgeIntegration_regeneratorRuntime().wrap((function(i){for(;1;)switch(i.prev=i.next){case 0:return e=a.length>1&&void 0!==a[1]?a[1]:"Popup_Translate",i.prev=1,i.next=4,o().runtime.sendMessage({action:"fetchTranslation",payload:{promptText:t,translationMode:e}});case 4:return r=i.sent,i.abrupt("return",bridgeIntegration_objectSpread(bridgeIntegration_objectSpread({},r),{},{viaBridge:!1}));case 8:return i.prev=8,i.t0=i["catch"](1),helpers_logME("[BridgeIntegration] Normal translate failed. Falling back to bridge."),i.next=13,sendTranslationViaBridge(t,e);case 13:return n=i.sent,i.abrupt("return",n);case 15:case"end":return i.stop()}}),_callee,null,[[1,8]])})),_smartTranslate=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){bridgeIntegration_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){bridgeIntegration_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))},_smartTranslate.apply(this,arguments)}function sendTranslationViaBridge(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Popup_Translate";return new Promise((function(r,n){var o="".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2)),_handler=function(t){var e,a;t.source===window&&"AI_WRITING_TRANSLATE_RESPONSE"===(null===(e=t.data)||void 0===e?void 0:e.type)&&(null===(a=t.data)||void 0===a||null===(a=a.original)||void 0===a?void 0:a.__requestId)===o&&(window.removeEventListener("message",_handler),t.data.error?n(new Error(t.data.error)):r(bridgeIntegration_objectSpread(bridgeIntegration_objectSpread({},t.data.result),{},{viaBridge:!0})))};window.addEventListener("message",_handler),window.postMessage({type:"AI_WRITING_TRANSLATE_REQUEST",text:t,translateMode:e,__requestId:o},"*")}))}function textExtraction_typeof(t){return textExtraction_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},textExtraction_typeof(t)}function textExtraction_regeneratorRuntime(){textExtraction_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==textExtraction_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(textExtraction_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function textExtraction_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}var ft=new Map;function separateCachedAndNewTexts(t){var e=[],r=new Map;return Array.from(t.keys()).forEach((function(t){ft.has(t)?r.set(t,ft.get(t)):e.push(t)})),{textsToTranslate:e,cachedTranslations:r}}function collectTextNodes(t){for(var e,r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1),n=[],o=new Map;e=r.nextNode();){var a=e.textContent.trim();n.push(e),a&&(o.has(a)?o.get(a).push(e):o.set(a,[e]))}return{textNodes:n,originalTextsMap:o}}function applyTranslationsToNodes(t,e,r){t.forEach((function(t){if(t.parentNode&&t.nodeType===Node.TEXT_NODE){var n=t.textContent,o=n.trim(),i=e.get(o);if(i&&o){var s=t.parentNode;!function(t){t.dataset.aiwcOriginalDirection||(t.dataset.aiwcOriginalDirection=t.style.direction||"");t.dataset.aiwcOriginalTextAlign||(t.dataset.aiwcOriginalTextAlign=t.style.textAlign||"")}(s);var c=document.createElement("span"),u="aiwc-".concat(Math.random().toString(36).substring(2,15));c.setAttribute("data-aiwc-original-id",u),c.setAttribute("data-aiwc-original-text",n),correctTextDirection(c,i);var l=n.split("\n"),f=i.split("\n");l.forEach((function(t,e){var n=void 0!==f[e]?f[e]:"",o=document.createElement("span");if(o.textContent=n,r.state.originalTexts.set(u,{originalText:t,wrapperElement:o}),c.appendChild(o),e<l.length-1){var a=document.createElement("br");a.setAttribute("data-aiwc-br","true"),c.appendChild(a)}}));try{s.replaceChild(c,t)}catch(e){helpers_logME("[AIWC-textExtraction] Error replacing text node with container:",e,{textNode:t,containerSpan:c,parentElement:s}),r.state.originalTexts.has(u)&&r.state.originalTexts["delete"](u);var h=_.processError(e);r.errorHandler&&"function"==typeof r.errorHandler.handle&&r.errorHandler.handle(h,{type:a.PARSE_SELECT_ELEMENT,context:"textExtraction-apply-translations-replace",elementId:"multiple"})}}}}))}function revertTranslations(t){return _revertTranslations.apply(this,arguments)}function _revertTranslations(){var t;return t=textExtraction_regeneratorRuntime().mark((function _callee(t){var e,r;return textExtraction_regeneratorRuntime().wrap((function(n){for(;1;)switch(n.prev=n.next){case 0:if(r=0,document.querySelectorAll("span[data-aiwc-original-text]").forEach((function(e){var n=e.getAttribute("data-aiwc-original-text");if(null!==n)try{var o=e.parentNode;restoreOriginalParentStyles(o);var i=document.createTextNode(n);o.replaceChild(i,e),r++;for(var s=i.nextSibling;s&&"BR"===s.nodeName&&"true"===s.getAttribute("data-aiwc-br");){var c=s;s=s.nextSibling,c.parentNode.removeChild(c)}}catch(r){t.errorHandler.handle(r,{type:a.PARSE_SELECT_ELEMENT,context:"revert-translations-replace",elementId:e.getAttribute("data-aiwc-original-id")}),helpers_logME("Failed to revert container with original text.",r)}})),!(r>0)){n.next=16;break}return n.t0=t.notifier,n.t1="".concat(r," "),n.next=8,i18n_getTranslationString("STATUS_Revert_Number");case 8:if(n.t2=n.sent,n.t2){n.next=11;break}n.t2="(مورد بازگردانی شد)";case 11:n.t3=n.t2,n.t4=n.t1.concat.call(n.t1,n.t3),n.t0.show.call(n.t0,n.t4,"revert"),n.next=27;break;case 16:return n.next=18,ct();case 18:if(!n.sent){n.next=27;break}return n.t5=t.notifier,n.next=22,i18n_getTranslationString("STATUS_REVERT_NOT_FOUND");case 22:if(n.t6=n.sent,n.t6){n.next=25;break}n.t6="(هیچ متنی برای بازگردانی یافت نشد)";case 25:n.t7=n.t6,n.t5.show.call(n.t5,n.t7,"warning");case 27:return null===(e=t.IconManager)||void 0===e||e.cleanup(),t.state.originalTexts.clear(),n.abrupt("return",r);case 30:case"end":return n.stop()}}),_callee)})),_revertTranslations=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){textExtraction_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){textExtraction_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))},_revertTranslations.apply(this,arguments)}function parseAndCleanTranslationResponse(t,e){var r=t.trim().match(/(\[(?:[^]|\n|\r)*\]|\{(?:[^]|\n|\r)*\})/);if(!r||!r[1]){helpers_logME("No JSON structure (array or object) found in the response string.");var n=new Error("هیچ ساختار JSON معتبری در پاسخ یافت نشد.");return e.errorHandler.handle(n,{type:a.PARSE_SELECT_ELEMENT,context:"parseAndCleanTranslationResponse-NoJsonFound"}),[]}var o=r[1].trim();try{return JSON.parse(o)}catch(t){if(helpers_logME("Initial JSON.parse failed. Attempting repair by removing the last element.",t.message),!(o.startsWith("[")&&t instanceof SyntaxError)){helpers_logME("Initial parse failed, and repair condition not met (not array or not SyntaxError).");var i=_.processError(t);return e.errorHandler.handle(i,{type:a.PARSE_SELECT_ELEMENT,context:"parseAndCleanTranslationResponse-InitialErrorNotRepaired"}),helpers_logME("Original problematic string:",o),[]}var s=o.lastIndexOf(",",o.length-2);if(-1===s){helpers_logME("Could not repair JSON: No comma found to separate the last element.");var c=_.processError(t);return e.errorHandler.handle(c,{type:a.PARSE_SELECT_ELEMENT,context:"parseAndCleanTranslationResponse-NoCommaForRepair"}),helpers_logME("Original problematic string:",o),[]}var u=o.substring(0,s);u=u.trimEnd()+"]",helpers_logME("Attempting to parse repaired JSON string:",u);try{var l=JSON.parse(u);return helpers_logME("Successfully parsed JSON after removing the potentially corrupted last element.","warning"),l}catch(r){helpers_logME("Repair attempt also failed.",r.message);var f=_.processError(t);return e.errorHandler.handle(f,{type:a.PARSE_SELECT_ELEMENT,context:"parseAndCleanTranslationResponse-RepairFailed"}),helpers_logME("Original problematic string:",o),[]}}}function expandTextsForTranslation(t){var e=[],r=[],n=new Map;return t.forEach((function(t,o){var a=t.split("\n"),i=[];a.forEach((function(t,n){e.push(t),r.push({originalIndex:o,segmentIndex:n}),i.push(e.length-1)})),n.set(o,i)})),{expandedTexts:e,originMapping:r,originalToExpandedIndices:n}}function handleTranslationLengthMismatch(t,e){return Array.isArray(t)?t.length===e.length||(helpers_logME("عدم تطابق طول.","طول مورد انتظار (بر اساس متن‌های گسترش‌یافته): ".concat(e.length),"طول دریافت شده: ".concat(t.length),"علت احتمالی: تقسیم/ادغام متفاوت متن توسط API یا افزودن/حذف آیتم‌ها.","تلاش برای پردازش با داده‌های موجود ادامه می‌یابد..."),Math.abs(t.length-e.length)<3/7*e.length):(helpers_logME("پاسخ ترجمه یک آرایه نیست.","داده پارس شده:",t),!1)}function restoreOriginalParentStyles(t){void 0!==t.dataset.aiwcOriginalDirection&&(t.style.direction=t.dataset.aiwcOriginalDirection,delete t.dataset.aiwcOriginalDirection),void 0!==t.dataset.aiwcOriginalTextAlign&&(t.style.textAlign=t.dataset.aiwcOriginalTextAlign,delete t.dataset.aiwcOriginalTextAlign)}function reassembleTranslations(t,e,r,n,o){for(var a=new Map,i=new Map,s=Math.min(e.length,t.length),c=0;c<s;c++){var u=t[c],l=r[c];if(u&&"string"==typeof u.text&&l){var f=l.originalIndex;i.has(f)||i.set(f,[]),i.get(f).push(u.text)}else if(helpers_logME("داده ترجمه نامعتبر یا گمشده برای آیتم در اندیس ".concat(c,"."),"آیتم دریافتی:",u,"اطلاعات نگاشت:",l),l){var h=l.originalIndex;i.has(h)||i.set(h,[]),i.get(h).push(e[c])}}return n.forEach((function(t,e){if(i.has(e)){var r=i.get(e).join("\n");a.set(t,r),ft.set(t,r)}else o.has(t)||a.set(t,t)})),a}function PlatformStrategy_typeof(t){return PlatformStrategy_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PlatformStrategy_typeof(t)}function PlatformStrategy_regeneratorRuntime(){PlatformStrategy_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==PlatformStrategy_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(PlatformStrategy_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function PlatformStrategy_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function PlatformStrategy_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PlatformStrategy_toPropertyKey(n.key),n)}}function PlatformStrategy_toPropertyKey(t){var e=function(t,e){if("object"!=PlatformStrategy_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=PlatformStrategy_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==PlatformStrategy_typeof(e)?e:e+""}var ht=function(){return t=function PlatformStrategy(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,PlatformStrategy),this.notifier=t,this.errorHandler=e},e=[{key:"extractText",value:function(t){try{var e,r,n;return t?t.isContentEditable?(null===(n=t.innerText)||void 0===n?void 0:n.trim())||"":(null===(e=t.value)||void 0===e?void 0:e.trim())||(null===(r=t.textContent)||void 0===r?void 0:r.trim())||"":""}catch(t){var o;return null===(o=this.errorHandler)||void 0===o||o.handle(t,{type:a.UI,context:"platform-strategy-extractText"}),""}}},{key:"findField",value:function(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=t,o=0;o<r&&n;o++){var a=n.closest(e);if(a)return a;n=n.parentElement}return document.querySelector(e)}},{key:"validateField",value:function(t){return t&&t.isConnected&&(this.isInputElement(t)||t.hasAttribute("contenteditable"))}},{key:"applyVisualFeedback",value:(n=PlatformStrategy_regeneratorRuntime().mark((function _callee(t){var e,r,n;return PlatformStrategy_regeneratorRuntime().wrap((function(o){for(;1;)switch(o.prev=o.next){case 0:if(t&&t.style){o.next=2;break}return o.abrupt("return");case 2:return e=t.style.backgroundColor,r=t.style.transition,o.prev=4,t.style.transition="background-color 0.3s ease",t.style.backgroundColor="#d4f8d4",o.next=9,new Promise((function(t){return setTimeout(t,300)}));case 9:return t.style.backgroundColor=e,o.next=12,new Promise((function(t){return setTimeout(t,300)}));case 12:o.next=18;break;case 14:o.prev=14,o.t0=o["catch"](4),t.style.backgroundColor=e,null===(n=this.errorHandler)||void 0===n||n.handle(o.t0,{type:a.UI,context:"platform-strategy-animation"});case 18:return o.prev=18,t.style.transition=r,o.finish(18);case 21:case"end":return o.stop()}}),_callee,this,[[4,14,18,21]])})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(t){PlatformStrategy_asyncGeneratorStep(a,r,o,_next,_throw,"next",t)}function _throw(t){PlatformStrategy_asyncGeneratorStep(a,r,o,_next,_throw,"throw",t)}_next(void 0)}))},function(t){return o.apply(this,arguments)})},{key:"applyTextDirection",value:function(t,e){try{var r=S.RTL_REGEX.test(e);"INPUT"===t.tagName||"TEXTAREA"===t.tagName?t.setAttribute("dir",r?"rtl":"ltr"):(t.style.direction=r?"rtl":"ltr",t.style.textAlign=r?"right":"left")}catch(t){var n;throw null===(n=this.errorHandler)||void 0===n?void 0:n.handle(t,{type:a.UI,code:"text-direction-error",context:"platform-strategy-TextDirection"})}}},{key:"handleFieldError",value:function(t,e){var r={FIELD_NOT_FOUND:"لطفا روی فیلد متن ".concat(e," کلیک کنید"),CLIPBOARD_ERROR:"خطای دسترسی به کلیپبورد"};if(this.notifier&&this.notifier.show(r[t],"warning"),!this.errorHandler)throw new Error(t);this.errorHandler.handle(new Error(t),{type:a.UI,context:"platform-strategy-field-error"})}}],e&&PlatformStrategy_defineProperties(t.prototype,e),r&&PlatformStrategy_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,o}();function WhatsAppStrategy_typeof(t){return WhatsAppStrategy_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WhatsAppStrategy_typeof(t)}function WhatsAppStrategy_regeneratorRuntime(){WhatsAppStrategy_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==WhatsAppStrategy_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(WhatsAppStrategy_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function WhatsAppStrategy_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function WhatsAppStrategy_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){WhatsAppStrategy_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){WhatsAppStrategy_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}function WhatsAppStrategy_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WhatsAppStrategy_toPropertyKey(n.key),n)}}function WhatsAppStrategy_toPropertyKey(t){var e=function(t,e){if("object"!=WhatsAppStrategy_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=WhatsAppStrategy_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==WhatsAppStrategy_typeof(e)?e:e+""}function _callSuper(t,e,r){return e=_getPrototypeOf(e),function(t,e){if(e&&("object"==WhatsAppStrategy_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_isNativeReflectConstruct()?Reflect.construct(e,r||[],_getPrototypeOf(t).constructor):e.apply(t,r))}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}var pt=function(t){function WhatsAppStrategy(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,WhatsAppStrategy),(r=_callSuper(this,WhatsAppStrategy,[t])).errorHandler=e,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}(WhatsAppStrategy,t),e=WhatsAppStrategy,r=[{key:"isWhatsAppElement",value:function(t){return!!t.closest('[aria-label="Type a message"]')}},{key:"updateElement",value:(c=WhatsAppStrategy_asyncToGenerator(WhatsAppStrategy_regeneratorRuntime().mark((function _callee(t,e){var r,n;return WhatsAppStrategy_regeneratorRuntime().wrap((function(o){for(;1;)switch(o.prev=o.next){case 0:if(o.prev=0,r='[role="textbox"], .copyable-text.selectable-text',n=this.findField(t,r)){o.next=6;break}return helpers_logME("فیلد واتساپ یافت نشد"),o.abrupt("return");case 6:if(("INPUT"===n.tagName||"TEXTAREA"===n.tagName||n.hasAttribute("contenteditable"))&&n.isConnected){o.next=10;break}return helpers_logME("فیلد واتساپ نامعتبر است"),o.abrupt("return",!1);case 10:if(this.isWhatsAppElement(t)){o.next=13;break}return o.abrupt("return",!1);case 13:if(document.body.contains(t)){o.next=16;break}return helpers_logME("Element removed from DOM"),o.abrupt("return",!1);case 16:return o.next=18,this.safeFocus(t);case 18:return this.applyVisualFeedback(n),o.next=21,this.selectAllContent(n);case 21:return o.next=23,this.simulatePaste(n,e);case 23:return this.triggerStateUpdate(n),o.abrupt("return",!0);case 27:return o.prev=27,o.t0=o["catch"](0),this.errorHandler.handle(o.t0,{type:a.PARSE_INPUT,context:"whatsapp-strategy-updateElement"}),o.abrupt("return",!1);case 31:case"end":return o.stop()}}),_callee,this,[[0,27]])}))),function(t,e){return c.apply(this,arguments)})},{key:"extractText",value:function(t){try{if(!t)return"";if(t.isContentEditable)return t.innerText.trim();if(t.value)return t.value.trim();if(t.textContent)return t.textContent.trim()}catch(t){this.errorHandler.handle(t,{type:a.UI,context:"WhatsApp-strategy-extractText-fallback"})}return""}},{key:"safeFocus",value:(s=WhatsAppStrategy_asyncToGenerator(WhatsAppStrategy_regeneratorRuntime().mark((function _callee2(t){return WhatsAppStrategy_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return t.focus({preventScroll:!0}),e.next=3,delay(100);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),_callee2)}))),function(t){return s.apply(this,arguments)})},{key:"selectAllContent",value:(i=WhatsAppStrategy_asyncToGenerator(WhatsAppStrategy_regeneratorRuntime().mark((function _callee3(t){var e,r;return WhatsAppStrategy_regeneratorRuntime().wrap((function(n){for(;1;)switch(n.prev=n.next){case 0:return n.prev=0,e=window.getSelection(),(r=document.createRange()).selectNodeContents(t),e.removeAllRanges(),e.addRange(r),n.next=8,delay(100);case 8:return n.abrupt("return",t);case 11:n.prev=11,n.t0=n["catch"](0),this.errorHandler.handle(n.t0,{type:a.PARSE_INPUT,context:"whatsapp-strategy-selectAllContent"});case 14:case"end":return n.stop()}}),_callee3,this,[[0,11]])}))),function(t){return i.apply(this,arguments)})},{key:"simulatePaste",value:(o=WhatsAppStrategy_asyncToGenerator(WhatsAppStrategy_regeneratorRuntime().mark((function _callee4(t,e){var r,n,o,i;return WhatsAppStrategy_regeneratorRuntime().wrap((function(s){for(;1;)switch(s.prev=s.next){case 0:if(t&&null!=e){s.next=2;break}return s.abrupt("return");case 2:return s.prev=2,r=(r=e.trim()).replace(/\n{2,}/g,"\n"),n=r.replace(/\n/g,"<br>"),(o=new DataTransfer).setData("text/plain",r),o.setData("text/html",n),i=new ClipboardEvent("paste",{bubbles:!0,cancelable:!0,clipboardData:o}),t.dispatchEvent(i),s.next=13,delay(50);case 13:s.next=18;break;case 15:s.prev=15,s.t0=s["catch"](2),this.errorHandler.handle(s.t0,{type:a.PARSE_INPUT,context:"whatsapp-strategy-simulatePaste"});case 18:case"end":return s.stop()}}),_callee4,this,[[2,15]])}))),function(t,e){return o.apply(this,arguments)})},{key:"triggerStateUpdate",value:function(t){t.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0}))}}],r&&WhatsAppStrategy_defineProperties(e.prototype,r),n&&WhatsAppStrategy_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,o,i,s,c}(ht);const{entries:dt,setPrototypeOf:yt,isFrozen:gt,getPrototypeOf:vt,getOwnPropertyDescriptor:mt}=Object;let{freeze:bt,seal:xt,create:wt}=Object,{apply:_t,construct:Et}="undefined"!=typeof Reflect&&Reflect;bt||(bt=function(t){return t}),xt||(xt=function(t){return t}),_t||(_t=function(t,e,r){return t.apply(e,r)}),Et||(Et=function(t,e){return new t(...e)});const Tt=unapply(Array.prototype.forEach),St=unapply(Array.prototype.lastIndexOf),kt=unapply(Array.prototype.pop),At=unapply(Array.prototype.push),It=unapply(Array.prototype.splice),Pt=unapply(String.prototype.toLowerCase),Ot=unapply(String.prototype.toString),Lt=unapply(String.prototype.match),Rt=unapply(String.prototype.replace),Ct=unapply(String.prototype.indexOf),Nt=unapply(String.prototype.trim),Mt=unapply(Object.prototype.hasOwnProperty),Gt=unapply(RegExp.prototype.test),Ft=(jt=TypeError,function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Et(jt,e)});var jt;function unapply(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return _t(t,e,n)}}function addToSet(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pt;yt&&yt(t,null);let n=e.length;for(;n--;){let o=e[n];if("string"==typeof o){const t=r(o);t!==o&&(gt(e)||(e[n]=t),o=t)}t[o]=!0}return t}function cleanArray(t){for(let e=0;e<t.length;e++){Mt(t,e)||(t[e]=null)}return t}function clone(t){const e=wt(null);for(const[r,n]of dt(t)){Mt(t,r)&&(Array.isArray(n)?e[r]=cleanArray(n):n&&"object"==typeof n&&n.constructor===Object?e[r]=clone(n):e[r]=n)}return e}function lookupGetter(t,e){for(;null!==t;){const r=mt(t,e);if(r){if(r.get)return unapply(r.get);if("function"==typeof r.value)return unapply(r.value)}t=vt(t)}return function(){return null}}const Dt=bt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ht=bt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ut=bt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Wt=bt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Bt=bt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),zt=bt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Yt=bt(["#text"]),$t=bt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Vt=bt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Xt=bt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qt=bt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Kt=xt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Jt=xt(/<%[\w\W]*|[\w\W]*%>/gm),Zt=xt(/\$\{[\w\W]*/gm),Qt=xt(/^data-[\-\w.\u00B7-\uFFFF]+$/),te=xt(/^aria-[\-\w]+$/),ee=xt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),re=xt(/^(?:\w+script|data):/i),ne=xt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),oe=xt(/^html$/i),ae=xt(/^[a-z][.\w]*(-[.\w]+)+$/i);var ie=Object.freeze({__proto__:null,ARIA_ATTR:te,ATTR_WHITESPACE:ne,CUSTOM_ELEMENT:ae,DATA_ATTR:Qt,DOCTYPE_NAME:oe,ERB_EXPR:Jt,IS_ALLOWED_URI:ee,IS_SCRIPT_OR_DATA:re,MUSTACHE_EXPR:Kt,TMPLIT_EXPR:Zt});const se=1,ce=3,ue=7,le=8,fe=9,getGlobal=function(){return"undefined"==typeof window?null:window};var he=function createDOMPurify(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getGlobal();const DOMPurify=t=>createDOMPurify(t);if(DOMPurify.version="3.2.5",DOMPurify.removed=[],!t||!t.document||t.document.nodeType!==fe||!t.Element)return DOMPurify.isSupported=!1,DOMPurify;let{document:e}=t;const r=e,n=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:a,Node:i,Element:s,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:l,DOMParser:f,trustedTypes:h}=t,p=s.prototype,d=lookupGetter(p,"cloneNode"),y=lookupGetter(p,"remove"),g=lookupGetter(p,"nextSibling"),v=lookupGetter(p,"childNodes"),m=lookupGetter(p,"parentNode");if("function"==typeof a){const t=e.createElement("template");t.content&&t.content.ownerDocument&&(e=t.content.ownerDocument)}let b,x="";const{implementation:w,createNodeIterator:_,createDocumentFragment:E,getElementsByTagName:T}=e,{importNode:S}=r;let k={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};DOMPurify.isSupported="function"==typeof dt&&"function"==typeof m&&w&&void 0!==w.createHTMLDocument;const{MUSTACHE_EXPR:A,ERB_EXPR:I,TMPLIT_EXPR:P,DATA_ATTR:O,ARIA_ATTR:L,IS_SCRIPT_OR_DATA:R,ATTR_WHITESPACE:C,CUSTOM_ELEMENT:N}=ie;let{IS_ALLOWED_URI:M}=ie,G=null;const j=addToSet({},[...Dt,...Ht,...Ut,...Bt,...Yt]);let D=null;const H=addToSet({},[...$t,...Vt,...Xt,...qt]);let U=Object.seal(wt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W=null,B=null,z=!0,Y=!0,$=!1,V=!0,X=!1,q=!0,K=!1,J=!1,Z=!1,Q=!1,tt=!1,et=!1,rt=!0,nt=!1;const ot="user-content-";let at=!0,it=!1,st={},ct=null;const ut=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let lt=null;const ft=addToSet({},["audio","video","img","source","image","track"]);let ht=null;const pt=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),yt="http://www.w3.org/1998/Math/MathML",gt="http://www.w3.org/2000/svg",vt="http://www.w3.org/1999/xhtml";let mt=vt,xt=!1,_t=null;const Et=addToSet({},[yt,gt,vt],Ot);let jt=addToSet({},["mi","mo","mn","ms","mtext"]),Kt=addToSet({},["annotation-xml"]);const Jt=addToSet({},["title","style","font","a","script"]);let Zt=null;const Qt=["application/xhtml+xml","text/html"],te="text/html";let re=null,ne=null;const ae=e.createElement("form"),isRegexOrFunction=function(t){return t instanceof RegExp||t instanceof Function},_parseConfig=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ne||ne!==t){if(t&&"object"==typeof t||(t={}),t=clone(t),Zt=-1===Qt.indexOf(t.PARSER_MEDIA_TYPE)?te:t.PARSER_MEDIA_TYPE,re="application/xhtml+xml"===Zt?Ot:Pt,G=Mt(t,"ALLOWED_TAGS")?addToSet({},t.ALLOWED_TAGS,re):j,D=Mt(t,"ALLOWED_ATTR")?addToSet({},t.ALLOWED_ATTR,re):H,_t=Mt(t,"ALLOWED_NAMESPACES")?addToSet({},t.ALLOWED_NAMESPACES,Ot):Et,ht=Mt(t,"ADD_URI_SAFE_ATTR")?addToSet(clone(pt),t.ADD_URI_SAFE_ATTR,re):pt,lt=Mt(t,"ADD_DATA_URI_TAGS")?addToSet(clone(ft),t.ADD_DATA_URI_TAGS,re):ft,ct=Mt(t,"FORBID_CONTENTS")?addToSet({},t.FORBID_CONTENTS,re):ut,W=Mt(t,"FORBID_TAGS")?addToSet({},t.FORBID_TAGS,re):{},B=Mt(t,"FORBID_ATTR")?addToSet({},t.FORBID_ATTR,re):{},st=!!Mt(t,"USE_PROFILES")&&t.USE_PROFILES,z=!1!==t.ALLOW_ARIA_ATTR,Y=!1!==t.ALLOW_DATA_ATTR,$=t.ALLOW_UNKNOWN_PROTOCOLS||!1,V=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,X=t.SAFE_FOR_TEMPLATES||!1,q=!1!==t.SAFE_FOR_XML,K=t.WHOLE_DOCUMENT||!1,Q=t.RETURN_DOM||!1,tt=t.RETURN_DOM_FRAGMENT||!1,et=t.RETURN_TRUSTED_TYPE||!1,Z=t.FORCE_BODY||!1,rt=!1!==t.SANITIZE_DOM,nt=t.SANITIZE_NAMED_PROPS||!1,at=!1!==t.KEEP_CONTENT,it=t.IN_PLACE||!1,M=t.ALLOWED_URI_REGEXP||ee,mt=t.NAMESPACE||vt,jt=t.MATHML_TEXT_INTEGRATION_POINTS||jt,Kt=t.HTML_INTEGRATION_POINTS||Kt,U=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(U.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),X&&(Y=!1),tt&&(Q=!0),st&&(G=addToSet({},Yt),D=[],!0===st.html&&(addToSet(G,Dt),addToSet(D,$t)),!0===st.svg&&(addToSet(G,Ht),addToSet(D,Vt),addToSet(D,qt)),!0===st.svgFilters&&(addToSet(G,Ut),addToSet(D,Vt),addToSet(D,qt)),!0===st.mathMl&&(addToSet(G,Bt),addToSet(D,Xt),addToSet(D,qt))),t.ADD_TAGS&&(G===j&&(G=clone(G)),addToSet(G,t.ADD_TAGS,re)),t.ADD_ATTR&&(D===H&&(D=clone(D)),addToSet(D,t.ADD_ATTR,re)),t.ADD_URI_SAFE_ATTR&&addToSet(ht,t.ADD_URI_SAFE_ATTR,re),t.FORBID_CONTENTS&&(ct===ut&&(ct=clone(ct)),addToSet(ct,t.FORBID_CONTENTS,re)),at&&(G["#text"]=!0),K&&addToSet(G,["html","head","body"]),G.table&&(addToSet(G,["tbody"]),delete W.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw Ft('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw Ft('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=t.TRUSTED_TYPES_POLICY,x=b.createHTML("")}else void 0===b&&(b=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let r=null;const n="data-tt-policy-suffix";e&&e.hasAttribute(n)&&(r=e.getAttribute(n));const o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(h,n)),null!==b&&"string"==typeof x&&(x=b.createHTML(""));bt&&bt(t),ne=t}},he=addToSet({},[...Ht,...Ut,...Wt]),pe=addToSet({},[...Bt,...zt]),_forceRemove=function(t){At(DOMPurify.removed,{element:t});try{m(t).removeChild(t)}catch(e){y(t)}},_removeAttribute=function(t,e){try{At(DOMPurify.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){At(DOMPurify.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t)if(Q||tt)try{_forceRemove(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},_initDocument=function(t){let r=null,n=null;if(Z)t="<remove></remove>"+t;else{const e=Lt(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===Zt&&mt===vt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const o=b?b.createHTML(t):t;if(mt===vt)try{r=(new f).parseFromString(o,Zt)}catch(t){}if(!r||!r.documentElement){r=w.createDocument(mt,"template",null);try{r.documentElement.innerHTML=xt?x:o}catch(t){}}const a=r.body||r.documentElement;return t&&n&&a.insertBefore(e.createTextNode(n),a.childNodes[0]||null),mt===vt?T.call(r,K?"html":"body")[0]:K?r.documentElement:a},_createNodeIterator=function(t){return _.call(t.ownerDocument||t,t,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},_isClobbered=function(t){return t instanceof l&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof u)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},_isNode=function(t){return"function"==typeof i&&t instanceof i};function _executeHooks(t,e,r){Tt(t,(t=>{t.call(DOMPurify,e,r,ne)}))}const _sanitizeElements=function(t){let e=null;if(_executeHooks(k.beforeSanitizeElements,t,null),_isClobbered(t))return _forceRemove(t),!0;const r=re(t.nodeName);if(_executeHooks(k.uponSanitizeElement,t,{tagName:r,allowedTags:G}),t.hasChildNodes()&&!_isNode(t.firstElementChild)&&Gt(/<[/\w!]/g,t.innerHTML)&&Gt(/<[/\w!]/g,t.textContent))return _forceRemove(t),!0;if(t.nodeType===ue)return _forceRemove(t),!0;if(q&&t.nodeType===le&&Gt(/<[/\w]/g,t.data))return _forceRemove(t),!0;if(!G[r]||W[r]){if(!W[r]&&_isBasicCustomElement(r)){if(U.tagNameCheck instanceof RegExp&&Gt(U.tagNameCheck,r))return!1;if(U.tagNameCheck instanceof Function&&U.tagNameCheck(r))return!1}if(at&&!ct[r]){const e=m(t)||t.parentNode,r=v(t)||t.childNodes;if(r&&e){for(let n=r.length-1;n>=0;--n){const o=d(r[n],!0);o.__removalCount=(t.__removalCount||0)+1,e.insertBefore(o,g(t))}}}return _forceRemove(t),!0}return t instanceof s&&!function(t){let e=m(t);e&&e.tagName||(e={namespaceURI:mt,tagName:"template"});const r=Pt(t.tagName),n=Pt(e.tagName);return!!_t[t.namespaceURI]&&(t.namespaceURI===gt?e.namespaceURI===vt?"svg"===r:e.namespaceURI===yt?"svg"===r&&("annotation-xml"===n||jt[n]):Boolean(he[r]):t.namespaceURI===yt?e.namespaceURI===vt?"math"===r:e.namespaceURI===gt?"math"===r&&Kt[n]:Boolean(pe[r]):t.namespaceURI===vt?!(e.namespaceURI===gt&&!Kt[n])&&!(e.namespaceURI===yt&&!jt[n])&&!pe[r]&&(Jt[r]||!he[r]):!("application/xhtml+xml"!==Zt||!_t[t.namespaceURI]))}(t)?(_forceRemove(t),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!Gt(/<\/no(script|embed|frames)/i,t.innerHTML)?(X&&t.nodeType===ce&&(e=t.textContent,Tt([A,I,P],(t=>{e=Rt(e,t," ")})),t.textContent!==e&&(At(DOMPurify.removed,{element:t.cloneNode()}),t.textContent=e)),_executeHooks(k.afterSanitizeElements,t,null),!1):(_forceRemove(t),!0)},_isValidAttribute=function(t,r,n){if(rt&&("id"===r||"name"===r)&&(n in e||n in ae))return!1;if(Y&&!B[r]&&Gt(O,r));else if(z&&Gt(L,r));else if(!D[r]||B[r]){if(!(_isBasicCustomElement(t)&&(U.tagNameCheck instanceof RegExp&&Gt(U.tagNameCheck,t)||U.tagNameCheck instanceof Function&&U.tagNameCheck(t))&&(U.attributeNameCheck instanceof RegExp&&Gt(U.attributeNameCheck,r)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(r))||"is"===r&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&Gt(U.tagNameCheck,n)||U.tagNameCheck instanceof Function&&U.tagNameCheck(n))))return!1}else if(ht[r]);else if(Gt(M,Rt(n,C,"")));else if("src"!==r&&"xlink:href"!==r&&"href"!==r||"script"===t||0!==Ct(n,"data:")||!lt[t]){if($&&!Gt(R,Rt(n,C,"")));else if(n)return!1}else;return!0},_isBasicCustomElement=function(t){return"annotation-xml"!==t&&Lt(t,N)},_sanitizeAttributes=function(t){_executeHooks(k.beforeSanitizeAttributes,t,null);const{attributes:e}=t;if(!e||_isClobbered(t))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:D,forceKeepAttr:void 0};let n=e.length;for(;n--;){const o=e[n],{name:a,namespaceURI:i,value:s}=o,c=re(a);let u="value"===a?s:Nt(s);if(r.attrName=c,r.attrValue=u,r.keepAttr=!0,r.forceKeepAttr=void 0,_executeHooks(k.uponSanitizeAttribute,t,r),u=r.attrValue,!nt||"id"!==c&&"name"!==c||(_removeAttribute(a,t),u=ot+u),q&&Gt(/((--!?|])>)|<\/(style|title)/i,u)){_removeAttribute(a,t);continue}if(r.forceKeepAttr)continue;if(_removeAttribute(a,t),!r.keepAttr)continue;if(!V&&Gt(/\/>/i,u)){_removeAttribute(a,t);continue}X&&Tt([A,I,P],(t=>{u=Rt(u,t," ")}));const l=re(t.nodeName);if(_isValidAttribute(l,c,u)){if(b&&"object"==typeof h&&"function"==typeof h.getAttributeType)if(i);else switch(h.getAttributeType(l,c)){case"TrustedHTML":u=b.createHTML(u);break;case"TrustedScriptURL":u=b.createScriptURL(u)}try{i?t.setAttributeNS(i,a,u):t.setAttribute(a,u),_isClobbered(t)?_forceRemove(t):kt(DOMPurify.removed)}catch(t){}}}_executeHooks(k.afterSanitizeAttributes,t,null)},de=function _sanitizeShadowDOM(t){let e=null;const r=_createNodeIterator(t);for(_executeHooks(k.beforeSanitizeShadowDOM,t,null);e=r.nextNode();)_executeHooks(k.uponSanitizeShadowNode,e,null),_sanitizeElements(e),_sanitizeAttributes(e),e.content instanceof o&&_sanitizeShadowDOM(e.content);_executeHooks(k.afterSanitizeShadowDOM,t,null)};return DOMPurify.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,a=null,s=null,c=null;if(xt=!t,xt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!_isNode(t)){if("function"!=typeof t.toString)throw Ft("toString is not a function");if("string"!=typeof(t=t.toString()))throw Ft("dirty is not a string, aborting")}if(!DOMPurify.isSupported)return t;if(J||_parseConfig(e),DOMPurify.removed=[],"string"==typeof t&&(it=!1),it){if(t.nodeName){const e=re(t.nodeName);if(!G[e]||W[e])throw Ft("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof i)n=_initDocument("\x3c!----\x3e"),a=n.ownerDocument.importNode(t,!0),a.nodeType===se&&"BODY"===a.nodeName||"HTML"===a.nodeName?n=a:n.appendChild(a);else{if(!Q&&!X&&!K&&-1===t.indexOf("<"))return b&&et?b.createHTML(t):t;if(n=_initDocument(t),!n)return Q?null:et?x:""}n&&Z&&_forceRemove(n.firstChild);const u=_createNodeIterator(it?t:n);for(;s=u.nextNode();)_sanitizeElements(s),_sanitizeAttributes(s),s.content instanceof o&&de(s.content);if(it)return t;if(Q){if(tt)for(c=E.call(n.ownerDocument);n.firstChild;)c.appendChild(n.firstChild);else c=n;return(D.shadowroot||D.shadowrootmode)&&(c=S.call(r,c,!0)),c}let l=K?n.outerHTML:n.innerHTML;return K&&G["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&Gt(oe,n.ownerDocument.doctype.name)&&(l="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+l),X&&Tt([A,I,P],(t=>{l=Rt(l,t," ")})),b&&et?b.createHTML(l):l},DOMPurify.setConfig=function(){_parseConfig(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),J=!0},DOMPurify.clearConfig=function(){ne=null,J=!1},DOMPurify.isValidAttribute=function(t,e,r){ne||_parseConfig({});const n=re(t),o=re(e);return _isValidAttribute(n,o,r)},DOMPurify.addHook=function(t,e){"function"==typeof e&&At(k[t],e)},DOMPurify.removeHook=function(t,e){if(void 0!==e){const r=St(k[t],e);return-1===r?void 0:It(k[t],r,1)[0]}return kt(k[t])},DOMPurify.removeHooks=function(t){k[t]=[]},DOMPurify.removeAllHooks=function(){k={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},DOMPurify}();function InstagramStrategy_typeof(t){return InstagramStrategy_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},InstagramStrategy_typeof(t)}function InstagramStrategy_regeneratorRuntime(){InstagramStrategy_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==InstagramStrategy_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(InstagramStrategy_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function InstagramStrategy_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function InstagramStrategy_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){InstagramStrategy_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){InstagramStrategy_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}function InstagramStrategy_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,InstagramStrategy_toPropertyKey(n.key),n)}}function InstagramStrategy_toPropertyKey(t){var e=function(t,e){if("object"!=InstagramStrategy_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=InstagramStrategy_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==InstagramStrategy_typeof(e)?e:e+""}function InstagramStrategy_callSuper(t,e,r){return e=InstagramStrategy_getPrototypeOf(e),function(t,e){if(e&&("object"==InstagramStrategy_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,InstagramStrategy_isNativeReflectConstruct()?Reflect.construct(e,r||[],InstagramStrategy_getPrototypeOf(t).constructor):e.apply(t,r))}function InstagramStrategy_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(InstagramStrategy_isNativeReflectConstruct=function(){return!!t})()}function InstagramStrategy_getPrototypeOf(t){return InstagramStrategy_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},InstagramStrategy_getPrototypeOf(t)}function InstagramStrategy_setPrototypeOf(t,e){return InstagramStrategy_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},InstagramStrategy_setPrototypeOf(t,e)}var pe=function(t){function InstagramStrategy(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,InstagramStrategy),(r=InstagramStrategy_callSuper(this,InstagramStrategy,[t])).errorHandler=e,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&InstagramStrategy_setPrototypeOf(t,e)}(InstagramStrategy,t),e=InstagramStrategy,r=[{key:"isDirectMessageInputField",value:function(t){return!(!t||!t.matches('div[role="textbox"][contenteditable="true"]'))}},{key:"updateElement",value:(l=InstagramStrategy_asyncToGenerator(InstagramStrategy_regeneratorRuntime().mark((function _callee(t,e){var r,n,o;return InstagramStrategy_regeneratorRuntime().wrap((function(i){for(;1;)switch(i.prev=i.next){case 0:if(i.prev=0,!this.isDirectMessageInputField(t)){i.next=10;break}return i.next=4,this.clearContent(t);case 4:return i.next=6,this.pasteText(t,e);case 6:this.triggerStateUpdate(t),this.applyVisualFeedback(t),i.next=11;break;case 10:t.isContentEditable?(r=he.sanitize(e,{RETURN_TRUSTED_TYPE:!0}),n=new DOMParser,o=n.parseFromString(r.toString(),"text/html"),t.textContent="",Array.from(o.body.childNodes).forEach((function(e){t.appendChild(e)})),this.applyTextDirection(t,e),this.applyVisualFeedback(t)):(t.value=e,this.applyTextDirection(t,e),this.applyVisualFeedback(t));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t0=i["catch"](0),this.errorHandler.handle(i.t0,{type:a.UI,context:"instagram-strategy-updateElement"}),i.abrupt("return",!1);case 18:case"end":return i.stop()}}),_callee,this,[[0,14]])}))),function(t,e){return l.apply(this,arguments)})},{key:"clearContent",value:(u=InstagramStrategy_asyncToGenerator(InstagramStrategy_regeneratorRuntime().mark((function _callee2(t){return InstagramStrategy_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.safeFocus(t);case 5:return e.next=7,this.selectAllContent(t);case 7:return e.next=9,this.simulatePaste(t,"");case 9:return e.next=11,delay(50);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](2),this.errorHandler.handle(e.t0,{type:a.UI,context:"instagram-strategy-clearContent"});case 16:case"end":return e.stop()}}),_callee2,this,[[2,13]])}))),function(t){return u.apply(this,arguments)})},{key:"pasteText",value:(c=InstagramStrategy_asyncToGenerator(InstagramStrategy_regeneratorRuntime().mark((function _callee3(t,e){var r,n;return InstagramStrategy_regeneratorRuntime().wrap((function(o){for(;1;)switch(o.prev=o.next){case 0:if(t){o.next=2;break}return o.abrupt("return");case 2:return o.prev=2,(r=new DataTransfer).setData("text/plain",e),r.setData("text/html",e.replace(/\n/g,"<br>")),n=new ClipboardEvent("paste",{bubbles:!0,cancelable:!0,clipboardData:r}),t.dispatchEvent(n),o.next=10,delay(50);case 10:o.next=15;break;case 12:o.prev=12,o.t0=o["catch"](2),this.errorHandler.handle(o.t0,{type:a.UI,context:"instagram-strategy-pasteText"});case 15:case"end":return o.stop()}}),_callee3,this,[[2,12]])}))),function(t,e){return c.apply(this,arguments)})},{key:"extractText",value:function(t){try{var e,r,n,o,i,s;return t?null!=t&&t.isContentEditable?(null==t||null===(n=t.innerText)||void 0===n||null===(o=n.trim)||void 0===o?void 0:o.call(n))||"":"INPUT"===(null==t?void 0:t.tagName)||"TEXTAREA"===(null==t?void 0:t.tagName)?(null==t||null===(i=t.value)||void 0===i||null===(s=i.trim)||void 0===s?void 0:s.call(i))||"":(null==t||null===(e=t.textContent)||void 0===e||null===(r=e.trim)||void 0===r?void 0:r.call(e))||"":""}catch(t){return this.errorHandler.handle(t,{type:a.UI,context:"instagram-strategy-extractText"}),""}}},{key:"safeFocus",value:(s=InstagramStrategy_asyncToGenerator(InstagramStrategy_regeneratorRuntime().mark((function _callee4(t){return InstagramStrategy_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return e.prev=0,t.focus({preventScroll:!0}),e.next=4,delay(100);case 4:return e.abrupt("return",t);case 7:e.prev=7,e.t0=e["catch"](0),this.errorHandler.handle(e.t0,{type:a.UI,context:"instagram-strategy-safeFocus"});case 10:case"end":return e.stop()}}),_callee4,this,[[0,7]])}))),function(t){return s.apply(this,arguments)})},{key:"selectAllContent",value:(i=InstagramStrategy_asyncToGenerator(InstagramStrategy_regeneratorRuntime().mark((function _callee5(t){var e,r;return InstagramStrategy_regeneratorRuntime().wrap((function(n){for(;1;)switch(n.prev=n.next){case 0:return n.prev=0,e=window.getSelection(),(r=document.createRange()).selectNodeContents(t),e.removeAllRanges(),e.addRange(r),n.next=8,delay(100);case 8:n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),this.errorHandler.handle(n.t0,{type:a.UI,context:"instagram-strategy-selectAllContent"});case 13:return n.abrupt("return",t);case 14:case"end":return n.stop()}}),_callee5,this,[[0,10]])}))),function(t){return i.apply(this,arguments)})},{key:"simulatePaste",value:(o=InstagramStrategy_asyncToGenerator(InstagramStrategy_regeneratorRuntime().mark((function _callee6(t,e){var r,n;return InstagramStrategy_regeneratorRuntime().wrap((function(o){for(;1;)switch(o.prev=o.next){case 0:return(r=new DataTransfer).setData("text/plain",e),r.setData("text/html",e.replace(/\n/g,"<br>")),n=new ClipboardEvent("paste",{bubbles:!0,cancelable:!0,clipboardData:r}),t.dispatchEvent(n),o.next=7,delay(50);case 7:case"end":return o.stop()}}),_callee6)}))),function(t,e){return o.apply(this,arguments)})},{key:"triggerStateUpdate",value:function(t){t.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0}))}}],r&&InstagramStrategy_defineProperties(e.prototype,r),n&&InstagramStrategy_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,o,i,s,c,u,l}(ht);function TwitterStrategy_typeof(t){return TwitterStrategy_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TwitterStrategy_typeof(t)}function TwitterStrategy_regeneratorRuntime(){TwitterStrategy_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==TwitterStrategy_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(TwitterStrategy_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function TwitterStrategy_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function TwitterStrategy_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){TwitterStrategy_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){TwitterStrategy_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}function TwitterStrategy_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TwitterStrategy_toPropertyKey(n.key),n)}}function TwitterStrategy_toPropertyKey(t){var e=function(t,e){if("object"!=TwitterStrategy_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=TwitterStrategy_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==TwitterStrategy_typeof(e)?e:e+""}function TwitterStrategy_callSuper(t,e,r){return e=TwitterStrategy_getPrototypeOf(e),function(t,e){if(e&&("object"==TwitterStrategy_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,TwitterStrategy_isNativeReflectConstruct()?Reflect.construct(e,r||[],TwitterStrategy_getPrototypeOf(t).constructor):e.apply(t,r))}function TwitterStrategy_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(TwitterStrategy_isNativeReflectConstruct=function(){return!!t})()}function TwitterStrategy_getPrototypeOf(t){return TwitterStrategy_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},TwitterStrategy_getPrototypeOf(t)}function TwitterStrategy_setPrototypeOf(t,e){return TwitterStrategy_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},TwitterStrategy_setPrototypeOf(t,e)}var de=function(t){function TwitterStrategy(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,TwitterStrategy),(r=TwitterStrategy_callSuper(this,TwitterStrategy,[t])).errorHandler=e,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TwitterStrategy_setPrototypeOf(t,e)}(TwitterStrategy,t),e=TwitterStrategy,r=[{key:"isTwitterElement",value:function(t){if(!(t&&t instanceof Element))return!1;try{return!!t.closest('[data-testid="tweetTextarea_0"], [data-testid="tweetTextarea"]')}catch(t){return!1}}},{key:"isDMElement",value:function(t){if(!(t&&t instanceof Element))return!1;try{return!!t.closest('[data-testid="dmComposerTextInput"], [role="textbox"][aria-label="Text message"]')}catch(t){return!1}}},{key:"clearTweetField",value:function(t){if(t)try{t.focus();var e=window.getSelection();if(!(e.toString().length>0)){var r=document.createRange();r.selectNodeContents(t),e.removeAllRanges(),e.addRange(r)}var n=new DataTransfer;n.setData("text/plain","");var o=new ClipboardEvent("paste",{bubbles:!0,cancelable:!0,clipboardData:n});t.dispatchEvent(o)}catch(t){this.errorHandler.handle(t,{type:a.UI,context:"twitter-strategy-clearTweetField"})}}},{key:"pasteText_OLD",value:(s=TwitterStrategy_asyncToGenerator(TwitterStrategy_regeneratorRuntime().mark((function _callee(t,e){var r,n,o,i;return TwitterStrategy_regeneratorRuntime().wrap((function(s){for(;1;)switch(s.prev=s.next){case 0:if(t){s.next=2;break}return s.abrupt("return");case 2:if(s.prev=2,e&&"string"==typeof e){for(r=e.split("\n");r.length>0&&""===r[r.length-1].trim();)r.pop();n=r.join("\n"),(o=new DataTransfer).setData("text/plain",n),o.setData("text/html",n.replace(/\n/g,"<br>")),i=new ClipboardEvent("paste",{bubbles:!0,cancelable:!0,clipboardData:o}),t.dispatchEvent(i)}s.next=10;break;case 6:throw s.prev=6,s.t0=s["catch"](2),this.errorHandler.handle(s.t0,{type:a.UI,context:"twitter-strategy-pasteText"});case 10:case"end":return s.stop()}}),_callee,this,[[2,6]])}))),function(t,e){return s.apply(this,arguments)})},{key:"pasteText",value:(i=TwitterStrategy_asyncToGenerator(TwitterStrategy_regeneratorRuntime().mark((function _callee2(t,e){var r,n,o,i,s,c;return TwitterStrategy_regeneratorRuntime().wrap((function(u){for(;1;)switch(u.prev=u.next){case 0:if(t){u.next=2;break}return u.abrupt("return");case 2:if(u.prev=2,!e||"string"!=typeof e){u.next=22;break}return r=e.split("\n").filter((function(t){return""!==t.trim()})),n=r.join("\n"),t.focus(),u.next=9,delay(20);case 9:(o=document.createRange()).selectNodeContents(t),o.collapse(!1),(i=window.getSelection()).removeAllRanges(),i.addRange(o),(s=new DataTransfer).setData("text/plain",n),s.setData("text/html",n.replace(/\n/g,"<br>")),c=new ClipboardEvent("paste",{bubbles:!0,cancelable:!0,clipboardData:s}),t.dispatchEvent(c)&&""!==t.innerText.trim()||(t.innerText=n,t.dispatchEvent(new Event("beforeinput",{bubbles:!0})),t.dispatchEvent(new Event("input",{bubbles:!0}))),this.setCursorToEnd(t);case 22:u.next=28;break;case 24:throw u.prev=24,u.t0=u["catch"](2),this.errorHandler.handle(u.t0,{type:a.UI,context:"twitter-strategy-pasteText"});case 28:case"end":return u.stop()}}),_callee2,this,[[2,24]])}))),function(t,e){return i.apply(this,arguments)})},{key:"setCursorToEnd",value:function(t){if(t)try{var e=window.getSelection(),r=document.createRange();r.selectNodeContents(t),r.collapse(!1),e.removeAllRanges(),e.addRange(r)}catch(t){this.errorHandler.handle(t,{type:a.UI,context:"twitter-strategy-setCursorToEnd"})}}},{key:"isInputElement",value:function(t){return!!t&&("INPUT"===t.tagName||"TEXTAREA"===t.tagName)}},{key:"updateElement",value:(o=TwitterStrategy_asyncToGenerator(TwitterStrategy_regeneratorRuntime().mark((function _callee3(t,e){var r,n,o,i,s;return TwitterStrategy_regeneratorRuntime().wrap((function(c){for(;1;)switch(c.prev=c.next){case 0:if(c.prev=0,!(r=document.querySelector('[data-testid="SearchBox_Search_Input"]'))){c.next=11;break}n=!1;try{t&&"function"==typeof t.contains&&(n=t.contains(r))}catch(t){}if(!this.validateField(r)||t!==r&&!n&&document.activeElement!==r){c.next=11;break}return this.applyVisualFeedback(r),r.value=e,r.dispatchEvent(new Event("input",{bubbles:!0})),this.applyTextDirection(r,e),c.abrupt("return",!0);case 11:if(o=!1,t&&(o=this.isDMElement(t)),i=this.isDMElement(document.activeElement),!o&&!i){c.next=31;break}if(s=null,!(s=this.findField(t||document.activeElement,'[data-testid="dmComposerTextInput"]'))){c.next=31;break}try{window.getSelection().removeAllRanges()}catch(t){helpers_logME("[DEBUG] updateElement - Error removing selection ranges:",t)}return s.focus(),this.applyVisualFeedback(s),this.clearTweetField(s),c.next=25,delay(50);case 25:return this.pasteText(s,e),this.applyTextDirection(s,e),c.next=29,delay(100);case 29:return this.setCursorToEnd(s),c.abrupt("return",!0);case 31:return c.abrupt("return",!1);case 34:return c.prev=34,c.t0=c["catch"](0),helpers_logME("[DEBUG] Critical error in updateElement:",c.t0),this.errorHandler.handle(c.t0,{type:a.UI,context:"twitter-strategy-updateElement"}),c.abrupt("return",!1);case 39:case"end":return c.stop()}}),_callee3,this,[[0,34]])}))),function(t,e){return o.apply(this,arguments)})},{key:"extractText",value:function(t){var e=document.querySelector('[data-testid="SearchBox_Search_Input"]');if(e){var r=!1;if(t&&"function"==typeof t.contains&&(r=t.contains(e)),this.validateField(e)&&(t===e||document.activeElement===e||r))return e.value.trim()}var n,o=!1;if(t&&(o=this.isDMElement(t)),n=this.isDMElement(document.activeElement),o||n){var a=null;if(a=this.findField(t||document.activeElement,'[data-testid="dmComposerTextInput"]')){var i="";if("DIV"===a.tagName){var s=a.querySelector('[data-contents="true"]');i=s?Array.from(s.querySelectorAll(":scope > div")).map((function(t){return t.textContent})).join("\n").trim():a.textContent.trim()}else i=(a.value||"").trim();return i}}var c,u=null;c=this.isTwitterElement(document.activeElement);var l=!1;if(t&&(l=this.isTwitterElement(t)),!(u=c?document.activeElement:l?t:this.findField(t||document.body,'[data-testid="tweetTextarea_0"], [data-testid="tweetTextarea"]')))return"";var f="";if("DIV"===u.tagName){var h=u.querySelector('[data-contents="true"]');f=h?Array.from(h.querySelectorAll(":scope > div")).map((function(t){return t.textContent})).join("\n").trim():u.textContent.trim()}else f=(u.value||"").trim();return f}},{key:"validateField",value:function(t){try{return!!t&&t instanceof Element}catch(t){return!1}}},{key:"findField",value:function(t,e){if(!t)return null;try{return t.matches&&t.matches(e)?t:"function"==typeof t.querySelector?t.querySelector(e):document.querySelector(e)}catch(t){return null}}}],r&&TwitterStrategy_defineProperties(e.prototype,r),n&&TwitterStrategy_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,o,i,s}(ht);function TelegramStrategy_typeof(t){return TelegramStrategy_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TelegramStrategy_typeof(t)}function TelegramStrategy_regeneratorRuntime(){TelegramStrategy_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==TelegramStrategy_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(TelegramStrategy_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function TelegramStrategy_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function TelegramStrategy_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){TelegramStrategy_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){TelegramStrategy_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}function TelegramStrategy_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TelegramStrategy_toPropertyKey(n.key),n)}}function TelegramStrategy_toPropertyKey(t){var e=function(t,e){if("object"!=TelegramStrategy_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=TelegramStrategy_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==TelegramStrategy_typeof(e)?e:e+""}function TelegramStrategy_callSuper(t,e,r){return e=TelegramStrategy_getPrototypeOf(e),function(t,e){if(e&&("object"==TelegramStrategy_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,TelegramStrategy_isNativeReflectConstruct()?Reflect.construct(e,r||[],TelegramStrategy_getPrototypeOf(t).constructor):e.apply(t,r))}function TelegramStrategy_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(TelegramStrategy_isNativeReflectConstruct=function(){return!!t})()}function TelegramStrategy_getPrototypeOf(t){return TelegramStrategy_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},TelegramStrategy_getPrototypeOf(t)}function TelegramStrategy_setPrototypeOf(t,e){return TelegramStrategy_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},TelegramStrategy_setPrototypeOf(t,e)}var ye=function(t){function TelegramStrategy(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,TelegramStrategy),(r=TelegramStrategy_callSuper(this,TelegramStrategy,[t])).errorHandler=e,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TelegramStrategy_setPrototypeOf(t,e)}(TelegramStrategy,t),e=TelegramStrategy,r=[{key:"isInputField",value:function(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName}},{key:"isContentEditable",value:function(t){return t.isContentEditable}},{key:"getTelegramField",value:function(t){if(t)try{if(this.isInputField(t)||this.isContentEditable(t))return t;var e=t.closest('[aria-label="Message input"]')||t.closest(".composer_rich_textarea")||t.closest(".public_DraftEditor-content");if(!e){var r=document.querySelectorAll('[contenteditable="true"]');e=1===r.length?r[0]:null}if(e&&!this.isContentEditable(e)){var n=e.querySelector('[contenteditable="true"]');n&&(e=n)}return e}catch(t){this.errorHandler.handle(t,{type:a.UI,context:"telegram-strategy-getTelegramField"})}}},{key:"clearField",value:(u=TelegramStrategy_asyncToGenerator(TelegramStrategy_regeneratorRuntime().mark((function _callee(t){var e,r,n,o;return TelegramStrategy_regeneratorRuntime().wrap((function(i){for(;1;)switch(i.prev=i.next){case 0:if(i.prev=0,t){i.next=3;break}return i.abrupt("return");case 3:if(!this.isInputField(t)){i.next=7;break}t.value="",i.next=18;break;case 7:return(e=window.getSelection())&&((r=document.createRange()).selectNodeContents(t),e.removeAllRanges(),e.addRange(r)),i.next=11,delay(50);case 11:return t.innerHTML="",(n=new DataTransfer).setData("text/plain",""),o=new ClipboardEvent("paste",{bubbles:!0,cancelable:!0,clipboardData:n}),i.next=17,delay(50);case 17:t.dispatchEvent(o);case 18:i.next=23;break;case 20:i.prev=20,i.t0=i["catch"](0),this.errorHandler.handle(i.t0,{type:a.UI,context:"telegram-strategy-Clearfield"});case 23:case"end":return i.stop()}}),_callee,this,[[0,20]])}))),function(t){return u.apply(this,arguments)})},{key:"pasteText",value:function(t,e){try{if(!t)return;if(null!=e){var r=new DataTransfer;r.setData("text/plain",e);var n=e.replace(/\n/g,"<br>");r.setData("text/html",n);var o=new ClipboardEvent("paste",{bubbles:!0,cancelable:!0,clipboardData:r});t.dispatchEvent(o)}}catch(t){this.errorHandler.handle(t,{type:a.UI,context:"telegram-strategy-pasteText"})}}},{key:"setCursorToEnd",value:function(t){try{if(!t)return;if(this.isInputField(t)){var e=t.value.length;t.setSelectionRange(e,e)}else{var r=window.getSelection(),n=document.createRange();n.selectNodeContents(t),n.collapse(!1),r.removeAllRanges(),r.addRange(n)}}catch(t){this.errorHandler.handle(t,{type:a.SERVICE,context:"telegram-strategy-setCursorToEnd"})}}},{key:"updateElement",value:(c=TelegramStrategy_asyncToGenerator(TelegramStrategy_regeneratorRuntime().mark((function _callee2(t,e){var r,n;return TelegramStrategy_regeneratorRuntime().wrap((function(o){for(;1;)switch(o.prev=o.next){case 0:if(e){o.next=2;break}return o.abrupt("return",!1);case 2:if(t){o.next=4;break}return o.abrupt("return",!1);case 4:return r='[aria-label="Message input"], .composer_rich_textarea, .public_DraftEditor-content, [contenteditable="true"]',o.prev=5,o.next=8,delay(100);case 8:if(n=this.findField(t,r)||this.getTelegramField(t)||document.querySelector(r),this.validateField(n)){o.next=12;break}return helpers_logME("فیلد تلگرام یافت نشد"),o.abrupt("return",!1);case 12:if(t===n||n.contains(t)){o.next=14;break}return o.abrupt("return",!1);case 14:return o.next=16,this.safeFocus(n);case 16:if(this.applyVisualFeedback(document.getElementById("message-input-text")),!this.isInputField(n)){o.next=23;break}n.value=e,n.setAttribute("dir",S.RTL_REGEX.test(e)?"rtl":"ltr"),n.dispatchEvent(new Event("input",{bubbles:!0})),o.next=26;break;case 23:return o.next=25,this.clearField(n);case 25:this.pasteText(n,e);case 26:return this.setCursorToEnd(n),o.abrupt("return",!0);case 30:return o.prev=30,o.t0=o["catch"](5),this.errorHandler.handle(o.t0,{type:a.SERVICE,context:"telegram-strategy-updateElement"}),o.abrupt("return",!1);case 34:case"end":return o.stop()}}),_callee2,this,[[5,30]])}))),function(t,e){return c.apply(this,arguments)})},{key:"extractText",value:function(t){try{if(!t)return"";if(t.isContentEditable)return t.innerText.trim();if(t.value)return t.value.trim();if(t.textContent)return t.textContent.trim()}catch(t){this.errorHandler.handle(t,{type:a.UI,context:"Telegram-strategy-extractText-fallback"})}return""}},{key:"validateField",value:function(t){var e=null==t?void 0:t.querySelector('[contenteditable="true"]');return t&&t.isConnected&&(this.isInputField(t)||this.isContentEditable(t)||e)}},{key:"safeFocus",value:(s=TelegramStrategy_asyncToGenerator(TelegramStrategy_regeneratorRuntime().mark((function _callee3(t){return TelegramStrategy_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t.focus({preventScroll:!0}),e.next=6,delay(100);case 6:return e.abrupt("return",t);case 9:e.prev=9,e.t0=e["catch"](2),this.errorHandler.handle(e.t0,{type:a.UI,context:"telegram-strategy-safeFocus"});case 12:case"end":return e.stop()}}),_callee3,this,[[2,9]])}))),function(t){return s.apply(this,arguments)})},{key:"selectAllContent",value:(i=TelegramStrategy_asyncToGenerator(TelegramStrategy_regeneratorRuntime().mark((function _callee4(t){return TelegramStrategy_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,document.execCommand("selectAll"),e.next=6,delay(100);case 6:return e.abrupt("return",t);case 9:e.prev=9,e.t0=e["catch"](2),this.errorHandler.handle(e.t0,{type:a.UI,context:"telegram-strategy-SelectAllContent"});case 12:case"end":return e.stop()}}),_callee4,this,[[2,9]])}))),function(t){return i.apply(this,arguments)})},{key:"simulatePaste",value:(o=TelegramStrategy_asyncToGenerator(TelegramStrategy_regeneratorRuntime().mark((function _callee5(t,e){var r,n,o,i;return TelegramStrategy_regeneratorRuntime().wrap((function(s){for(;1;)switch(s.prev=s.next){case 0:if(t&&null!=e){s.next=2;break}return s.abrupt("return");case 2:return s.prev=2,r=(r=e.trim()).replace(/\n{2,}/g,"\n"),n=r.replace(/\n/g,"<br>"),(o=new DataTransfer).setData("text/plain",r),o.setData("text/html",n),i=new ClipboardEvent("paste",{bubbles:!0,cancelable:!0,clipboardData:o}),t.dispatchEvent(i),s.next=13,delay(50);case 13:s.next=18;break;case 15:s.prev=15,s.t0=s["catch"](2),this.errorHandler.handle(s.t0,{type:a.UI,context:"telegram-strategy-simulatePaste"});case 18:case"end":return s.stop()}}),_callee5,this,[[2,15]])}))),function(t,e){return o.apply(this,arguments)})},{key:"triggerStateUpdate",value:function(t){t.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0}))}}],r&&TelegramStrategy_defineProperties(e.prototype,r),n&&TelegramStrategy_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,o,i,s,c,u}(ht);function MediumStrategy_typeof(t){return MediumStrategy_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MediumStrategy_typeof(t)}function MediumStrategy_regeneratorRuntime(){MediumStrategy_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==MediumStrategy_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(MediumStrategy_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function MediumStrategy_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function MediumStrategy_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){MediumStrategy_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){MediumStrategy_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}function MediumStrategy_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MediumStrategy_toPropertyKey(n.key),n)}}function MediumStrategy_toPropertyKey(t){var e=function(t,e){if("object"!=MediumStrategy_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=MediumStrategy_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==MediumStrategy_typeof(e)?e:e+""}function MediumStrategy_callSuper(t,e,r){return e=MediumStrategy_getPrototypeOf(e),function(t,e){if(e&&("object"==MediumStrategy_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,MediumStrategy_isNativeReflectConstruct()?Reflect.construct(e,r||[],MediumStrategy_getPrototypeOf(t).constructor):e.apply(t,r))}function MediumStrategy_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(MediumStrategy_isNativeReflectConstruct=function(){return!!t})()}function MediumStrategy_getPrototypeOf(t){return MediumStrategy_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},MediumStrategy_getPrototypeOf(t)}function MediumStrategy_setPrototypeOf(t,e){return MediumStrategy_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},MediumStrategy_setPrototypeOf(t,e)}var ge=function(t){function MediumStrategy(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,MediumStrategy),(r=MediumStrategy_callSuper(this,MediumStrategy,[t])).errorHandler=e,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MediumStrategy_setPrototypeOf(t,e)}(MediumStrategy,t),e=MediumStrategy,r=[{key:"shouldShowDefaultIcon",value:function(){return!0}},{key:"isMediumElement",value:function(t){return!(!t.closest('[role="textbox"]')&&!t.closest('[data-testid="editor-container"]'))}},{key:"updateElement",value:(c=MediumStrategy_asyncToGenerator(MediumStrategy_regeneratorRuntime().mark((function _callee(t,e){return MediumStrategy_regeneratorRuntime().wrap((function(r){for(;1;)switch(r.prev=r.next){case 0:if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName){r.next=5;break}return t.value=e,t.dispatchEvent(new Event("input",{bubbles:!0})),this.applyVisualFeedback(t),r.abrupt("return",!0);case 5:return r.abrupt("return",!1);case 6:case"end":return r.stop()}}),_callee,this)}))),function(t,e){return c.apply(this,arguments)})},{key:"extractText",value:function(t){try{var e,r,n,o;if(!t)return"";if("INPUT"===t.tagName||"TEXTAREA"===t.tagName)return(null==t||null===(n=t.value)||void 0===n||null===(o=n.trim)||void 0===o?void 0:o.call(n))||"";var i=this.findMediumTextField(t);return(null==i||null===(e=i.innerText)||void 0===e||null===(r=e.trim)||void 0===r?void 0:r.call(e))||""}catch(t){return this.errorHandler.handle(t,{type:a.UI,context:"medium-strategy-extractText"}),""}}},{key:"safeFocus",value:(s=MediumStrategy_asyncToGenerator(MediumStrategy_regeneratorRuntime().mark((function _callee2(t){return MediumStrategy_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:if(e.prev=0,t.isConnected){e.next=3;break}return e.abrupt("return",null);case 3:return t.focus({preventScroll:!0}),e.next=6,delay(150);case 6:if(document.activeElement===t){e.next=10;break}return t.focus({preventScroll:!0}),e.next=10,delay(100);case 10:return e.abrupt("return",t);case 13:e.prev=13,e.t0=e["catch"](0),this.errorHandler.handle(e.t0,{type:a.UI,context:"medium-strategy-safeFocus"});case 16:case"end":return e.stop()}}),_callee2,this,[[0,13]])}))),function(t){return s.apply(this,arguments)})},{key:"selectAllContent",value:(i=MediumStrategy_asyncToGenerator(MediumStrategy_regeneratorRuntime().mark((function _callee3(t){return MediumStrategy_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return document.execCommand("selectAll"),e.next=3,delay(100);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),_callee3)}))),function(t){return i.apply(this,arguments)})},{key:"simulatePaste",value:(o=MediumStrategy_asyncToGenerator(MediumStrategy_regeneratorRuntime().mark((function _callee4(t,e){var r,n;return MediumStrategy_regeneratorRuntime().wrap((function(o){for(;1;)switch(o.prev=o.next){case 0:return(r=new DataTransfer).setData("text/plain",e),r.setData("text/html",e.replace(/\n/g,"<br>")),n=new ClipboardEvent("paste",{bubbles:!0,cancelable:!0,clipboardData:r}),t.dispatchEvent(n),o.next=7,delay(50);case 7:case"end":return o.stop()}}),_callee4)}))),function(t,e){return o.apply(this,arguments)})},{key:"findMediumTextField",value:function(t){for(var e=t,r=0;r<5&&e;r++){var n=e.closest('[role="textbox"][contenteditable="true"], [data-testid="editor-container"]');if(n)return n;e=e.parentElement}return document.querySelector('[role="textbox"][contenteditable="true"], [data-testid="editor-container"]')}},{key:"triggerStateUpdate",value:function(t){t.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0}))}}],r&&MediumStrategy_defineProperties(e.prototype,r),n&&MediumStrategy_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,o,i,s,c}(ht),setCursorToEnd=function(t){try{if(null==t||!t.isConnected)return;if(t.focus(),"INPUT"===t.tagName||"TEXTAREA"===t.tagName)t.selectionStart=t.selectionEnd=t.value.length;else if(t.isContentEditable){var e=document.createRange(),r=window.getSelection();e.selectNodeContents(t),e.collapse(!1),r.removeAllRanges(),r.addRange(e)}t.scrollTop=t.scrollHeight}catch(t){throw(new _).handle(t,{type:a.UI,context:"helpers-setCursorToEnd"})}};function ChatGPTStrategy_typeof(t){return ChatGPTStrategy_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ChatGPTStrategy_typeof(t)}function ChatGPTStrategy_regeneratorRuntime(){ChatGPTStrategy_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==ChatGPTStrategy_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(ChatGPTStrategy_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function ChatGPTStrategy_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ChatGPTStrategy_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ChatGPTStrategy_toPropertyKey(n.key),n)}}function ChatGPTStrategy_toPropertyKey(t){var e=function(t,e){if("object"!=ChatGPTStrategy_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ChatGPTStrategy_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ChatGPTStrategy_typeof(e)?e:e+""}function ChatGPTStrategy_callSuper(t,e,r){return e=ChatGPTStrategy_getPrototypeOf(e),function(t,e){if(e&&("object"==ChatGPTStrategy_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ChatGPTStrategy_isNativeReflectConstruct()?Reflect.construct(e,r||[],ChatGPTStrategy_getPrototypeOf(t).constructor):e.apply(t,r))}function ChatGPTStrategy_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ChatGPTStrategy_isNativeReflectConstruct=function(){return!!t})()}function ChatGPTStrategy_getPrototypeOf(t){return ChatGPTStrategy_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ChatGPTStrategy_getPrototypeOf(t)}function ChatGPTStrategy_setPrototypeOf(t,e){return ChatGPTStrategy_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ChatGPTStrategy_setPrototypeOf(t,e)}var ve=function(t){function ChatGPTStrategy(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ChatGPTStrategy),(r=ChatGPTStrategy_callSuper(this,ChatGPTStrategy,[t])).errorHandler=e,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ChatGPTStrategy_setPrototypeOf(t,e)}(ChatGPTStrategy,t),e=ChatGPTStrategy,r=[{key:"isChatGPTElement",value:function(t){return"prompt-textarea"===t.id}},{key:"extractText",value:function(t){try{if(document.querySelector(".absolute .inset-0"))return"";var e=t;if(e&&this.isChatGPTElement(e)||(e=document.querySelector("#prompt-textarea")),!e)throw new Error("عنصر ChatGPT برای استخراج متن شناسایی نشد.");return Array.from(e.querySelectorAll("p")).map((function(t){return t.textContent.trim()})).join("\n")}catch(t){return this.errorHandler.handle(t,{type:a.UI,context:"chatgpt-strategy-extractText"}),""}}},{key:"updateElement",value:(o=ChatGPTStrategy_regeneratorRuntime().mark((function _callee(t,e){var r,n,o,i;return ChatGPTStrategy_regeneratorRuntime().wrap((function(s){for(;1;)switch(s.prev=s.next){case 0:if(s.prev=0,!document.querySelector(".absolute .inset-0")){s.next=4;break}return s.abrupt("return",!1);case 4:return r=e.replace(/\n/g,"<br>"),n=he.sanitize(r,{RETURN_TRUSTED_TYPE:!0}),o=new DOMParser,i=o.parseFromString(n.toString(),"text/html"),t.textContent="",Array.from(i.body.childNodes).forEach((function(e){t.appendChild(e)})),this.applyBaseStyling(t,e),setCursorToEnd(t),this.applyVisualFeedback(t),s.abrupt("return",!0);case 16:return s.prev=16,s.t0=s["catch"](0),this.errorHandler.handle(s.t0,{type:a.UI,context:"chatgpt-strategy-updateElement"}),s.abrupt("return",!1);case 20:case"end":return s.stop()}}),_callee,this,[[0,16]])})),i=function(){var t=this,e=arguments;return new Promise((function(r,n){var a=o.apply(t,e);function _next(t){ChatGPTStrategy_asyncGeneratorStep(a,r,n,_next,_throw,"next",t)}function _throw(t){ChatGPTStrategy_asyncGeneratorStep(a,r,n,_next,_throw,"throw",t)}_next(void 0)}))},function(t,e){return i.apply(this,arguments)})},{key:"applyBaseStyling",value:function(t,e){var r=S.RTL_REGEX.test(e);t.style.direction=r?"rtl":"ltr",t.style.textAlign=r?"right":"left"}}],r&&ChatGPTStrategy_defineProperties(e.prototype,r),n&&ChatGPTStrategy_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,o,i}(ht);function YoutubeStrategy_typeof(t){return YoutubeStrategy_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YoutubeStrategy_typeof(t)}function YoutubeStrategy_regeneratorRuntime(){YoutubeStrategy_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==YoutubeStrategy_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(YoutubeStrategy_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function YoutubeStrategy_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function YoutubeStrategy_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){YoutubeStrategy_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){YoutubeStrategy_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}function YoutubeStrategy_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YoutubeStrategy_toPropertyKey(n.key),n)}}function YoutubeStrategy_toPropertyKey(t){var e=function(t,e){if("object"!=YoutubeStrategy_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=YoutubeStrategy_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==YoutubeStrategy_typeof(e)?e:e+""}function YoutubeStrategy_callSuper(t,e,r){return e=YoutubeStrategy_getPrototypeOf(e),function(t,e){if(e&&("object"==YoutubeStrategy_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,YoutubeStrategy_isNativeReflectConstruct()?Reflect.construct(e,r||[],YoutubeStrategy_getPrototypeOf(t).constructor):e.apply(t,r))}function YoutubeStrategy_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(YoutubeStrategy_isNativeReflectConstruct=function(){return!!t})()}function YoutubeStrategy_getPrototypeOf(t){return YoutubeStrategy_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},YoutubeStrategy_getPrototypeOf(t)}function YoutubeStrategy_setPrototypeOf(t,e){return YoutubeStrategy_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},YoutubeStrategy_setPrototypeOf(t,e)}var me=function(t){function YoutubeStrategy(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,YoutubeStrategy),(r=YoutubeStrategy_callSuper(this,YoutubeStrategy,[t,e])).errorHandler=e,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YoutubeStrategy_setPrototypeOf(t,e)}(YoutubeStrategy,t),e=YoutubeStrategy,r=[{key:"isYoutube_ExtraField",value:function(t){return!(!t||"INPUT"!==t.tagName||"search_query"!==t.getAttribute("name")&&"end"!==t.getAttribute("id"))}},{key:"extractText",value:function(t){try{var e,r,n,o,i,s;return t?null!=t&&t.isContentEditable?(null==t||null===(n=t.innerText)||void 0===n||null===(o=n.trim)||void 0===o?void 0:o.call(n))||"":null==t||!t.tagName||"TEXTAREA"!==t.tagName&&"INPUT"!==t.tagName?(null==t||null===(e=t.textContent)||void 0===e||null===(r=e.trim)||void 0===r?void 0:r.call(e))||"":(null==t||null===(i=t.value)||void 0===i||null===(s=i.trim)||void 0===s?void 0:s.call(i))||"":""}catch(t){return this.errorHandler.handle(t,{type:a.UI,context:"youtube-strategy-extractText"}),""}}},{key:"updateElement",value:(i=YoutubeStrategy_asyncToGenerator(YoutubeStrategy_regeneratorRuntime().mark((function _callee(t,e){var r,n,o,i;return YoutubeStrategy_regeneratorRuntime().wrap((function(s){for(;1;)switch(s.prev=s.next){case 0:if(s.prev=0,t&&t.isConnected){s.next=4;break}return helpers_logME("عنصر معتبر برای به‌روزرسانی وجود ندارد"),s.abrupt("return",!1);case 4:return null!=e&&(t.isContentEditable?(r=e.replace(/\n/g,"<br>"),n=he.sanitize(r,{RETURN_TRUSTED_TYPE:!0}),o=new DOMParser,i=o.parseFromString(n.toString(),"text/html"),t.textContent="",Array.from(i.body.childNodes).forEach((function(e){t.appendChild(e)})),this.applyVisualFeedback(t),this.applyTextDirection(t,r)):(t.value=e,this.applyVisualFeedback(t),this.applyTextDirection(t,e))),s.abrupt("return",!0);case 8:return s.prev=8,s.t0=s["catch"](0),this.errorHandler.handle(s.t0,{type:a.UI,context:"youtube-strategy-updateElement",element:null==t?void 0:t.tagName}),s.abrupt("return",!1);case 12:case"end":return s.stop()}}),_callee,this,[[0,8]])}))),function(t,e){return i.apply(this,arguments)})},{key:"clearContent",value:(o=YoutubeStrategy_asyncToGenerator(YoutubeStrategy_regeneratorRuntime().mark((function _callee2(t){return YoutubeStrategy_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:if(e.prev=0,t&&t.isConnected){e.next=3;break}return e.abrupt("return");case 3:"INPUT"===t.tagName||"TEXTAREA"===t.tagName?t.value="":t.innerHTML="",this.applyVisualFeedback(t),e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](0),this.errorHandler.handle(e.t0,{type:a.UI,context:"youtube-strategy-clearContent",element:null==t?void 0:t.tagName});case 11:case"end":return e.stop()}}),_callee2,this,[[0,7]])}))),function(t){return o.apply(this,arguments)})}],r&&YoutubeStrategy_defineProperties(e.prototype,r),n&&YoutubeStrategy_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,o,i}(ht);function DefaultStrategy_typeof(t){return DefaultStrategy_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DefaultStrategy_typeof(t)}function DefaultStrategy_regeneratorRuntime(){DefaultStrategy_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==DefaultStrategy_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(DefaultStrategy_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function DefaultStrategy_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function DefaultStrategy_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DefaultStrategy_toPropertyKey(n.key),n)}}function DefaultStrategy_toPropertyKey(t){var e=function(t,e){if("object"!=DefaultStrategy_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=DefaultStrategy_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==DefaultStrategy_typeof(e)?e:e+""}function DefaultStrategy_callSuper(t,e,r){return e=DefaultStrategy_getPrototypeOf(e),function(t,e){if(e&&("object"==DefaultStrategy_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,DefaultStrategy_isNativeReflectConstruct()?Reflect.construct(e,r||[],DefaultStrategy_getPrototypeOf(t).constructor):e.apply(t,r))}function DefaultStrategy_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(DefaultStrategy_isNativeReflectConstruct=function(){return!!t})()}function DefaultStrategy_getPrototypeOf(t){return DefaultStrategy_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},DefaultStrategy_getPrototypeOf(t)}function DefaultStrategy_setPrototypeOf(t,e){return DefaultStrategy_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},DefaultStrategy_setPrototypeOf(t,e)}var be=function(t){function DefaultStrategy(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,DefaultStrategy),(r=DefaultStrategy_callSuper(this,DefaultStrategy,[t])).errorHandler=e,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DefaultStrategy_setPrototypeOf(t,e)}(DefaultStrategy,t),e=DefaultStrategy,r=[{key:"extractText",value:function(t){try{var e,r,n,o,i,s;return t&&t instanceof Element?t.isContentEditable?(null===(n=t.innerText)||void 0===n||null===(o=n.trim)||void 0===o?void 0:o.call(n))||"":["TEXTAREA","INPUT"].includes(t.tagName)?(null===(i=t.value)||void 0===i||null===(s=i.trim)||void 0===s?void 0:s.call(i))||"":(null===(e=t.textContent)||void 0===e||null===(r=e.trim)||void 0===r?void 0:r.call(e))||"":""}catch(t){return this.errorHandler.handle(t,{type:a.UI,context:"default-strategy-extractText"}),""}}},{key:"updateElement",value:(o=DefaultStrategy_regeneratorRuntime().mark((function _callee(t,e){var r,n,o,i;return DefaultStrategy_regeneratorRuntime().wrap((function(s){for(;1;)switch(s.prev=s.next){case 0:if(s.prev=0,null==e){s.next=7;break}return this.applyVisualFeedback(t),t.isContentEditable?(r=e.replace(/\n/g,"<br>"),n=he.sanitize(r,{RETURN_TRUSTED_TYPE:!0}),o=new DOMParser,i=o.parseFromString(n.toString(),"text/html"),t.textContent="",Array.from(i.body.childNodes).forEach((function(e){t.appendChild(e)})),this.applyTextDirection(t,r)):(t.value=e,this.applyTextDirection(t,e)),s.next=6,delay(500);case 6:return s.abrupt("return",!0);case 7:s.next=13;break;case 9:return s.prev=9,s.t0=s["catch"](0),this.errorHandler.handle(s.t0,{type:a.UI,context:"default-strategy-updateElement"}),s.abrupt("return",!1);case 13:case"end":return s.stop()}}),_callee,this,[[0,9]])})),i=function(){var t=this,e=arguments;return new Promise((function(r,n){var a=o.apply(t,e);function _next(t){DefaultStrategy_asyncGeneratorStep(a,r,n,_next,_throw,"next",t)}function _throw(t){DefaultStrategy_asyncGeneratorStep(a,r,n,_next,_throw,"throw",t)}_next(void 0)}))},function(t,e){return i.apply(this,arguments)})},{key:"clearContent",value:function(t){if(t)try{"INPUT"===t.tagName||"TEXTAREA"===t.tagName?t.value="":t.innerHTML=""}catch(t){this.errorHandler.handle(t,{type:a.UI,context:"default-strategy-clearContent"})}}}],r&&DefaultStrategy_defineProperties(e.prototype,r),n&&DefaultStrategy_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,o,i}(ht);function DiscordStrategy_regeneratorRuntime(){DiscordStrategy_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==DiscordStrategy_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(DiscordStrategy_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function DiscordStrategy_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function DiscordStrategy_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){DiscordStrategy_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){DiscordStrategy_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}function DiscordStrategy_typeof(t){return DiscordStrategy_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DiscordStrategy_typeof(t)}function DiscordStrategy_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DiscordStrategy_toPropertyKey(n.key),n)}}function DiscordStrategy_toPropertyKey(t){var e=function(t,e){if("object"!=DiscordStrategy_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=DiscordStrategy_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==DiscordStrategy_typeof(e)?e:e+""}function DiscordStrategy_callSuper(t,e,r){return e=DiscordStrategy_getPrototypeOf(e),function(t,e){if(e&&("object"==DiscordStrategy_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,DiscordStrategy_isNativeReflectConstruct()?Reflect.construct(e,r||[],DiscordStrategy_getPrototypeOf(t).constructor):e.apply(t,r))}function DiscordStrategy_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(DiscordStrategy_isNativeReflectConstruct=function(){return!!t})()}function DiscordStrategy_getPrototypeOf(t){return DiscordStrategy_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},DiscordStrategy_getPrototypeOf(t)}function DiscordStrategy_setPrototypeOf(t,e){return DiscordStrategy_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},DiscordStrategy_setPrototypeOf(t,e)}var xe=function(t){function DiscordStrategy(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,DiscordStrategy),(r=DiscordStrategy_callSuper(this,DiscordStrategy,[t])).errorHandler=e,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DiscordStrategy_setPrototypeOf(t,e)}(DiscordStrategy,t),e=DiscordStrategy,r=[{key:"extractText",value:function(t){try{var e,r,n,o,i,s;return t&&t instanceof HTMLElement?t.isContentEditable?(null===(i=t.innerText)||void 0===i||null===(s=i.trim)||void 0===s?void 0:s.call(i))||"":(null===(e=t.value)||void 0===e||null===(r=e.trim)||void 0===r?void 0:r.call(e))||(null===(n=t.textContent)||void 0===n||null===(o=n.trim)||void 0===o?void 0:o.call(n))||"":""}catch(t){return this.errorHandler.handle(t,{type:a.UI,context:"discord-strategy-extractText"}),""}}},{key:"_isSlateEditor",value:function(t){return t.hasAttribute("data-slate-editor")&&t.hasAttribute("data-slate-node")&&"value"===t.getAttribute("data-slate-node")}},{key:"_getReactFiber",value:function(t){var e=Object.keys(t).find((function(t){return t.startsWith("__reactInternalInstance")||t.startsWith("__reactFiber")}));return e?t[e]:null}},{key:"_getSlateEditor",value:function(t){try{var e=this._getReactFiber(t);if(!e)return null;for(var r=e,n=0,o=50;r&&n<o;){if(n++,r.memoizedProps){var a=r.memoizedProps;if(a.editor&&"object"===DiscordStrategy_typeof(a.editor)&&(a.editor.children||a.editor.operations))return a.editor}if(r.stateNode&&r.stateNode.editor)return r.stateNode.editor;r=r["return"]||r._debugOwner||r.parent}return null}catch(t){return helpers_logME("[DiscordStrategy] خطا در _getSlateEditor:",t),null}}},{key:"_updateViaSlateAPI",value:(u=DiscordStrategy_asyncToGenerator(DiscordStrategy_regeneratorRuntime().mark((function _callee(t,e){var r,n,o,a;return DiscordStrategy_regeneratorRuntime().wrap((function(i){for(;1;)switch(i.prev=i.next){case 0:if(i.prev=0,r=this._getSlateEditor(t)){i.next=5;break}return helpers_logME("[DiscordStrategy] Slate editor instance پیدا نشد"),i.abrupt("return",!1);case 5:if(helpers_logME("[DiscordStrategy] Slate editor instance پیدا شد"),!window.Slate||!window.Slate.Transforms){i.next=13;break}return n=window.Slate,o=n.Transforms,a=n.Editor,o.select(r,{anchor:a.start(r,[]),focus:a.end(r,[])}),o["delete"](r),o.insertText(r,e),helpers_logME("[DiscordStrategy] محتوا از طریق Slate API به‌روزرسانی شد"),i.abrupt("return",!0);case 13:return i.abrupt("return",!1);case 16:return i.prev=16,i.t0=i["catch"](0),helpers_logME("[DiscordStrategy] خطا در _updateViaSlateAPI:",i.t0),i.abrupt("return",!1);case 20:case"end":return i.stop()}}),_callee,this,[[0,16]])}))),function(t,e){return u.apply(this,arguments)})},{key:"_simulateNaturalTyping",value:(c=DiscordStrategy_asyncToGenerator(DiscordStrategy_regeneratorRuntime().mark((function _callee2(t,e){var r,n,o,a,i,s,c,u;return DiscordStrategy_regeneratorRuntime().wrap((function(l){for(;1;)switch(l.prev=l.next){case 0:return l.prev=0,t.focus(),l.next=4,delay(50);case 4:(r=window.getSelection())&&((n=document.createRange()).selectNodeContents(t),r.removeAllRanges(),r.addRange(n)),o=[new KeyboardEvent("keydown",{key:"Backspace",keyCode:8,bubbles:!0,cancelable:!0}),new KeyboardEvent("keyup",{key:"Backspace",keyCode:8,bubbles:!0,cancelable:!0})],a=0,i=o;case 8:if(!(a<i.length)){l.next=16;break}return s=i[a],t.dispatchEvent(s),l.next=13,delay(10);case 13:a++,l.next=8;break;case 16:c=0;case 17:if(!(c<e.length)){l.next=29;break}if(u=e[c],t.dispatchEvent(new KeyboardEvent("keydown",{key:u,bubbles:!0,cancelable:!0})),t.dispatchEvent(new InputEvent("beforeinput",{inputType:"insertText",data:u,bubbles:!0,cancelable:!0})),t.dispatchEvent(new InputEvent("input",{inputType:"insertText",data:u,bubbles:!0,cancelable:!0})),t.dispatchEvent(new KeyboardEvent("keyup",{key:u,bubbles:!0,cancelable:!0})),c%5!=0){l.next=26;break}return l.next=26,delay(10);case 26:c++,l.next=17;break;case 29:return l.abrupt("return",!0);case 32:return l.prev=32,l.t0=l["catch"](0),helpers_logME("[DiscordStrategy] خطا در _simulateNaturalTyping:",l.t0),l.abrupt("return",!1);case 36:case"end":return l.stop()}}),_callee2,null,[[0,32]])}))),function(t,e){return c.apply(this,arguments)})},{key:"_updateViaClipboard",value:(s=DiscordStrategy_asyncToGenerator(DiscordStrategy_regeneratorRuntime().mark((function _callee3(t,e){var r,n,o,a;return DiscordStrategy_regeneratorRuntime().wrap((function(i){for(;1;)switch(i.prev=i.next){case 0:return i.prev=0,t.focus(),i.next=4,delay(50);case 4:return(r=window.getSelection())&&((n=document.createRange()).selectNodeContents(t),r.removeAllRanges(),r.addRange(n)),i.next=8,navigator.clipboard.writeText(e);case 8:return o=new InputEvent("beforeinput",{inputType:"insertFromPaste",bubbles:!0,cancelable:!0}),t.dispatchEvent(o),(a=new ClipboardEvent("paste",{bubbles:!0,cancelable:!0,clipboardData:new DataTransfer})).clipboardData.setData("text/plain",e),a.clipboardData.setData("text/html",e),t.dispatchEvent(a),i.next=16,delay(100);case 16:return t.dispatchEvent(new InputEvent("input",{inputType:"insertFromPaste",bubbles:!0,cancelable:!0})),i.abrupt("return",!0);case 20:return i.prev=20,i.t0=i["catch"](0),helpers_logME("[DiscordStrategy] خطا در _updateViaClipboard:",i.t0),i.abrupt("return",!1);case 24:case"end":return i.stop()}}),_callee3,null,[[0,20]])}))),function(t,e){return s.apply(this,arguments)})},{key:"_fallbackExecCommand",value:(i=DiscordStrategy_asyncToGenerator(DiscordStrategy_regeneratorRuntime().mark((function _callee4(t,e){var r,n;return DiscordStrategy_regeneratorRuntime().wrap((function(o){for(;1;)switch(o.prev=o.next){case 0:if(o.prev=0,t.focus(),(r=window.getSelection())&&((n=document.createRange()).selectNodeContents(t),r.removeAllRanges(),r.addRange(n)),!document.queryCommandSupported("insertText")){o.next=9;break}if(!document.execCommand("insertText",!1,e)){o.next=9;break}return t.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),o.abrupt("return",!0);case 9:return o.abrupt("return",!1);case 12:return o.prev=12,o.t0=o["catch"](0),helpers_logME("[DiscordStrategy] خطا در _fallbackExecCommand:",o.t0),o.abrupt("return",!1);case 16:case"end":return o.stop()}}),_callee4,null,[[0,12]])}))),function(t,e){return i.apply(this,arguments)})},{key:"updateElement",value:(o=DiscordStrategy_asyncToGenerator(DiscordStrategy_regeneratorRuntime().mark((function _callee5(t,e){var r,n,o,i,s;return DiscordStrategy_regeneratorRuntime().wrap((function(c){for(;1;)switch(c.prev=c.next){case 0:if(null!=e){c.next=2;break}return c.abrupt("return",!1);case 2:if(!document.querySelector(".keyboardShortcutsModal_f061f6")){c.next=5;break}return c.abrupt("return",!1);case 5:if(r=!1,c.prev=6,helpers_logME("[DiscordStrategy] شروع به‌روزرسانی element با متن:",e.substring(0,50)+"..."),!this._isSlateEditor(t)){c.next=13;break}return helpers_logME("[DiscordStrategy] تلاش با Slate API..."),c.next=12,this._updateViaSlateAPI(t,e);case 12:r=c.sent;case 13:if(r){c.next=18;break}return helpers_logME("[DiscordStrategy] تلاش با clipboard paste..."),c.next=17,this._updateViaClipboard(t,e);case 17:r=c.sent;case 18:if(r){c.next=23;break}return helpers_logME("[DiscordStrategy] تلاش با شبیه‌سازی تایپ..."),c.next=22,this._simulateNaturalTyping(t,e);case 22:r=c.sent;case 23:if(r){c.next=28;break}return helpers_logME("[DiscordStrategy] تلاش با execCommand..."),c.next=27,this._fallbackExecCommand(t,e);case 27:r=c.sent;case 28:if(!r){c.next=44;break}return c.next=31,delay(100);case 31:if((n=this.extractText(t)).trim()!==e.trim()){c.next=42;break}return helpers_logME("[DiscordStrategy] به‌روزرسانی با موفقیت تأیید شد"),this.applyTextDirection(t,e),c.next=37,this.applyVisualFeedback(t);case 37:t.focus(),(o=window.getSelection())&&(i=document.createRange(),(s=t.querySelector('[data-slate-string="true"]'))&&s.firstChild&&(i.setStart(s.firstChild,s.textContent.length),i.setEnd(s.firstChild,s.textContent.length),o.removeAllRanges(),o.addRange(i))),c.next=44;break;case 42:helpers_logME("[DiscordStrategy] متن نهایی مطابقت نداشت. انتظار:",e.trim(),"دریافت:",n.trim()),r=!1;case 44:c.next=52;break;case 46:return c.prev=46,c.t0=c["catch"](6),helpers_logME("[DiscordStrategy] خطای عمومی در updateElement:",c.t0),r=!1,c.next=52,this.errorHandler.handle(c.t0,{type:c.t0.type||a.UI,context:"Discord-strategy-updateElement",errorMessage:c.t0.message});case 52:return r||helpers_logME("[DiscordStrategy] همه روش‌ها ناموفق بودند"),c.abrupt("return",r);case 54:case"end":return c.stop()}}),_callee5,this,[[6,46]])}))),function(t,e){return o.apply(this,arguments)})}],r&&DiscordStrategy_defineProperties(e.prototype,r),n&&DiscordStrategy_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,o,i,s,c,u}(ht);function IconManager_typeof(t){return IconManager_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IconManager_typeof(t)}function IconManager_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IconManager_toPropertyKey(n.key),n)}}function IconManager_toPropertyKey(t){var e=function(t,e){if("object"!=IconManager_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=IconManager_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==IconManager_typeof(e)?e:e+""}var we=function(){return t=function IconManager(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,IconManager),this.errorHandler=t},(e=[{key:"cleanup",value:function(){O.highlightedElement&&(O.highlightedElement.style.outline="",O.highlightedElement=null),document.querySelectorAll(".AIWritingCompanion-translation-icon-extension").forEach((function(t){t.classList.add("fade-out"),setTimeout((function(){return t.remove()}),50)})),O.activeTranslateIcon=null}},{key:"applyTextDirection",value:function(t,e){if(null!=t&&t.style){var r=S.RTL_REGEX.test(e);t.style.direction=r?"rtl":"ltr",t.style.textAlign=r?"right":"left"}}},{key:"createTranslateIcon",value:function(t){try{if(null==t||!t.isConnected)return null;r="styles/icon.css",(n=document.createElement("link")).rel="stylesheet",n.type="text/css",n.href=o().runtime.getURL(r),document.head.appendChild(n);var e=document.createElement("button");return e.className="AIWritingCompanion-translation-icon-extension",e.textContent=S.ICON_TRANSLATION,e.title=S.TRANSLATION_ICON_TITLE,e.style.display="none",document.body.appendChild(e),requestAnimationFrame((function(){if(t.isConnected){var r=t.getBoundingClientRect();e.style.top="".concat(r.top+window.scrollY+10,"px"),e.style.left="".concat(r.left+window.scrollX+r.width+10,"px"),e.style.display="block",e.classList.add("AIWritingCompanion-translation-icon-extension-fade-in")}})),e}catch(t){return this.errorHandler.handle(t,{type:a.UI,context:"IconManager-createTranslateIcon"}),null}var r,n}}])&&IconManager_defineProperties(t.prototype,e),r&&IconManager_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();var _e="default",Ee="whatsapp",Te="telegram",Se="instagram",ke="twitter",Ae="medium",Ie="chatgpt",Pe="youtube",Oe="discord";function detectPlatform(){var t=window.location.hostname.toLowerCase();return{"web.whatsapp.com":Ee,"web.telegram.org":Te,"www.instagram.com":Se,"twitter.com":ke,"x.com":ke,"medium.com":Ae,"chat.openai.com":Ie,"chat.com":Ie,"chatgpt.com":Ie,"www.youtube.com":Pe,"discord.com":Oe}[t]||_e}function smartTranslationIntegration_typeof(t){return smartTranslationIntegration_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},smartTranslationIntegration_typeof(t)}function smartTranslationIntegration_regeneratorRuntime(){smartTranslationIntegration_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==smartTranslationIntegration_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(smartTranslationIntegration_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function smartTranslationIntegration_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function translateFieldViaSmartHandler(t){return _translateFieldViaSmartHandler.apply(this,arguments)}function _translateFieldViaSmartHandler(){var t;return t=smartTranslationIntegration_regeneratorRuntime().mark((function _callee(t){var e,r,n,i,s,c,u,l,f,h,p,d,y,g,v,m,b,x,w,_,E,T,S,I,P,O;return smartTranslationIntegration_regeneratorRuntime().wrap((function(L){for(;1;)switch(L.prev=L.next){case 0:if(n=t.text,i=t.translationHandler,s=t.target,c=t.selectionRange,u=void 0===c?null:c,n&&i){L.next=3;break}return L.abrupt("return");case 3:return l=u?A:k,f=null!==(e=null===(r=i.detectPlatform)||void 0===r?void 0:r.call(i,s))&&void 0!==e?e:detectPlatform(),L.prev=5,injectPageBridge(),L.next=9,smartTranslate(n,l);case 9:if(!1!==(null==(x=L.sent)?void 0:x.success)){L.next=16;break}return(w=new Error(x.error||a.API)).type=a.API,L.next=15,i.errorHandler.handle(w,{type:a.API,context:"smartTranslate-response-handler",statusCode:x.statusCode||400,isPrimary:!0});case 15:return L.abrupt("return");case 16:if(_=(null!==(h=null!==(p=null!==(d=null!==(y=null===(g=x.data)||void 0===g?void 0:g.translatedText)&&void 0!==y?y:x.translatedText)&&void 0!==d?d:null===(v=x.result)||void 0===v||null===(v=v.data)||void 0===v?void 0:v.translatedText)&&void 0!==p?p:null===(m=x.result)||void 0===m?void 0:m.translatedText)&&void 0!==h?h:"").trim()){L.next=23;break}return(E=new Error(a.TRANSLATION_NOT_FOUND)).type=a.API,L.next=22,i.errorHandler.handle(E,{type:a.API,context:"smartTranslate-handler-main",isPrimary:!0});case 22:return L.abrupt("return");case 23:if(T=null!=s&&s.isContentEditable?s.innerText.trim():s&&"value"in s?s.value.trim():null,helpers_logME("[SmartTranslateHandler] Initial value:",T),S=!1,!u||null===(b=i.strategies[f])||void 0===b||!b.updateElement){L.next=32;break}return L.next=29,i.strategies[f].updateElement(u,_);case 29:S=L.sent,L.next=36;break;case 32:if(!s){L.next=36;break}return L.next=35,i.updateTargetElement(s,_);case 35:S=L.sent;case 36:if(helpers_logME("[SmartTranslateHandler] updateElement result:",S),I=null!=s&&s.isContentEditable?s.innerText.trim():s&&"value"in s?s.value.trim():null,!S||T===I){L.next=41;break}return helpers_logME("[SmartTranslateHandler] Strategy applied successfully"),L.abrupt("return");case 41:if(I!==_){L.next=44;break}return helpers_logME("[SmartTranslateHandler] DOM already updated"),L.abrupt("return");case 44:return helpers_logME("[SmartTranslateHandler] ❗ Fallback to manual apply"),L.next=47,o().runtime.sendMessage({action:"applyTranslationToActiveElement",payload:{translatedText:_}});case 47:if(!0===(P=L.sent)||P&&!0===P.success){L.next=53;break}throw(O=new Error((null==P?void 0:P.error)||a.API_SERVICE)).type=a.API,O;case 53:return helpers_logME("[SmartTranslateHandler] Fallback applied successfully"),L.prev=54,L.next=57,navigator.clipboard.writeText(_);case 57:return L.t0=i.notifier,L.next=60,i18n_getTranslationString("STATUS_SMARTTRANSLATE_COPIED");case 60:if(L.t1=L.sent,L.t1){L.next=63;break}L.t1="ترجمه در حافظه کپی شد. (Ctrl+V)";case 63:L.t2=L.t1,L.t0.show.call(L.t0,L.t2,"success",!0,3e3),L.next=71;break;case 67:return L.prev=67,L.t3=L["catch"](54),L.next=71,i.errorHandler.handle(L.t3,{type:a.UI,context:"smartTranslation-clipboard"});case 71:L.next=77;break;case 73:return L.prev=73,L.t4=L["catch"](5),L.next=77,i.errorHandler.handle(L.t4,{type:L.t4.type||a.API,context:"smartTranslate-handler-main-second"});case 77:case"end":return L.stop()}}),_callee,null,[[5,73],[54,67]])})),_translateFieldViaSmartHandler=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){smartTranslationIntegration_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){smartTranslationIntegration_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))},_translateFieldViaSmartHandler.apply(this,arguments)}function IconBehavior_typeof(t){return IconBehavior_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IconBehavior_typeof(t)}function IconBehavior_regeneratorRuntime(){IconBehavior_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==IconBehavior_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(IconBehavior_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function IconBehavior_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function setupIconBehavior(t,e,r,n,o){if(t&&e){var i,s=!1,c=new Set,cleanupIcon=function(){var r;s||(s=!0,c.forEach((function(t){return cancelAnimationFrame(t)})),null===(r=i)||void 0===r||r.disconnect(),t.removeEventListener("click",u),t.removeEventListener("blur",blurHandler),e.removeEventListener("blur",blurHandler),t.classList.add("fade-out"),setTimeout((function(){return t.remove()}),50),O.activeTranslateIcon=null)},u=function(){var t,i=(t=IconBehavior_regeneratorRuntime().mark((function _callee(t){var i,s,c,u;return IconBehavior_regeneratorRuntime().wrap((function(l){for(;1;)switch(l.prev=l.next){case 0:if(t.preventDefault(),t.stopPropagation(),isExtensionContextValid()){l.next=7;break}throw(i=new Error(a.CONTEXT)).type=a.CONTEXT,i.context="iconbehavior-click-context",i;case 7:if(s=null,l.prev=8,c=detectPlatform(),u=o[c].extractText(e)){l.next=13;break}return l.abrupt("return");case 13:return l.t0=n,l.next=16,i18n_getTranslationString("STATUS_TRANSLATING_ICON");case 16:if(l.t1=l.sent,l.t1){l.next=19;break}l.t1="در حال ترجمه...";case 19:return l.t2=l.t1,s=l.t0.show.call(l.t0,l.t2,"status",!1),l.next=23,translateFieldViaSmartHandler({text:u,target:e,translationHandler:r});case 23:l.next=28;break;case 25:l.prev=25,l.t3=l["catch"](8),helpers_logME("[IconBehavior] ",l.t3);case 28:return l.prev=28,s&&n.dismiss(s),cleanupIcon(),l.finish(28);case 32:case"end":return l.stop()}}),_callee,null,[[8,25,28,32]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){IconBehavior_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){IconBehavior_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))});return function(t){return i.apply(this,arguments)}}(),blurHandler=function(e){e.relatedTarget&&t.contains(e.relatedTarget)||setTimeout(cleanupIcon,50)},updatePosition=function(){if(e.isConnected&&t.isConnected){var r=requestAnimationFrame((function(){var r=e.getBoundingClientRect();t.style.top="".concat(r.bottom+window.scrollY+5,"px"),t.style.left="".concat(r.left+window.scrollX,"px"),t.style.display="block",t.classList.add("fade-in")}));c.add(r)}else cleanupIcon()};try{t instanceof HTMLElement&&t.isConnected||helpers_logME("[IconBehavior] آیکون معتبر نیست"),e.isConnected&&document.contains(e)||helpers_logME("[IconBehavior] المان هدف در DOM وجود ندارد"),t.style.display="none",document.body.appendChild(t),(i=new ResizeObserver(updatePosition)).observe(e),t.addEventListener("click",u),t.addEventListener("blur",blurHandler),e.addEventListener("blur",blurHandler),updatePosition(),O.activeTranslateIcon=t}catch(t){cleanupIcon(),r.errorHandler.handle(t,{type:a.UI,context:"IconBehavior-setup"})}}}var Le="Auto Detect";var Re=new Set(["the","a","an","is","are","was","were","in","on","at","to","of","for","with","by","from"]),Ce=30;function determineTranslationMode(t,e){return function(t){var e=t.trim(),r=e.split(/\s+/),n=e.length,o=1===r.length&&!Re.has(r[0].toLowerCase())&&n<=Ce,a=r.length>1&&n<=Ce;return o||a}(t)?P:e}function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Ne={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function changeDefaults(t){Ne=t}const Me={exec:()=>null};function edit(t,e=""){let r="string"==typeof t?t:t.source;const n={replace:(t,e)=>{let o="string"==typeof e?e:e.source;return o=o.replace(Ge.caret,"$1"),r=r.replace(t,o),n},getRegex:()=>new RegExp(r,e)};return n}const Ge={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Fe=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,je=/(?:[*+-]|\d{1,9}[.)])/,De=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,He=edit(De).replace(/bull/g,je).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Ue=edit(De).replace(/bull/g,je).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),We=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Be=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ze=edit(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Be).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Ye=edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,je).getRegex(),$e="address|article|aside|base|basefont|blockquote|body|caption"+"|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption"+"|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe"+"|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option"+"|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title"+"|tr|track|ul",Ve=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Xe=edit("^ {0,3}(?:"+"<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)"+"|comment[^\\n]*(\\n+|$)"+"|<\\?[\\s\\S]*?(?:\\?>\\n*|$)"+"|<![A-Z][\\s\\S]*?(?:>\\n*|$)"+"|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)"+"|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)"+"|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)"+"|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)"+")","i").replace("comment",Ve).replace("tag",$e).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),qe=edit(We).replace("hr",Fe).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$e).getRegex(),Ke={blockquote:edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",qe).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:ze,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Fe,html:Xe,lheading:He,list:Ye,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:qe,table:Me,text:/^[^\n]+/},Je=edit("^ *([^\\n ].*)\\n"+" {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)"+"(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Fe).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$e).getRegex(),Ze={...Ke,lheading:Ue,table:Je,paragraph:edit(We).replace("hr",Fe).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Je).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$e).getRegex()},Qe={...Ke,html:edit("^ *(?:comment *(?:\\n|\\s*$)"+"|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)"+"|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Ve).replace(/tag/g,"(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub"+"|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)"+"\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Me,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(We).replace("hr",Fe).replace("heading"," *#{1,6} *[^\n]").replace("lheading",He).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},tr=/^( {2,}|\\)\n(?!\s*$)/,er=/[\p{P}\p{S}]/u,rr=/[\s\p{P}\p{S}]/u,nr=/[^\s\p{P}\p{S}]/u,or=edit(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,rr).getRegex(),ar=/(?!~)[\p{P}\p{S}]/u,ir=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,sr=edit(ir,"u").replace(/punct/g,er).getRegex(),cr=edit(ir,"u").replace(/punct/g,ar).getRegex(),ur="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)"+"|[^*]+(?=[^*])"+"|(?!\\*)punct(\\*+)(?=[\\s]|$)"+"|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)"+"|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)"+"|[\\s](\\*+)(?!\\*)(?=punct)"+"|(?!\\*)punct(\\*+)(?!\\*)(?=punct)"+"|notPunctSpace(\\*+)(?=notPunctSpace)",lr=edit(ur,"gu").replace(/notPunctSpace/g,nr).replace(/punctSpace/g,rr).replace(/punct/g,er).getRegex(),fr=edit(ur,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,ar).getRegex(),hr=edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)"+"|[^_]+(?=[^_])"+"|(?!_)punct(_+)(?=[\\s]|$)"+"|notPunctSpace(_+)(?!_)(?=punctSpace|$)"+"|(?!_)punctSpace(_+)(?=notPunctSpace)"+"|[\\s](_+)(?!_)(?=punct)"+"|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,nr).replace(/punctSpace/g,rr).replace(/punct/g,er).getRegex(),pr=edit(/\\(punct)/,"gu").replace(/punct/g,er).getRegex(),dr=edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),yr=edit(Ve).replace("(?:--\x3e|$)","--\x3e").getRegex(),gr=edit("^comment"+"|^</[a-zA-Z][\\w:-]*\\s*>"+"|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>"+"|^<\\?[\\s\\S]*?\\?>"+"|^<![a-zA-Z]+\\s[\\s\\S]*?>"+"|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",yr).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),vr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,mr=edit(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",vr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),br=edit(/^!?\[(label)\]\[(ref)\]/).replace("label",vr).replace("ref",Be).getRegex(),xr=edit(/^!?\[(ref)\](?:\[\])?/).replace("ref",Be).getRegex(),wr={_backpedal:Me,anyPunctuation:pr,autolink:dr,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:tr,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Me,emStrongLDelim:sr,emStrongRDelimAst:lr,emStrongRDelimUnd:hr,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:mr,nolink:xr,punctuation:or,reflink:br,reflinkSearch:edit("reflink|nolink(?!\\()","g").replace("reflink",br).replace("nolink",xr).getRegex(),tag:gr,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Me},_r={...wr,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",vr).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",vr).getRegex()},Er={...wr,emStrongRDelimAst:fr,emStrongLDelim:cr,url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Tr={...Er,br:edit(tr).replace("{2,}","*").getRegex(),text:edit(Er.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Sr={normal:Ke,gfm:Ze,pedantic:Qe},kr={normal:wr,gfm:Er,breaks:Tr,pedantic:_r},Ar={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=t=>Ar[t];function marked_esm_escape(t,e){if(e){if(Ge.escapeTest.test(t))return t.replace(Ge.escapeReplace,getEscapeReplacement)}else if(Ge.escapeTestNoEncode.test(t))return t.replace(Ge.escapeReplaceNoEncode,getEscapeReplacement);return t}function cleanUrl(t){try{t=encodeURI(t).replace(Ge.percentDecode,"%")}catch{return null}return t}function splitCells(t,e){const r=t.replace(Ge.findPipe,((t,e,r)=>{let n=!1,o=e;for(;--o>=0&&"\\"===r[o];)n=!n;return n?"|":" |"})).split(Ge.splitPipe);let n=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;n<r.length;n++)r[n]=r[n].trim().replace(Ge.slashPipe,"|");return r}function rtrim(t,e,r){const n=t.length;if(0===n)return"";let o=0;for(;o<n;){if(t.charAt(n-o-1)!==e||!1)break;o++}return t.slice(0,n-o)}function outputLink(t,e,r,n,o){const a=e.href,i=e.title||null,s=t[1].replace(o.other.outputLinkReplace,"$1");if("!"!==t[0].charAt(0)){n.state.inLink=!0;const t={type:"link",raw:r,href:a,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,t}return{type:"image",raw:r,href:a,title:i,text:s}}class _Tokenizer{options;rules;lexer;constructor(t){this.options=t||Ne}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:rtrim(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const t=e[0],r=function(t,e,r){const n=t.match(r.other.indentCodeCompensation);if(null===n)return e;const o=n[1];return e.split("\n").map((t=>{const e=t.match(r.other.beginningSpace);if(null===e)return t;const[n]=e;return n.length>=o.length?t.slice(o.length):t})).join("\n")}(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){const e=rtrim(t,"#");this.options.pedantic?t=e.trim():e&&!this.rules.other.endingSpaceChar.test(e)||(t=e.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:rtrim(e[0],"\n")}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let t=rtrim(e[0],"\n").split("\n"),r="",n="";const o=[];for(;t.length>0;){let e=!1;const a=[];let i;for(i=0;i<t.length;i++)if(this.rules.other.blockquoteStart.test(t[i]))a.push(t[i]),e=!0;else{if(e)break;a.push(t[i])}t=t.slice(i);const s=a.join("\n"),c=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}\n${s}`:s,n=n?`${n}\n${c}`:c;const u=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,o,!0),this.lexer.state.top=u,0===t.length)break;const l=o.at(-1);if("code"===l?.type)break;if("blockquote"===l?.type){const e=l,a=e.raw+"\n"+t.join("\n"),i=this.blockquote(a);o[o.length-1]=i,r=r.substring(0,r.length-e.raw.length)+i.raw,n=n.substring(0,n.length-e.text.length)+i.text;break}if("list"!==l?.type);else{const e=l,a=e.raw+"\n"+t.join("\n"),i=this.list(a);o[o.length-1]=i,r=r.substring(0,r.length-l.raw.length)+i.raw,n=n.substring(0,n.length-e.raw.length)+i.raw,t=a.substring(o.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:r,tokens:o,text:n}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim();const n=r.length>1,o={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");const a=this.rules.other.listItemRegex(r);let i=!1;for(;t;){let r=!1,n="",s="";if(!(e=a.exec(t)))break;if(this.rules.block.hr.test(t))break;n=e[0],t=t.substring(n.length);let c=e[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(t=>" ".repeat(3*t.length))),u=t.split("\n",1)[0],l=!c.trim(),f=0;if(this.options.pedantic?(f=2,s=c.trimStart()):l?f=e[1].length+1:(f=e[2].search(this.rules.other.nonSpaceChar),f=f>4?1:f,s=c.slice(f),f+=e[1].length),l&&this.rules.other.blankLine.test(u)&&(n+=u+"\n",t=t.substring(u.length+1),r=!0),!r){const e=this.rules.other.nextBulletRegex(f),r=this.rules.other.hrRegex(f),o=this.rules.other.fencesBeginRegex(f),a=this.rules.other.headingBeginRegex(f),i=this.rules.other.htmlBeginRegex(f);for(;t;){const h=t.split("\n",1)[0];let p;if(u=h,this.options.pedantic?(u=u.replace(this.rules.other.listReplaceNesting,"  "),p=u):p=u.replace(this.rules.other.tabCharGlobal,"    "),o.test(u))break;if(a.test(u))break;if(i.test(u))break;if(e.test(u))break;if(r.test(u))break;if(p.search(this.rules.other.nonSpaceChar)>=f||!u.trim())s+="\n"+p.slice(f);else{if(l)break;if(c.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(o.test(c))break;if(a.test(c))break;if(r.test(c))break;s+="\n"+u}l||u.trim()||(l=!0),n+=h+"\n",t=t.substring(h.length+1),c=p.slice(f)}}o.loose||(i?o.loose=!0:this.rules.other.doubleBlankLine.test(n)&&(i=!0));let h,p=null;this.options.gfm&&(p=this.rules.other.listIsTask.exec(s),p&&(h="[ ] "!==p[0],s=s.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:n,task:!!p,checked:h,loose:!1,text:s,tokens:[]}),o.raw+=n}const s=o.items.at(-1);if(!s)return;s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd(),o.raw=o.raw.trimEnd();for(let t=0;t<o.items.length;t++)if(this.lexer.state.top=!1,o.items[t].tokens=this.lexer.blockTokens(o.items[t].text,[]),!o.loose){const e=o.items[t].tokens.filter((t=>"space"===t.type)),r=e.length>0&&e.some((t=>this.rules.other.anyLine.test(t.raw)));o.loose=r}if(o.loose)for(let t=0;t<o.items.length;t++)o.items[t].loose=!0;return o}}html(t){const e=this.rules.block.html.exec(t);if(e){return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}}def(t){const e=this.rules.block.def.exec(t);if(e){const t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:r,title:n}}}table(t){const e=this.rules.block.table.exec(t);if(!e)return;if(!this.rules.other.tableDelimiter.test(e[2]))return;const r=splitCells(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],a={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===n.length){for(const t of n)this.rules.other.tableAlignRight.test(t)?a.align.push("right"):this.rules.other.tableAlignCenter.test(t)?a.align.push("center"):this.rules.other.tableAlignLeft.test(t)?a.align.push("left"):a.align.push(null);for(let t=0;t<r.length;t++)a.header.push({text:r[t],tokens:this.lexer.inline(r[t]),header:!0,align:a.align[t]});for(const t of o)a.rows.push(splitCells(t,a.header.length).map(((t,e)=>({text:t,tokens:this.lexer.inline(t),header:!1,align:a.align[e]}))));return a}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const e=rtrim(t.slice(0,-1),"\\");if((t.length-e.length)%2==0)return}else{const t=function(t,e){if(-1===t.indexOf(e[1]))return-1;let r=0;for(let n=0;n<t.length;n++)if("\\"===t[n])n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return-1}(e[2],"()");if(t>-1){const r=(0===e[0].indexOf("!")?5:4)+e[1].length+t;e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,r).trim(),e[3]=""}}let r=e[2],n="";if(this.options.pedantic){const t=this.rules.other.pedanticHrefTitle.exec(r);t&&(r=t[1],n=t[3])}else n=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(r=this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?r.slice(1):r.slice(1,-1)),outputLink(e,{href:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r,title:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n},e[0],this.lexer,this.rules)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){const t=e[(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!t){const t=r[0].charAt(0);return{type:"text",raw:t,text:t}}return outputLink(r,t,r[0],this.lexer,this.rules)}}emStrong(t,e,r=""){let n=this.rules.inline.emStrongLDelim.exec(t);if(!n)return;if(n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(n[1]||n[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const r=[...n[0]].length-1;let o,a,i=r,s=0;const c="*"===n[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+r);null!=(n=c.exec(e));){if(o=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!o)continue;if(a=[...o].length,n[3]||n[4]){i+=a;continue}if((n[5]||n[6])&&r%3&&!((r+a)%3)){s+=a;continue}if(i-=a,i>0)continue;a=Math.min(a,a+i+s);const e=[...n[0]][0].length,c=t.slice(0,r+n.index+e+a);if(Math.min(r,a)%2){const t=c.slice(1,-1);return{type:"em",raw:c,text:t,tokens:this.lexer.inlineTokens(t)}}const u=c.slice(2,-2);return{type:"strong",raw:c,text:u,tokens:this.lexer.inlineTokens(u)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(t),n=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return r&&n&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let t,r;return"@"===e[2]?(t=e[1],r="mailto:"+t):(t=e[1],r=t),{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let t,r;if("@"===e[2])t=e[0],r="mailto:"+t;else{let n;do{n=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??""}while(n!==e[0]);t=e[0],r="www."===e[1]?"http://"+e[0]:e[0]}return{type:"link",raw:e[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}}class _Lexer{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ne,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={other:Ge,block:Sr.normal,inline:kr.normal};this.options.pedantic?(e.block=Sr.pedantic,e.inline=kr.pedantic):this.options.gfm&&(e.block=Sr.gfm,this.options.breaks?e.inline=kr.breaks:e.inline=kr.gfm),this.tokenizer.rules=e}static get rules(){return{block:Sr,inline:kr}}static lex(t,e){return new _Lexer(e).lex(t)}static lexInline(t,e){return new _Lexer(e).inlineTokens(t)}lex(t){t=t.replace(Ge.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[],r=!1){for(this.options.pedantic&&(t=t.replace(Ge.tabCharGlobal,"    ").replace(Ge.spaceLine,""));t;){let n;if(this.options.extensions?.block?.some((r=>!!(n=r.call({lexer:this},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0))))continue;if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length);const r=e.at(-1);1===n.raw.length&&void 0!==r?r.raw+="\n":e.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length);const r=e.at(-1);"paragraph"===r?.type||"text"===r?.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.at(-1).src=r.text):e.push(n);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length);const r=e.at(-1);"paragraph"===r?.type||"text"===r?.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue.at(-1).src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),e.push(n);continue}let o=t;if(this.options.extensions?.startBlock){let e=1/0;const r=t.slice(1);let n;this.options.extensions.startBlock.forEach((t=>{n=t.call({lexer:this},r),"number"==typeof n&&n>=0&&(e=Math.min(e,n))})),e<1/0&&e>=0&&(o=t.substring(0,e+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o))){const a=e.at(-1);r&&"paragraph"===a?.type?(a.raw+="\n"+n.raw,a.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):e.push(n),r=o.length!==t.length,t=t.substring(n.raw.length)}else if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length);const r=e.at(-1);"text"===r?.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=r.text):e.push(n)}else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let r=t,n=null;if(this.tokens.links){const t=Object.keys(this.tokens.links);if(t.length>0)for(;null!=(n=this.tokenizer.rules.inline.reflinkSearch.exec(r));)t.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(n=this.tokenizer.rules.inline.blockSkip.exec(r));)r=r.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(n=this.tokenizer.rules.inline.anyPunctuation.exec(r));)r=r.slice(0,n.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o=!1,a="";for(;t;){let n;if(o||(a=""),o=!1,this.options.extensions?.inline?.some((r=>!!(n=r.call({lexer:this},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0))))continue;if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length);const r=e.at(-1);"text"===n.type&&"text"===r?.type?(r.raw+=n.raw,r.text+=n.text):e.push(n);continue}if(n=this.tokenizer.emStrong(t,r,a)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),e.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),e.push(n);continue}let i=t;if(this.options.extensions?.startInline){let e=1/0;const r=t.slice(1);let n;this.options.extensions.startInline.forEach((t=>{n=t.call({lexer:this},r),"number"==typeof n&&n>=0&&(e=Math.min(e,n))})),e<1/0&&e>=0&&(i=t.substring(0,e+1))}if(n=this.tokenizer.inlineText(i)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),o=!0;const r=e.at(-1);"text"===r?.type?(r.raw+=n.raw,r.text+=n.text):e.push(n)}else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return e}}class _Renderer{options;parser;constructor(t){this.options=t||Ne}space(t){return""}code({text:t,lang:e,escaped:r}){const n=(e||"").match(Ge.notSpaceStart)?.[0],o=t.replace(Ge.endingNewline,"")+"\n";return n?'<pre><code class="language-'+marked_esm_escape(n)+'">'+(r?o:marked_esm_escape(o,!0))+"</code></pre>\n":"<pre><code>"+(r?o:marked_esm_escape(o,!0))+"</code></pre>\n"}blockquote({tokens:t}){return`<blockquote>\n${this.parser.parse(t)}</blockquote>\n`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>\n`}hr(t){return"<hr>\n"}list(t){const e=t.ordered,r=t.start;let n="";for(let e=0;e<t.items.length;e++){const r=t.items[e];n+=this.listitem(r)}const o=e?"ol":"ul";return"<"+o+(e&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+o+">\n"}listitem(t){let e="";if(t.task){const r=this.checkbox({checked:!!t.checked});t.loose?"paragraph"===t.tokens[0]?.type?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=r+" "+marked_esm_escape(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>\n`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>\n`}table(t){let e="",r="";for(let e=0;e<t.header.length;e++)r+=this.tablecell(t.header[e]);e+=this.tablerow({text:r});let n="";for(let e=0;e<t.rows.length;e++){const o=t.rows[e];r="";for(let t=0;t<o.length;t++)r+=this.tablecell(o[t]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),"<table>\n"+"<thead>\n"+e+"</thead>\n"+n+"</table>\n"}tablerow({text:t}){return`<tr>\n${t}</tr>\n`}tablecell(t){const e=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${marked_esm_escape(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:r}){const n=this.parser.parseInline(r),o=cleanUrl(t);if(null===o)return n;let a='<a href="'+(t=o)+'"';return e&&(a+=' title="'+marked_esm_escape(e)+'"'),a+=">"+n+"</a>",a}image({href:t,title:e,text:r}){const n=cleanUrl(t);if(null===n)return marked_esm_escape(r);let o=`<img src="${t=n}" alt="${r}"`;return e&&(o+=` title="${marked_esm_escape(e)}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:marked_esm_escape(t.text)}}class _TextRenderer{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class _Parser{options;renderer;textRenderer;constructor(t){this.options=t||Ne,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new _TextRenderer}static parse(t,e){return new _Parser(e).parse(t)}static parseInline(t,e){return new _Parser(e).parseInline(t)}parse(t,e=!0){let r="";for(let n=0;n<t.length;n++){const o=t[n];if(this.options.extensions?.renderers?.[o.type]){const t=o,e=this.options.extensions.renderers[t.type].call({parser:this},t);if(!1!==e||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(t.type)){r+=e||"";continue}}const a=o;switch(a.type){case"space":r+=this.renderer.space(a);continue;case"hr":r+=this.renderer.hr(a);continue;case"heading":r+=this.renderer.heading(a);continue;case"code":r+=this.renderer.code(a);continue;case"table":r+=this.renderer.table(a);continue;case"blockquote":r+=this.renderer.blockquote(a);continue;case"list":r+=this.renderer.list(a);continue;case"html":r+=this.renderer.html(a);continue;case"paragraph":r+=this.renderer.paragraph(a);continue;case"text":{let o=a,i=this.renderer.text(o);for(;n+1<t.length&&"text"===t[n+1].type;)o=t[++n],i+="\n"+this.renderer.text(o);r+=e?this.renderer.paragraph({type:"paragraph",raw:i,text:i,tokens:[{type:"text",raw:i,text:i,escaped:!0}]}):i;continue}default:{const t='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return r}parseInline(t,e=this.renderer){let r="";for(let n=0;n<t.length;n++){const o=t[n];if(this.options.extensions?.renderers?.[o.type]){const t=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==t||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=t||"";continue}}const a=o;switch(a.type){case"escape":case"text":r+=e.text(a);break;case"html":r+=e.html(a);break;case"link":r+=e.link(a);break;case"image":r+=e.image(a);break;case"strong":r+=e.strong(a);break;case"em":r+=e.em(a);break;case"codespan":r+=e.codespan(a);break;case"br":r+=e.br(a);break;case"del":r+=e.del(a);break;default:{const t='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(t),"";throw new Error(t)}}}return r}}class _Hooks{options;block;constructor(t){this.options=t||Ne}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?_Lexer.lex:_Lexer.lexInline}provideParser(){return this.block?_Parser.parse:_Parser.parseInline}}const Ir=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=_Parser;Renderer=_Renderer;TextRenderer=_TextRenderer;Lexer=_Lexer;Tokenizer=_Tokenizer;Hooks=_Hooks;constructor(...t){this.use(...t)}walkTokens(t,e){let r=[];for(const n of t)switch(r=r.concat(e.call(this,n)),n.type){case"table":{const t=n;for(const n of t.header)r=r.concat(this.walkTokens(n.tokens,e));for(const n of t.rows)for(const t of n)r=r.concat(this.walkTokens(t.tokens,e));break}case"list":{const t=n;r=r.concat(this.walkTokens(t.items,e));break}default:{const t=n;this.defaults.extensions?.childTokens?.[t.type]?this.defaults.extensions.childTokens[t.type].forEach((n=>{const o=t[n].flat(1/0);r=r.concat(this.walkTokens(o,e))})):t.tokens&&(r=r.concat(this.walkTokens(t.tokens,e)))}}return r}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach((t=>{const r={...t};if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach((t=>{if(!t.name)throw new Error("extension name required");if("renderer"in t){const r=e.renderers[t.name];e.renderers[t.name]=r?function(...e){let n=t.renderer.apply(this,e);return!1===n&&(n=r.apply(this,e)),n}:t.renderer}if("tokenizer"in t){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");const r=e[t.level];r?r.unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}"childTokens"in t&&t.childTokens&&(e.childTokens[t.name]=t.childTokens)})),r.extensions=e),t.renderer){const e=this.defaults.renderer||new _Renderer(this.defaults);for(const r in t.renderer){if(!(r in e))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;const n=r,o=t.renderer[n],a=e[n];e[n]=(...t)=>{let r=o.apply(e,t);return!1===r&&(r=a.apply(e,t)),r||""}}r.renderer=e}if(t.tokenizer){const e=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const r in t.tokenizer){if(!(r in e))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;const n=r,o=t.tokenizer[n],a=e[n];e[n]=(...t)=>{let r=o.apply(e,t);return!1===r&&(r=a.apply(e,t)),r}}r.tokenizer=e}if(t.hooks){const e=this.defaults.hooks||new _Hooks;for(const r in t.hooks){if(!(r in e))throw new Error(`hook '${r}' does not exist`);if(["options","block"].includes(r))continue;const n=r,o=t.hooks[n],a=e[n];_Hooks.passThroughHooks.has(r)?e[n]=t=>{if(this.defaults.async)return Promise.resolve(o.call(e,t)).then((t=>a.call(e,t)));const r=o.call(e,t);return a.call(e,r)}:e[n]=(...t)=>{let r=o.apply(e,t);return!1===r&&(r=a.apply(e,t)),r}}r.hooks=e}if(t.walkTokens){const e=this.defaults.walkTokens,n=t.walkTokens;r.walkTokens=function(t){let r=[];return r.push(n.call(this,t)),e&&(r=r.concat(e.call(this,t))),r}}this.defaults={...this.defaults,...r}})),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return _Lexer.lex(t,e??this.defaults)}parser(t,e){return _Parser.parse(t,e??this.defaults)}parseMarkdown(t){return(e,r)=>{const n={...r},o={...this.defaults,...n},a=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===n.async)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==e)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof e)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=t);const i=o.hooks?o.hooks.provideLexer():t?_Lexer.lex:_Lexer.lexInline,s=o.hooks?o.hooks.provideParser():t?_Parser.parse:_Parser.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(e):e).then((t=>i(t,o))).then((t=>o.hooks?o.hooks.processAllTokens(t):t)).then((t=>o.walkTokens?Promise.all(this.walkTokens(t,o.walkTokens)).then((()=>t)):t)).then((t=>s(t,o))).then((t=>o.hooks?o.hooks.postprocess(t):t)).catch(a);try{o.hooks&&(e=o.hooks.preprocess(e));let t=i(e,o);o.hooks&&(t=o.hooks.processAllTokens(t)),o.walkTokens&&this.walkTokens(t,o.walkTokens);let r=s(t,o);return o.hooks&&(r=o.hooks.postprocess(r)),r}catch(t){return a(t)}}}onError(t,e){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const t="<p>An error occurred:</p><pre>"+marked_esm_escape(r.message+"",!0)+"</pre>";return e?Promise.resolve(t):t}if(e)return Promise.reject(r);throw r}}};function marked(t,e){return Ir.parse(t,e)}marked.options=marked.setOptions=function(t){return Ir.setOptions(t),marked.defaults=Ir.defaults,changeDefaults(marked.defaults),marked},marked.getDefaults=_getDefaults,marked.defaults=Ne,marked.use=function(...t){return Ir.use(...t),marked.defaults=Ir.defaults,changeDefaults(marked.defaults),marked},marked.walkTokens=function(t,e){return Ir.walkTokens(t,e)},marked.parseInline=Ir.parseInline,marked.Parser=_Parser,marked.parser=_Parser.parse,marked.Renderer=_Renderer,marked.TextRenderer=_TextRenderer,marked.Lexer=_Lexer,marked.lexer=_Lexer.lex,marked.Tokenizer=_Tokenizer,marked.Hooks=_Hooks,marked.parse=marked;marked.options,marked.setOptions,marked.use,marked.walkTokens,marked.parseInline,_Parser.parse,_Lexer.lex;function SelectionWindows_typeof(t){return SelectionWindows_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SelectionWindows_typeof(t)}function SelectionWindows_regeneratorRuntime(){SelectionWindows_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==SelectionWindows_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(SelectionWindows_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function SelectionWindows_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function SelectionWindows_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){SelectionWindows_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){SelectionWindows_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}function SelectionWindows_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SelectionWindows_toPropertyKey(n.key),n)}}function SelectionWindows_toPropertyKey(t){var e=function(t,e){if("object"!=SelectionWindows_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=SelectionWindows_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==SelectionWindows_typeof(e)?e:e+""}var Pr,Or=function(){return t=function SelectionWindows(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,SelectionWindows),this.fadeInDuration=t.fadeInDuration||50,this.fadeOutDuration=t.fadeOutDuration||125,this.isVisible=!1,this.displayElement=null,this.innerContainer=null,this.removeMouseDownListener=null,this.translationHandler=t.translationHandler,this.notifier=t.notifier,this.originalText=null,this.isTranslationCancelled=!1,this.themeChangeListener=null,this.show=this.show.bind(this),this.cancelCurrentTranslation=this.cancelCurrentTranslation.bind(this),this._handleThemeChange=this._handleThemeChange.bind(this)},e=[{key:"_applyThemeToHost",value:(s=SelectionWindows_asyncToGenerator(SelectionWindows_regeneratorRuntime().mark((function _callee(){var t,e;return SelectionWindows_regeneratorRuntime().wrap((function(r){for(;1;)switch(r.prev=r.next){case 0:if(this.displayElement){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,st();case 4:t=r.sent,e="auto"===(n=t)?"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"dark"===n?"dark":"light",this.displayElement.classList.remove("theme-light","theme-dark"),this.displayElement.classList.add("theme-".concat(e));case 8:case"end":return r.stop()}var n}),_callee,this)}))),function(){return s.apply(this,arguments)})},{key:"_handleThemeChange",value:function(t){t.THEME&&this.displayElement&&this.isVisible&&(helpers_logME("[SelectionWindows] Theme changed, updating popup theme.",t.THEME.newValue),this._applyThemeToHost())}},{key:"_addThemeChangeListener",value:function(){!this.themeChangeListener&&o().storage&&o().storage.onChanged&&(this.boundHandleThemeChange=this._handleThemeChange.bind(this),o().storage.onChanged.addListener(this.boundHandleThemeChange))}},{key:"_removeThemeChangeListener",value:function(){this.boundHandleThemeChange&&o().storage&&o().storage.onChanged&&(o().storage.onChanged.removeListener(this.boundHandleThemeChange),this.boundHandleThemeChange=null)}},{key:"show",value:(i=SelectionWindows_asyncToGenerator(SelectionWindows_regeneratorRuntime().mark((function _callee3(t,e){var r,n,i,s,c,u,l=this;return SelectionWindows_regeneratorRuntime().wrap((function(f){for(;1;)switch(f.prev=f.next){case 0:if(isExtensionContextValid()){f.next=6;break}return(r=new Error(a.CONTEXT)).type=a.CONTEXT,f.next=5,this.translationHandler.errorHandler.handle(r,{type:a.CONTEXT,context:"SelectionWindows-show-context",statusCode:"context-invalid"});case 5:return f.abrupt("return",f.sent);case 6:if(t&&(!this.isVisible||t!==this.originalText)){f.next=8;break}return f.abrupt("return");case 8:return this.dismiss(!1),this.originalText=t,this.isTranslationCancelled=!1,n=determineTranslationMode(t,I),this.displayElement=document.createElement("div"),this.displayElement.classList.add("aiwc-selection-popup-host"),f.next=16,this._applyThemeToHost();case 16:this._addThemeChangeListener(),this.applyInitialStyles(e),i=this.displayElement.attachShadow({mode:"open"}),(s=document.createElement("style"))&&(s.textContent='\n        :host {\n          --sw-bg-color: #f8f8f8; /* Default light theme background */\n          --sw-text-color: #333; /* Default light theme text */\n          --sw-border-color: #ddd; /* Default light theme border */\n          --sw-shadow-color: rgba(0,0,0,0.1);\n          --sw-original-text-color: #000;\n          --sw-loading-dot-opacity-start: 0.3;\n          --sw-loading-dot-opacity-mid: 0.8;\n          --sw-link-color: #0066cc;\n          font-family: Vazirmatn, "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;\n        }\n\n        :host(.theme-dark) {\n          --sw-bg-color: #2a2a2a; /* Dark theme background */\n          --sw-text-color: #e0e0e0; /* Dark theme text */\n          --sw-border-color: #444; /* Dark theme border */\n          --sw-shadow-color: rgba(255,255,255,0.08); /* Lighter shadow for dark theme */\n          --sw-original-text-color: #fff;\n          --sw-loading-dot-opacity-start: 0.5;\n          --sw-loading-dot-opacity-mid: 1;\n          --sw-link-color: #58a6ff;\n        }\n\n        .popup-container {\n          background-color: var(--sw-bg-color);\n          color: var(--sw-text-color);\n          border: 1px solid var(--sw-border-color);\n          border-radius: 4px;\n          padding: 8px 12px;\n          font-size: 14px;\n          box-shadow: 0 2px 8px var(--sw-shadow-color);\n          max-width: 300px;\n          overflow-wrap: break-word;\n        }\n        .loading-container {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          color: var(--sw-text-color); /* Dots inherit text color */\n        }\n        @keyframes blink {\n          0% { opacity: var(--sw-loading-dot-opacity-start); }\n          50% { opacity: var(--sw-loading-dot-opacity-mid); }\n          100% { opacity: var(--sw-loading-dot-opacity-start); }\n        }\n        .loading-dot {\n          font-size: 1.2em;\n          margin: 0 2px;\n          animation: blink 0.7s infinite;\n        }\n        .first-line { margin-bottom: 6px; display: flex; align-items: center; }\n        .original-text {\n          font-weight: bold;\n          margin-left: 6px;\n          color: var(--sw-original-text-color);\n        }\n        .second-line { margin-top: 4px; }\n        .tts-icon {\n          width: 16px;\n          height: 16px;\n          cursor: pointer;\n          margin-right: 6px;\n          vertical-align: middle; /* Align icon nicely with text */\n        }\n        :host(.theme-dark) .tts-icon {\n           filter: invert(90%) brightness(1.1); /* Adjust to make a dark icon appear light */\n        }\n        /* Styles for links generated from markdown */\n        .text-content a {\n          color: var(--sw-link-color);\n          text-decoration: none;\n        }\n        .text-content a:hover {\n          text-decoration: underline;\n        }\n      ',i.appendChild(s)),this.innerContainer=document.createElement("div"),this.innerContainer.classList.add("popup-container"),i.appendChild(this.innerContainer),c=this.createLoadingDots(),this.innerContainer.appendChild(c),document.body.appendChild(this.displayElement),this.isVisible=!0,requestAnimationFrame((function(){l.displayElement&&(l.displayElement.style.opacity="0.95",l.displayElement.style.transform="scale(1)")})),o().runtime.sendMessage({action:"fetchTranslationBackground",payload:{promptText:t,translationMode:n}}).then((function(e){if(!l.isTranslationCancelled&&l.originalText===t&&l.innerContainer){var r;if(null==e||!e.success)throw new Error((null==e||null===(r=e.error)||void 0===r?void 0:r.message)||(null==e?void 0:e.error)||a.SERVICE);var o=(e.data.translatedText||"").trim();if(!o)throw new Error(a.TRANSLATION_NOT_FOUND);l.transitionToTranslatedText(o,c,t,n)}}))["catch"](function(){var t=SelectionWindows_asyncToGenerator(SelectionWindows_regeneratorRuntime().mark((function _callee2(t){return SelectionWindows_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:if(!l.isTranslationCancelled&&l.innerContainer){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,l.handleTranslationError(t,c);case 4:case"end":return e.stop()}}),_callee2)})));return function(e){return t.apply(this,arguments)}}()),isExtensionContextValid()&&(u=function(t){l.displayElement&&!l.displayElement.contains(t.target)&&setTimeout((function(){l.isVisible&&l.cancelCurrentTranslation()}),50)},document.addEventListener("click",u,{capture:!0}),this.removeMouseDownListener=function(){document.removeEventListener("click",u,{capture:!0})});case 31:case"end":return f.stop()}}),_callee3,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"cancelCurrentTranslation",value:function(){this.dismiss(),this.isTranslationCancelled=!0,this.stoptts_playing()}},{key:"stoptts_playing",value:function(){isExtensionContextValid()&&o().runtime.sendMessage({action:"stopTTS"})}},{key:"applyInitialStyles",value:function(t){Object.assign(this.displayElement.style,{position:"absolute",zIndex:"2147483637",left:"".concat(t.x,"px"),top:"".concat(t.y,"px"),transform:"scale(0.1)",transformOrigin:"top left",opacity:"0",transition:"transform 0.1s ease-out, opacity ".concat(this.fadeInDuration,"ms ease-in-out")})}},{key:"createLoadingDots",value:function(){var t=document.createElement("div");return t.classList.add("loading-container"),[0,1,2].forEach((function(){var e=document.createElement("span");e.classList.add("loading-dot"),e.textContent=".",t.appendChild(e)})),t}},{key:"transitionToTranslatedText",value:function(t,e,r,n){var o=this;if(this.innerContainer&&this.displayElement){e&&e.parentNode===this.innerContainer&&e.remove(),this.innerContainer.innerHTML="";var a=document.createElement("div");a.classList.add("first-line");var i=this.createTTSIcon(r,"Original text TTS");if(a.appendChild(i),n===P){var s=document.createElement("span");s.classList.add("original-text"),s.textContent=r,a.appendChild(s)}this.innerContainer.appendChild(a);var c=document.createElement("div");c.classList.add("second-line");var u=document.createElement("span");u.classList.add("text-content");try{var l=marked.parse(t),f=he.sanitize(l),h=(new DOMParser).parseFromString(f,"text/html");Array.from(h.body.childNodes).forEach((function(t){u.appendChild(t.cloneNode(!0))}))}catch(e){helpers_logME("Error parsing markdown or sanitizing HTML:",e),u.textContent=t}c.appendChild(u),this.applyTextDirection(c,t),this.innerContainer.appendChild(c),requestAnimationFrame((function(){o.displayElement&&(o.displayElement.style.transition="opacity 0.15s ease-in-out",o.displayElement.style.opacity="0.95")}))}}},{key:"createTTSIcon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Speak",r=document.createElement("img");return r.src=o().runtime.getURL("icons/speaker.png"),r.alt=e,r.title=e,r.classList.add("tts-icon"),r.addEventListener("click",(function(e){e.stopPropagation(),isExtensionContextValid()&&o().runtime.sendMessage({action:"speak",text:t,lang:Le})})),r}},{key:"handleTranslationError",value:(n=SelectionWindows_asyncToGenerator(SelectionWindows_regeneratorRuntime().mark((function _callee4(t,e){var r,n,o=this;return SelectionWindows_regeneratorRuntime().wrap((function(i){for(;1;)switch(i.prev=i.next){case 0:return e&&e.parentNode===this.innerContainer&&e.remove(),this.innerContainer?((r=document.createElement("div")).textContent=S.ICON_ERROR+"Translation failed. Please try again.",r.style.color="var(--sw-text-color)",r.style.padding="5px",this.innerContainer.appendChild(r),setTimeout((function(){return o.dismiss(!0)}),3e3)):this.dismiss(!1),n=t instanceof Error?t:new Error(String(t.message||t)),i.next=5,this.translationHandler.errorHandler.handle(n,{type:n.type||a.API,context:"selection-window-translate",isSilent:!0});case 5:case"end":return i.stop()}}),_callee4,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"dismiss",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.displayElement&&this.isVisible)if(this._removeThemeChangeListener(),this.removeMouseDownListener&&(this.removeMouseDownListener(),this.removeMouseDownListener=null),this.isVisible=!1,e&&this.fadeOutDuration>0&&this.displayElement){this.displayElement.style.transition="opacity ".concat(this.fadeOutDuration,"ms ease-in-out, transform 0.1s ease-in"),this.displayElement.style.opacity="0",this.displayElement.style.transform="scale(0.5)";var r=this.displayElement,n=setTimeout((function(){r&&r.parentNode&&t.removeElement(r)}),this.fadeOutDuration+50);r.addEventListener("transitionend",(function(){clearTimeout(n),t.removeElement(r)}),{once:!0})}else this.removeElement(this.displayElement)}},{key:"removeElement",value:function(t){var e=t||this.displayElement;e&&e.parentNode&&e.remove(),e===this.displayElement&&(this.displayElement=null,this.innerContainer=null,this.originalText=null)}},{key:"applyTextDirection",value:function(t,e){if(t){var r=S.RTL_REGEX.test(e);t.style.direction=r?"rtl":"ltr",t.style.textAlign=r?"right":"left"}}}],e&&SelectionWindows_defineProperties(t.prototype,e),r&&SelectionWindows_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,i,s}();function EventHandler_typeof(t){return EventHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EventHandler_typeof(t)}function _toConsumableArray(t){return function(t){if(Array.isArray(t))return EventHandler_arrayLikeToArray(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return EventHandler_arrayLikeToArray(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?EventHandler_arrayLikeToArray(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EventHandler_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function EventHandler_regeneratorRuntime(){EventHandler_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==EventHandler_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(EventHandler_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function EventHandler_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function EventHandler_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){EventHandler_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){EventHandler_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}function EventHandler_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EventHandler_toPropertyKey(n.key),n)}}function EventHandler_toPropertyKey(t){var e=function(t,e){if("object"!=EventHandler_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=EventHandler_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==EventHandler_typeof(e)?e:e+""}function _applyDecoratedDescriptor(t,e,r,n,o){var a={};return Object.keys(n).forEach((function(t){a[t]=n[t]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(t,e,a),null):a}var Lr=(Pr=function(){return t=function EventHandler(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,EventHandler),this.translationHandler=t,this.featureManager=e,this.IconManager=t.IconManager,this.notifier=t.notifier,this.strategies=t.strategies,this.isProcessing=t.isProcessing,this.SelectionWindows=new Or({translationHandler:t,notifier:t.notifier}),this.select_Element_ModeActive=t.select_Element_ModeActive,this.handleEvent=this.handleEvent.bind(this),this.handleSelect_ElementModeClick=this.handleSelect_ElementClick.bind(this),this.handleEscape=this.handleEscape.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.selectionTimeoutId=null,this.cancelSelectionTranslation=this.cancelSelectionTranslation.bind(this)},e=[{key:"setFeatureManager",value:function(t){this.featureManager=t}},{key:"handleEvent",value:(f=EventHandler_asyncToGenerator(EventHandler_regeneratorRuntime().mark((function _callee(t){var e,r;return EventHandler_regeneratorRuntime().wrap((function(n){for(;1;)switch(n.prev=n.next){case 0:if(n.prev=0,!this.isEscapeEvent(t)){n.next=4;break}return this.handleEscape(t),n.abrupt("return");case 4:if(!this.select_Element_ModeActive||"click"!==t.type){n.next=8;break}return n.next=7,this.handleSelect_ElementClick(t);case 7:case 11:case 15:return n.abrupt("return");case 8:if(!this.isCtrlSlashEvent(t)){n.next=12;break}return n.next=11,this.handleCtrlSlash(t);case 12:if(!this.isEditableTarget(t.target)||null===(e=this.featureManager)||void 0===e||!e.isOn("TEXT_FIELDS")){n.next=16;break}return n.next=15,this.handleEditableElement(t);case 16:if(!this.isMouseUp(t)){n.next=24;break}return n.next=19,lt();case 19:if(!n.sent||this.isMouseUpCtrl(t)){n.next=22;break}return n.abrupt("return");case 22:return n.next=24,this.handleMouseUp(t);case 24:n.next=33;break;case 26:return n.prev=26,n.t0=n["catch"](0),n.next=30,this.translationHandler.processError(n.t0);case 30:return r=n.sent,n.next=33,this.translationHandler.errorHandler.handle(r,{type:a.UI,context:"event-handling",eventType:t.type});case 33:case"end":return n.stop()}}),_callee,this,[[0,26]])}))),function(t){return f.apply(this,arguments)})},{key:"isMouseUpCtrl",value:function(t){return"mouseup"===t.type&&(t.ctrlKey||t.metaKey)}},{key:"isMouseUp",value:function(t){return"mouseup"===t.type}},{key:"isCtrlSlashEvent",value:function(t){return(t.ctrlKey||t.metaKey)&&"/"===t.key&&!t.repeat}},{key:"isEscapeEvent",value:function(t){return"Escape"===t.key&&!t.repeat}},{key:"_getSelectedTextWithDash",value:function(){var t=window.getSelection(),e="";if(t.rangeCount>1)for(var r=0;r<t.rangeCount;r++)e+=t.getRangeAt(r).toString().trim(),r<t.rangeCount-1&&(e+=" - \n");else e=t.toString().trim();return e.trim()}},{key:"_getEventPath",value:function(t){var e=t.composedPath?t.composedPath():[];if(!e||0===e.length){var r=t.target;for(e=[];r;)e.push(r),r=r.parentNode}return e}},{key:"handleMouseUp",value:(l=EventHandler_asyncToGenerator(EventHandler_regeneratorRuntime().mark((function _callee2(t){var e,r,n,o,a,i=this;return EventHandler_regeneratorRuntime().wrap((function(s){for(;1;)switch(s.prev=s.next){case 0:if(n=this._getSelectedTextWithDash(),o=this._getEventPath(t),null===(e=this.SelectionWindows)||void 0===e||!e.isVisible||!o.includes(null===(r=this.SelectionWindows)||void 0===r?void 0:r.displayElement)){s.next=4;break}return s.abrupt("return");case 4:n?this.selectionTimeoutId||(this.selectionTimeoutId=setTimeout((function(){i.selectionTimeoutId=null,i.processSelectedText(n,t)}),250),document.addEventListener("mousedown",this.cancelSelectionTranslation)):(this.selectionTimeoutId&&(clearTimeout(this.selectionTimeoutId),this.selectionTimeoutId=null,document.removeEventListener("mousedown",this.cancelSelectionTranslation)),null!==(a=this.SelectionWindows)&&void 0!==a&&a.isVisible&&this.SelectionWindows.dismiss());case 5:case"end":return s.stop()}}),_callee2,this)}))),function(t){return l.apply(this,arguments)})},{key:"cancelSelectionTranslation",value:function(){if(this.selectionTimeoutId){clearTimeout(this.selectionTimeoutId),this.selectionTimeoutId=null;try{document.removeEventListener("mousedown",this.cancelSelectionTranslation)}catch(t){}}}},{key:"processSelectedText",value:(u=EventHandler_asyncToGenerator(EventHandler_regeneratorRuntime().mark((function _callee3(t){var e,r,n,o,a,i,s;return EventHandler_regeneratorRuntime().wrap((function(c){for(;1;)switch(c.prev=c.next){case 0:r=window.getSelection(),n={x:0,y:0},r.rangeCount>0&&(o=r.getRangeAt(0),a=o.getBoundingClientRect(),n={x:a.left+window.scrollX,y:a.bottom+window.scrollY+15},i=300,s=window.innerWidth,n.x<10?n.x=10:n.x+i>s-10&&(n.x=s-i-10)),null===(e=this.SelectionWindows)||void 0===e||e.show(t,n),document.removeEventListener("mousedown",this.cancelSelectionTranslation);case 5:case"end":return c.stop()}}),_callee3,this)}))),function(t){return u.apply(this,arguments)})},{key:"isEditableTarget",value:function(t){return(null==t?void 0:t.isContentEditable)||["INPUT","TEXTAREA"].includes(null==t?void 0:t.tagName)||(null==t?void 0:t.closest)&&t.closest('[contenteditable="true"]')}},{key:"_processEditableElement",value:function(t){if(!this.IconManager||!this.featureManager.isOn("EXTENSION_ENABLED"))return null;if(!this.IconManager)return null;if(this.IconManager.cleanup(),detectPlatform()===Pe){var e,r=this.strategies["youtube"];if(null!=r&&null!==(e=r.isYoutube_ExtraField)&&void 0!==e&&e.call(r,t))return null}var n=this.IconManager.createTranslateIcon(t);return n?(setupIconBehavior(n,t,this.translationHandler,this.notifier,this.strategies),n):null}},{key:"handleEditableFocus",value:function(t){var e;O.activeTranslateIcon||null!==(e=this.featureManager)&&void 0!==e&&e.isOn("TEXT_FIELDS")&&this._processEditableElement(t)}},{key:"handleEditableElement",value:(c=EventHandler_asyncToGenerator(EventHandler_regeneratorRuntime().mark((function _callee4(t){var e,r;return EventHandler_regeneratorRuntime().wrap((function(n){for(;1;)switch(n.prev=n.next){case 0:if(!O.activeTranslateIcon){n.next=2;break}return n.abrupt("return");case 2:t.stopPropagation(),r=t.target,null!==(e=this.featureManager)&&void 0!==e&&e.isOn("TEXT_FIELDS")&&this._processEditableElement(r);case 5:case"end":return n.stop()}}),_callee4,this)}))),function(t){return c.apply(this,arguments)})},{key:"handleEditableBlur",value:function(){var t=this;setTimeout((function(){var e,r;null!==(e=document.activeElement)&&void 0!==e&&e.isConnected&&(document.activeElement===O.activeTranslateIcon||document.activeElement.closest(".AIWritingCompanion-translation-icon-extension"))||null===(r=t.IconManager)||void 0===r||r.cleanup()}),100)}},{key:"cleanCache",value:(s=EventHandler_asyncToGenerator(EventHandler_regeneratorRuntime().mark((function _callee5(){return EventHandler_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:return e={state:O},ft.clear(),e&&e.state&&e.state.originalTexts&&e.state.originalTexts.clear(),t.t0=this.notifier,t.next=4,i18n_getTranslationString("STATUS_REMOVE_MEMORY");case 4:if(t.t1=t.sent,t.t1){t.next=7;break}t.t1="Memory Cleared";case 7:t.t2=t.t1,t.t0.show.call(t.t0,t.t2,"info",!0,2e3);case 9:case"end":return t.stop()}var e}),_callee5,this)}))),function(){return s.apply(this,arguments)})},{key:"handleSelect_ElementClick",value:(i=EventHandler_asyncToGenerator(EventHandler_regeneratorRuntime().mark((function _callee6(t){var e,r,n,i,s,c,u,l,f,h,p,d,y,g,v,m,b,x,w,E,T,S,k,I,P=this;return EventHandler_regeneratorRuntime().wrap((function(L){for(;1;)switch(L.prev=L.next){case 0:if(taggleLinks(!1),this.translationHandler.select_Element_ModeActive=!1,O.selectElementActive=!1,this.IconManager&&this.IconManager.cleanup(),e=t.target,r=collectTextNodes(e),n=r.textNodes,(i=r.originalTextsMap).size){L.next=8;break}return L.abrupt("return",{status:"empty",reason:"no_text_found"});case 8:if(s=separateCachedAndNewTexts(i),c=s.textsToTranslate,u=s.cachedTranslations,c.length||!u.size){L.next=21;break}return applyTranslationsToNodes(n,u,{state:O,IconManager:this.IconManager}),L.t0=this.notifier,L.next=14,i18n_getTranslationString("STATUS_FROM_MEMORY");case 14:if(L.t1=L.sent,L.t1){L.next=17;break}L.t1="از حافظه";case 17:return L.t2=L.t1,L.t3=function(){return P.cleanCache()},L.t0.show.call(L.t0,L.t2,"info",!0,2e3,L.t3),L.abrupt("return",{status:"success",source:"cache",translatedCount:u.size});case 21:if(c.length){L.next=23;break}return L.abrupt("return",{status:"skip",reason:"no_new_texts"});case 23:return L.t4=this.notifier,L.next=26,i18n_getTranslationString("STATUS_TRANSLATING_SELECT_ELEMENT");case 26:if(L.t5=L.sent,L.t5){L.next=29;break}L.t5="در حال ترجمه…";case 29:if(L.t6=L.t5,l=L.t4.show.call(L.t4,L.t6,"status",!1),O.translateMode=A,L.prev=32,h=expandTextsForTranslation(c),p=h.expandedTexts,d=h.originMapping,!((y=JSON.stringify(p.map((function(t){return{text:t}})))).length>2e4)){L.next=39;break}return g="متن انتخابی بسیار بزرگ است (".concat(y.length," بایت)"),this.notifier.show(g,"warning",!0,3e3),L.abrupt("return",{status:"error",reason:"payload_large",message:g});case 39:return L.next=41,o().runtime.sendMessage({action:"fetchTranslationBackground",payload:{promptText:y,translationMode:A}});case 41:if(null!=(v=L.sent)&&v.success){L.next=47;break}return m=(null==v?void 0:v.error)||"(⚠️ خطایی در ترجمه رخ داد.)",L.next=46,this.translationHandler.errorHandler.handle(new Error(m),{type:a.API,statusCode:(null==v?void 0:v.statusCode)||401,context:"select-element-response"});case 46:return L.abrupt("return",{status:"error",reason:"backend_error",message:m});case 47:if(!v||!1!==v.success){L.next=52;break}return x="string"==typeof v.error?v.error:(null===(b=v.error)||void 0===b?void 0:b.message)||"(⚠️ خطایی در ترجمه رخ داد.)",L.next=51,this.translationHandler.errorHandler.handle(new Error(x),{type:a.API,context:"select-element-response"});case 51:return L.abrupt("return",{status:"error",reason:"api_error",message:x});case 52:if("string"==typeof(w=null==v||null===(f=v.data)||void 0===f?void 0:f.translatedText)&&w.trim()){L.next=57;break}return E="(⚠️ ترجمه‌ای دریافت نشد.)",this.notifier.show(E,"warning",!0,3e3),L.abrupt("return",{status:"error",reason:"empty_translation",message:E});case 57:if(T=parseAndCleanTranslationResponse(w,this.translationHandler)){L.next=62;break}return L.next=61,this.translationHandler.errorHandler.handle(new Error(a.API_RESPONSE_INVALID),{type:a.API,context:"select-element-response-format"});case 61:return L.abrupt("return",{status:"error",reason:"api_error",message:a.API_RESPONSE_INVALID});case 62:return handleTranslationLengthMismatch(T,p)||this.notifier.show("(طول پاسخ ناهمخوان؛ مجدداً امتحان کنید.)","info",!0,1500),S=reassembleTranslations(T,p,d,c,u),k=new Map([].concat(_toConsumableArray(u),_toConsumableArray(S))),applyTranslationsToNodes(n,k,{state:O,IconManager:this.IconManager}),l&&this.notifier.dismiss(l),L.abrupt("return",{status:"success",source:"translated",translatedCount:S.size,fromCache:u.size});case 70:return L.prev=70,L.t7=L["catch"](32),L.next=74,_.processError(L.t7);case 74:return I=L.sent,L.next=77,this.translationHandler.errorHandler.handle(I,{type:I.type||a.SERVICE,context:"EventHandler-handleSelect_ElementClick"});case 77:return L.abrupt("return",{status:"error",reason:"exception",message:I.message});case 78:return L.prev=78,l&&this.notifier.dismiss(l),L.finish(78);case 81:case"end":return L.stop()}}),_callee6,this,[[32,70,78,81]])}))),function(t){return i.apply(this,arguments)})},{key:"handleEscape",value:function(){taggleLinks(!1),this.cancelSelectionTranslation(),this.SelectionWindows.cancelCurrentTranslation(),this.translationHandler.select_Element_ModeActive=!1,O.selectElementActive=!1,O.translateMode===A&&revertTranslations({state:O,errorHandler:this.translationHandler.errorHandler,notifier:this.notifier,IconManager:this.IconManager}),this.IconManager&&this.IconManager.cleanup()}},{key:"handleCtrlSlash",value:(n=EventHandler_asyncToGenerator(EventHandler_regeneratorRuntime().mark((function _callee7(t){var e,r,n,o,i,s,c;return EventHandler_regeneratorRuntime().wrap((function(u){for(;1;)switch(u.prev=u.next){case 0:if(t.preventDefault(),t.stopPropagation(),!this.isProcessing){u.next=4;break}return u.abrupt("return");case 4:if(this.isProcessing=!0,u.prev=5,e=this.translationHandler.getSelectElementContext(),r=e.activeElement,isEditable(r)){u.next=9;break}return u.abrupt("return");case 9:if(n=this.translationHandler.extractFromActiveElement(r)){u.next=12;break}return u.abrupt("return");case 12:return u.next=14,this.translationHandler.processTranslation_with_CtrlSlash({text:n,originalText:n,target:r,selectionRange:null});case 14:u.next=25;break;case 16:return u.prev=16,u.t0=u["catch"](5),u.next=20,_.processError(u.t0);case 20:if(i=u.sent,helpers_logME("[EventHandler] Ctrl+/ Error: ",i),!i.isFinal){u.next=24;break}return u.abrupt("return");case 24:null!==(o=i.originalError)&&void 0!==o&&o.isPrimary||(s=i.type||a.API,c=i.statusCode||500,this.translationHandler.errorHandler.handle(i,{type:s,statusCode:c,context:"ctrl-slash",suppressSecondary:!0}));case 25:return u.prev=25,this.isProcessing=!1,u.finish(25);case 28:case"end":return u.stop()}}),_callee7,this,[[5,16,25,28]])}))),function(t){return n.apply(this,arguments)})}],e&&EventHandler_defineProperties(t.prototype,e),r&&EventHandler_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,i,s,c,u,l,f}(),_applyDecoratedDescriptor(Pr.prototype,"handleEvent",[logMethod],Object.getOwnPropertyDescriptor(Pr.prototype,"handleEvent"),Pr.prototype),_applyDecoratedDescriptor(Pr.prototype,"handleMouseUp",[logMethod],Object.getOwnPropertyDescriptor(Pr.prototype,"handleMouseUp"),Pr.prototype),_applyDecoratedDescriptor(Pr.prototype,"handleSelect_ElementClick",[logMethod],Object.getOwnPropertyDescriptor(Pr.prototype,"handleSelect_ElementClick"),Pr.prototype),Pr);function FeatureManager_typeof(t){return FeatureManager_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FeatureManager_typeof(t)}function _slicedToArray(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r["return"]&&(i=r["return"](),Object(i)!==i))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return FeatureManager_arrayLikeToArray(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?FeatureManager_arrayLikeToArray(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FeatureManager_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function FeatureManager_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FeatureManager_toPropertyKey(n.key),n)}}function FeatureManager_toPropertyKey(t){var e=function(t,e){if("object"!=FeatureManager_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=FeatureManager_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==FeatureManager_typeof(e)?e:e+""}var Rr=function(){return t=function FeatureManager(){var t,e,r,n,a,i,s=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,FeatureManager),this.keyMap={EXTENSION_ENABLED:"EXTENSION_ENABLED",TRANSLATE_ON_TEXT_FIELDS:"TEXT_FIELDS",ENABLE_SHORTCUT_FOR_TEXT_FIELDS:"SHORTCUT_TEXT_FIELDS",TRANSLATE_WITH_SELECT_ELEMENT:"SELECT_ELEMENT",TRANSLATE_ON_TEXT_SELECTION:"TEXT_SELECTION",ENABLE_DICTIONARY:"DICTIONARY"},this.flags={EXTENSION_ENABLED:null===(t=c.EXTENSION_ENABLED)||void 0===t||t,TEXT_FIELDS:null!==(e=c.TEXT_FIELDS)&&void 0!==e?e:S.TRANSLATE_ON_TEXT_FIELDS,SHORTCUT_TEXT_FIELDS:null!==(r=c.SHORTCUT_TEXT_FIELDS)&&void 0!==r?r:S.ENABLE_SHORTCUT_FOR_TEXT_FIELDS,SELECT_ELEMENT:null!==(n=c.SELECT_ELEMENT)&&void 0!==n?n:S.TRANSLATE_WITH_SELECT_ELEMENT,TEXT_SELECTION:null!==(a=c.TEXT_SELECTION)&&void 0!==a?a:S.TRANSLATE_ON_TEXT_SELECTION,DICTIONARY:null!==(i=c.DICTIONARY)&&void 0!==i?i:S.ENABLE_DICTIONARY},this._subscribers={},o().storage.local.get(Object.keys(this.keyMap)).then((function(t){Object.entries(t).forEach((function(t){var e,r=_slicedToArray(t,2),n=r[0],o=r[1],a=s.keyMap[n];a&&void 0!==o&&(s.flags[a]=o,null===(e=s._subscribers[a])||void 0===e||e.forEach((function(t){return t()})))}))}))["catch"]((function(t){helpers_logME("[FeatureManager] failed to load initial flags",t)})),o().storage.onChanged.addListener(this._onStorageChanged.bind(this))},e=[{key:"isOn",value:function(t){return this.flags[t]}},{key:"on",value:function(t,e){var r,n;(null!==(n=(r=this._subscribers)[t])&&void 0!==n?n:r[t]=[]).push(e)}},{key:"_onStorageChanged",value:function(t){var e=this;Object.entries(t).forEach((function(t){var r=_slicedToArray(t,2),n=r[0],o=r[1].newValue,a=e.keyMap[n];if(a){var i,s=null!=o?o:e.flags[a];e.flags[a]!==s&&(e.flags[a]=s,null===(i=e._subscribers[a])||void 0===i||i.forEach((function(t){return t()})))}}))}}],e&&FeatureManager_defineProperties(t.prototype,e),r&&FeatureManager_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function EventRouter_typeof(t){return EventRouter_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EventRouter_typeof(t)}function EventRouter_regeneratorRuntime(){EventRouter_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==EventRouter_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(EventRouter_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function EventRouter_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function EventRouter_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){EventRouter_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){EventRouter_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}function EventRouter_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EventRouter_toPropertyKey(n.key),n)}}function EventRouter_toPropertyKey(t){var e=function(t,e){if("object"!=EventRouter_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=EventRouter_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==EventRouter_typeof(e)?e:e+""}var Cr,Nr=function(){return t=function EventRouter(t,e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,EventRouter),this.translationHandler=t,this.errorHandler=t.errorHandler;var wrap=function(t){return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];try{return t.apply(r,n)}catch(t){var i;!function(t){_handleUIError.apply(this,arguments)}(t,{type:a.UI,context:"event-router",eventType:null===(i=n[0])||void 0===i?void 0:i.type})}}};this.handleFocus=wrap(this.handleFocusMethod),this.handleBlur=wrap(this.handleBlurMethod),this.handleClick=wrap(this.handleClickMethod),this.handleKeyDown=wrap(this.handleKeyDownMethod),this.handleMouseOver=wrap(this.handleMouseOverMethod),this.handleMouseUp=wrap(this.handleMouseUpMethod),this.featureManager=e,this._attached=new Set,this.featureEventMap={TEXT_FIELDS:[{target:document,type:"focus",listener:this.handleFocus,options:!0},{target:document,type:"blur",listener:this.handleBlur,options:!0}],SHORTCUT_TEXT_FIELDS:[{target:document,type:"keydown",listener:this.handleKeyDown}],SELECT_ELEMENT:[{target:document,type:"mouseover",listener:this.handleMouseOver},{target:document,type:"click",listener:this.handleClick}],TEXT_SELECTION:[{target:document,type:"mouseup",listener:this.handleMouseUp}]},this.initEventListeners(),this.featureManager.on("EXTENSION_ENABLED",(function(){return r.initEventListeners()})),Object.keys(this.featureEventMap).forEach((function(t){r.featureManager.on(t,(function(){return r.updateListeners(t)}))}))},e=[{key:"initEventListeners",value:function(){var t=this,e=this.featureManager.isOn("EXTENSION_ENABLED");Object.keys(this.featureEventMap).forEach((function(r){e?t.updateListeners(r):t.removeListeners(r)}))}},{key:"updateListeners",value:function(t){var e=this,r=this.featureManager.isOn(t)&&this.featureManager.isOn("EXTENSION_ENABLED");this.featureEventMap[t].forEach((function(n){var o=n.target,a=n.type,i=n.listener,s=n.options,c="".concat(a,"_").concat(t);r&&!e._attached.has(c)?(o.addEventListener(a,i,s),e._attached.add(c)):!r&&e._attached.has(c)&&(o.removeEventListener(a,i,s),e._attached["delete"](c))}))}},{key:"removeListeners",value:function(t){var e=this;this.featureEventMap[t].forEach((function(r){var n=r.target,o=r.type,a=r.listener,i=r.options,s="".concat(o,"_").concat(t);e._attached.has(s)&&(n.removeEventListener(o,a,i),e._attached["delete"](s))}))}},{key:"handleFocusMethod",value:(l=EventRouter_asyncToGenerator(EventRouter_regeneratorRuntime().mark((function _callee(t){return EventRouter_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:this.featureManager.isOn("TEXT_FIELDS")&&t.target.isContentEditable&&this.translationHandler.handleEditableFocus(t.target);case 1:case"end":return e.stop()}}),_callee,this)}))),function(t){return l.apply(this,arguments)})},{key:"handleBlurMethod",value:(u=EventRouter_asyncToGenerator(EventRouter_regeneratorRuntime().mark((function _callee2(t){return EventRouter_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:this.featureManager.isOn("TEXT_FIELDS")&&t.target.isContentEditable&&this.translationHandler.handleEditableBlur(t.target);case 1:case"end":return e.stop()}}),_callee2,this)}))),function(t){return u.apply(this,arguments)})},{key:"handleClickMethod",value:(c=EventRouter_asyncToGenerator(EventRouter_regeneratorRuntime().mark((function _callee3(t){return EventRouter_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:if(O.selectElementActive){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.translationHandler.eventHandler.handleSelect_ElementClick(t);case 4:case"end":return e.stop()}}),_callee3,this)}))),function(t){return c.apply(this,arguments)})},{key:"handleKeyDownMethod",value:(s=EventRouter_asyncToGenerator(EventRouter_regeneratorRuntime().mark((function _callee4(t){return EventRouter_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:this.translationHandler.handleEvent(t);case 1:case"end":return e.stop()}}),_callee4,this)}))),function(t){return s.apply(this,arguments)})},{key:"handleMouseOverMethod",value:(i=EventRouter_asyncToGenerator(EventRouter_regeneratorRuntime().mark((function _callee5(t){var e,r,n,o;return EventRouter_regeneratorRuntime().wrap((function(a){for(;1;)switch(a.prev=a.next){case 0:if(O.selectElementActive){a.next=2;break}return a.abrupt("return");case 2:if(null!=(o=(null===(e=t.composedPath)||void 0===e?void 0:e.call(t)[0])||t.target)&&null!==(r=o.innerText)&&void 0!==r&&r.trim()){a.next=5;break}return a.abrupt("return");case 5:(null===(n=O.highlightedElement)||void 0===n||null===(n=n.style)||void 0===n?void 0:n.outline)&&(O.highlightedElement.style.outline=""),O.highlightedElement=o,o.style.outline=S.HIGHLIGHT_STYLE;case 8:case"end":return a.stop()}}),_callee5)}))),function(t){return i.apply(this,arguments)})},{key:"handleMouseUpMethod",value:(o=EventRouter_asyncToGenerator(EventRouter_regeneratorRuntime().mark((function _callee6(t){return EventRouter_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:this.translationHandler.handleEvent(t);case 1:case"end":return e.stop()}}),_callee6,this)}))),function(t){return o.apply(this,arguments)})},{key:"dispose",value:(n=EventRouter_asyncToGenerator(EventRouter_regeneratorRuntime().mark((function _callee7(){var t=this;return EventRouter_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:Object.keys(this.featureEventMap).forEach((function(e){return t.removeListeners(e)}));case 1:case"end":return e.stop()}}),_callee7,this)}))),function(){return n.apply(this,arguments)})}],e&&EventRouter_defineProperties(t.prototype,e),r&&EventRouter_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,o,i,s,c,u,l}();function TranslationHandler_typeof(t){return TranslationHandler_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TranslationHandler_typeof(t)}function TranslationHandler_slicedToArray(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,s=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=r["return"]&&(i=r["return"](),Object(i)!==i))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return TranslationHandler_arrayLikeToArray(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?TranslationHandler_arrayLikeToArray(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TranslationHandler_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function TranslationHandler_ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function TranslationHandler_objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?TranslationHandler_ownKeys(Object(r),!0).forEach((function(e){TranslationHandler_defineProperty(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TranslationHandler_ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function TranslationHandler_defineProperty(t,e,r){return(e=TranslationHandler_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TranslationHandler_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TranslationHandler_toPropertyKey(n.key),n)}}function TranslationHandler_toPropertyKey(t){var e=function(t,e){if("object"!=TranslationHandler_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=TranslationHandler_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==TranslationHandler_typeof(e)?e:e+""}function TranslationHandler_applyDecoratedDescriptor(t,e,r,n,o){var a={};return Object.keys(n).forEach((function(t){a[t]=n[t]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(t,e,a),null):a}function TranslationHandler_regeneratorRuntime(){TranslationHandler_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==TranslationHandler_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(TranslationHandler_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function TranslationHandler_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function TranslationHandler_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){TranslationHandler_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){TranslationHandler_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}var Mr=(Cr=function(){return t=function TranslationHandler(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,TranslationHandler),this.notifier=new v,this.errorHandler=new _(this.notifier),this.ErrorTypes=a,this.handleEvent=function(t,e){var r;return function(){for(var n=this,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];clearTimeout(r),r=setTimeout((function(){clearTimeout(r),t.apply(n,a)}),e)}}(this.handleEvent.bind(this),300),this.strategies=TranslationHandler_defineProperty(TranslationHandler_defineProperty(TranslationHandler_defineProperty(TranslationHandler_defineProperty(TranslationHandler_defineProperty(TranslationHandler_defineProperty(TranslationHandler_defineProperty(TranslationHandler_defineProperty(TranslationHandler_defineProperty({},Ee,new pt(this.notifier,this.errorHandler)),Se,new pe(this.notifier,this.errorHandler)),Ae,new ge(this.notifier,this.errorHandler)),Te,new ye(this.notifier,this.errorHandler)),ke,new de(this.notifier,this.errorHandler)),Ie,new ve(this.notifier,this.errorHandler)),Pe,new me(this.notifier,this.errorHandler)),_e,new be(this.notifier,this.errorHandler)),Oe,new xe(this.notifier,this.errorHandler)),this.validateStrategies(),this.IconManager=new we(this.errorHandler),this.displayedErrors=new Set,this.isProcessing=!1,this.select_Element_ModeActive=!1,this.featureManager=new Rr({TEXT_FIELDS:S.TRANSLATE_ON_TEXT_FIELDS,SHORTCUT_TEXT_FIELDS:S.ENABLE_SHORTCUT_FOR_TEXT_FIELDS,SELECT_ELEMENT:S.TRANSLATE_WITH_SELECT_ELEMENT,TEXT_SELECTION:S.TRANSLATE_ON_TEXT_SELECTION,DICTIONARY:S.ENABLE_DICTIONARY}),this.eventHandler=new Lr(this,this.featureManager),this.eventRouter=new Nr(this,this.featureManager)},e=[{key:"reinitialize",value:function(){helpers_logME("[TranslationHandler] Reinitializing state after update..."),this.isProcessing=!1,this.select_Element_ModeActive=!1}},{key:"handleEvent",value:(u=TranslationHandler_asyncToGenerator(TranslationHandler_regeneratorRuntime().mark((function _callee2(t){return TranslationHandler_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.eventHandler.handleEvent(t);case 3:e.next=10;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.next=9,this.errorHandler.handle(e.t0,{type:e.t0.type||a.UI,context:"handleEvent",eventType:t.type});case 9:throw e.sent;case 10:case"end":return e.stop()}}),_callee2,this,[[0,5]])}))),function(t){return u.apply(this,arguments)})},{key:"handleError",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t instanceof Error?t:new Error(String(t));this.errorHandler.handle(r,TranslationHandler_objectSpread(TranslationHandler_objectSpread({},e),{},{origin:"TranslationHandler"}))}},{key:"handleError_OLD",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=t instanceof Error?t:new Error(String(t));this.errorHandler.handle(r,TranslationHandler_objectSpread(TranslationHandler_objectSpread({},e),{},{origin:"TranslationHandler"}))}catch(t){throw helpers_logME("[TranslationHandler] Error handling failed:",t),this.errorHandler.handle(t,{type:a.UI,context:"TranslationHandler-handleError"})}}},{key:"handleEditableFocus",value:function(t){this.eventHandler.handleEditableFocus(t)}},{key:"handleEditableBlur",value:function(){this.eventHandler.handleEditableBlur()}},{key:"handleEscape",value:function(t){this.eventHandler.handleEscape(t)}},{key:"handleCtrlSlash",value:(c=TranslationHandler_asyncToGenerator(TranslationHandler_regeneratorRuntime().mark((function _callee3(t){return TranslationHandler_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return e.next=2,this.eventHandler.handleCtrlSlash(t);case 2:case"end":return e.stop()}}),_callee3,this)}))),function(t){return c.apply(this,arguments)})},{key:"handleEditableElement",value:(s=TranslationHandler_asyncToGenerator(TranslationHandler_regeneratorRuntime().mark((function _callee4(t){return TranslationHandler_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:return e.next=2,this.eventHandler.handleEditableElement(t);case 2:case"end":return e.stop()}}),_callee4,this)}))),function(t){return s.apply(this,arguments)})},{key:"processTranslation_with_CtrlSlash",value:(i=TranslationHandler_asyncToGenerator(TranslationHandler_regeneratorRuntime().mark((function _callee5(t){var e,r,n,o;return TranslationHandler_regeneratorRuntime().wrap((function(i){for(;1;)switch(i.prev=i.next){case 0:if(e=null,i.prev=1,isExtensionContextValid()){i.next=6;break}if(t.target){i.next=6;break}return this.errorHandler.handle(new Error(a.CONTEXT),{type:a.CONTEXT,context:"TranslationHandler-processTranslation-context",code:"context-invalid",statusCode:"context-invalid"}),i.abrupt("return");case 6:return i.t0=this.notifier,i.next=9,i18n_getTranslationString("STATUS_TRANSLATING_CTRLSLASH");case 9:if(i.t1=i.sent,i.t1){i.next=12;break}i.t1="(translating...)";case 12:return i.t2=i.t1,e=i.t0.show.call(i.t0,i.t2,"status"),O.translateMode=t.selectionRange?A:k,i.next=17,translateFieldViaSmartHandler({text:t.text,translationHandler:this,target:t.target,selectionRange:t.selectionRange});case 17:i.next=33;break;case 19:return i.prev=19,i.t3=i["catch"](1),i.next=23,_.processError(i.t3);case 23:return r=i.sent,i.next=26,this.errorHandler.handle(r,{type:r.type||a.CONTEXT,context:"TranslationHandler-processTranslation",translationParams:t,isPrimary:!0});case 26:if(n=i.sent,e&&this.notifier.dismiss(e),!n.isFinal&&!n.suppressSecondary){i.next=30;break}return i.abrupt("return");case 30:throw o=new Error(n.message),Object.assign(o,{type:n.type,statusCode:n.statusCode,isFinal:!0,originalError:i.t3}),o;case 33:return i.prev=33,e&&this.notifier.dismiss(e),i.finish(33);case 36:case"end":return i.stop()}}),_callee5,this,[[1,19,33,36]])}))),function(t){return i.apply(this,arguments)})},{key:"validateStrategies",value:(o=TranslationHandler_asyncToGenerator(TranslationHandler_regeneratorRuntime().mark((function _callee6(){return TranslationHandler_regeneratorRuntime().wrap((function(t){for(;1;)switch(t.prev=t.next){case 0:try{Object.entries(this.strategies).forEach((function(t){var e=TranslationHandler_slicedToArray(t,2),r=e[0];if("function"!=typeof e[1].extractText)throw new Error("استراتژی ".concat(r," متد extractText را پیاده‌سازی نکرده است"))}))}catch(t){this.errorHandler.handle(t,{type:a.INTEGRATION,context:"strategy-validation"})}case 1:case"end":return t.stop()}}),_callee6,this)}))),function(){return o.apply(this,arguments)})},{key:"updateTargetElement",value:(n=TranslationHandler_asyncToGenerator(TranslationHandler_regeneratorRuntime().mark((function _callee7(t,e){var r,n;return TranslationHandler_regeneratorRuntime().wrap((function(o){for(;1;)switch(o.prev=o.next){case 0:if(o.prev=0,"string"!=typeof e||!e){o.next=7;break}if(n=detectPlatform(),null===(r=this.strategies[n])||void 0===r||!r.updateElement||"function"!=typeof this.strategies[n].updateElement){o.next=7;break}return o.next=6,this.strategies[n].updateElement(t,e);case 6:return o.abrupt("return",o.sent);case 7:o.next=12;break;case 9:o.prev=9,o.t0=o["catch"](0),this.errorHandler.handle(o.t0,{type:a.SERVICE,context:"update-target-element",platform:detectPlatform()});case 12:return o.abrupt("return",!1);case 13:case"end":return o.stop()}}),_callee7,this,[[0,9]])}))),function(t,e){return n.apply(this,arguments)})},{key:"getSelectElementContext",value:function(){return{select_element:window.getSelection(),activeElement:document.activeElement}}},{key:"extractFromActiveElement",value:function(t){var e=detectPlatform(),r=this.strategies[e];return r&&"function"==typeof r.extractText?r.extractText(t):(this.errorHandler.handle(new Error("extractText method not implemented for this platform"),{type:a.SERVICE,context:"TranslationHandler-extractFromActiveElement-".concat(e)}),"")}},{key:"pasteContent",value:function(t,e){try{var r=detectPlatform();this.strategies[r].pasteContent(t,e)}catch(t){this.errorHandler.handle(t,{type:a.UI,context:"paste-content",platform:detectPlatform()})}}}],e&&TranslationHandler_defineProperties(t.prototype,e),r&&TranslationHandler_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,o,i,s,c,u}(),TranslationHandler_applyDecoratedDescriptor(Cr.prototype,"reinitialize",[logMethod],Object.getOwnPropertyDescriptor(Cr.prototype,"reinitialize"),Cr.prototype),TranslationHandler_applyDecoratedDescriptor(Cr.prototype,"handleEvent",[logMethod],Object.getOwnPropertyDescriptor(Cr.prototype,"handleEvent"),Cr.prototype),TranslationHandler_applyDecoratedDescriptor(Cr.prototype,"handleError",[logMethod],Object.getOwnPropertyDescriptor(Cr.prototype,"handleError"),Cr.prototype),TranslationHandler_applyDecoratedDescriptor(Cr.prototype,"handleError_OLD",[logMethod],Object.getOwnPropertyDescriptor(Cr.prototype,"handleError_OLD"),Cr.prototype),TranslationHandler_applyDecoratedDescriptor(Cr.prototype,"processTranslation_with_CtrlSlash",[logMethod],Object.getOwnPropertyDescriptor(Cr.prototype,"processTranslation_with_CtrlSlash"),Cr.prototype),TranslationHandler_applyDecoratedDescriptor(Cr.prototype,"updateTargetElement",[logMethod],Object.getOwnPropertyDescriptor(Cr.prototype,"updateTargetElement"),Cr.prototype),TranslationHandler_applyDecoratedDescriptor(Cr.prototype,"pasteContent",[logMethod],Object.getOwnPropertyDescriptor(Cr.prototype,"pasteContent"),Cr.prototype),Cr),Gr=null;function getTranslationHandlerInstance(){return Gr||(Gr=new Mr),Gr}function contentMain_typeof(t){return contentMain_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},contentMain_typeof(t)}function contentMain_ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function contentMain_objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?contentMain_ownKeys(Object(r),!0).forEach((function(e){contentMain_defineProperty(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):contentMain_ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function contentMain_defineProperty(t,e,r){return(e=contentMain_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function contentMain_regeneratorRuntime(){contentMain_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==contentMain_typeof(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=u;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(e,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return a.next=a}}throw new TypeError(contentMain_typeof(e)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}function contentMain_asyncGeneratorStep(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function contentMain_asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function _next(t){contentMain_asyncGeneratorStep(a,n,o,_next,_throw,"next",t)}function _throw(t){contentMain_asyncGeneratorStep(a,n,o,_next,_throw,"throw",t)}_next(void 0)}))}}function contentMain_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,contentMain_toPropertyKey(n.key),n)}}function contentMain_toPropertyKey(t){var e=function(t,e){if("object"!=contentMain_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=contentMain_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==contentMain_typeof(e)?e:e+""}function contentMain_applyDecoratedDescriptor(t,e,r,n,o){var a={};return Object.keys(n).forEach((function(t){a[t]=n[t]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer?(Object.defineProperty(t,e,a),null):a}var Fr,jr,Dr="POPUP_OPENED_CHECK_MOUSE_V3",Hr="MOUSE_MOVED_ON_PAGE_BY_CONTENT_SCRIPT_V3",Ur="STOP_MOUSE_MOVE_CHECK_BY_POPUP_V3",Wr=15;function initContentScript(){var t;if(window.__AI_WRITING_EXTENSION_ACTIVE__)helpers_logME("[AIWriting] Skipping double init.");else{window.__AI_WRITING_EXTENSION_ACTIVE__=!0;var e=(t=function(){return t=function ContentScript(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ContentScript),this.boundHandlePageMouseMoveForPopup=null,this.initialMousePositionOnPageForContent=null,this.popupJustClosedForSelection=!1,this.popupJustClosedForSelectionTimeout=null,injectPageBridge(),function(){try{var t,e=null===(t=window)||void 0===t?void 0:t.location.hostname;injectCSS("styles/content.css"),injectCSS("styles/disable_links.css"),injectCSS("styles/SelectionWindows.css"),injectCSS("styles/theme.css"),e.includes("whatsapp.com")&&injectCSS("styles/whatsapp.css"),e.includes("x.com")&&injectCSS("styles/twitter.css")}catch(t){throw E.handle(t,{type:a.INTEGRATION,context:"injectStyle"})}}(),this.translationHandler=getTranslationHandlerInstance(),this.initPolyfills(),this.init()},e=[{key:"initPolyfills",value:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),r=e.length;--r>=0&&e.item(r)!==this;);return r>-1}),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null})}},{key:"init",value:function(){if(!isExtensionContextValid())return console.warn("[AI Writing Companion] ❌ Extension context is not valid"),void this.translationHandler.notifier.show("خطای بارگذاری افزونه - لطفا صفحه را رفرش کنید","error",!0);Object.freeze(S),this.setupUpdateSelectElementState(),this.setupPagehideListener(),this.setupMessageListener(),this.setupBridgeListener(),helpers_logME("[AI Writing Companion] ✅ Extension initialized successfully!")}},{key:"setupPagehideListener",value:function(){var t=this;window.addEventListener("pagehide",(function(){var e,r;helpers_logME("[ContentCS] Pagehide event triggered."),null===(e=t.translationHandler.IconManager)||void 0===e||null===(r=e.cleanup)||void 0===r||r.call(e),O.selectElementActive&&t.updateSelectElementState(!1),t._removePageMouseMoveListenerForPopup(),t.popupJustClosedForSelectionTimeout&&clearTimeout(t.popupJustClosedForSelectionTimeout),t.popupJustClosedForSelection=!1})),window.addEventListener("blur",(function(){helpers_logME("[ContentCS] Main window blurred. Current selectElementActive state:",O.selectElementActive,"popupJustClosedForSelection:",t.popupJustClosedForSelection),t.popupJustClosedForSelection?helpers_logME("[ContentCS] Main window blur: Ignoring due to recent popup closure for selection."):(O.selectElementActive&&(helpers_logME("[ContentCS] Main window blur: Standard deactivation of select element state."),t.updateSelectElementState(!1)),t._removePageMouseMoveListenerForPopup())}))}},{key:"setupUpdateSelectElementState",value:function(){this.translationHandler.updateSelectElementState=this.updateSelectElementState.bind(this)}},{key:"updateSelectElementState",value:(i=contentMain_asyncToGenerator(contentMain_regeneratorRuntime().mark((function _callee(t){var e,r;return contentMain_regeneratorRuntime().wrap((function(n){for(;1;)switch(n.prev=n.next){case 0:if(isExtensionContextValid()){n.next=3;break}return helpers_logME("[Content] Invalid context, skipping updateSelectElementState."),n.abrupt("return");case 3:return this.translationHandler.featureManager&&!this.translationHandler.featureManager.isOn("EXTENSION_ENABLED")?t=!1:this.translationHandler.featureManager||helpers_logME("[Content] featureManager not available in updateSelectElementState"),n.prev=4,O.selectElementActive=t,n.next=8,o().runtime.sendMessage({action:"UPDATE_SELECT_ELEMENT_STATE",data:t});case 8:taggleLinks(t),t||null===(e=this.translationHandler.IconManager)||void 0===e||null===(r=e.cleanup)||void 0===r||r.call(e),n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](4),helpers_logME("[Content] Error in updateSelectElementState => ",n.t0),this.translationHandler.errorHandler.handle(n.t0,{type:a.CONTEXT,context:"updateSelectElementState"});case 16:case"end":return n.stop()}}),_callee,this,[[4,12]])}))),function(t){return i.apply(this,arguments)})},{key:"_getMousePagePosition",value:function(t){return{x:t.clientX,y:t.clientY}}},{key:"_hasMouseMovedSignificantlyOnPage",value:function(t){if(!this.initialMousePositionOnPageForContent)return!1;var e=Math.abs(t.x-this.initialMousePositionOnPageForContent.x),r=Math.abs(t.y-this.initialMousePositionOnPageForContent.y);return e>Wr||r>Wr}},{key:"_handlePageMouseMoveForPopup",value:function(t){if(!this.initialMousePositionOnPageForContent)return this.initialMousePositionOnPageForContent=this._getMousePagePosition(t),void helpers_logME("[ContentCS] Initial mouse position captured on page for popup check (class):",this.initialMousePositionOnPageForContent);var e=this._getMousePagePosition(t);this._hasMouseMovedSignificantlyOnPage(e)&&(helpers_logME("[ContentCS] Significant mouse movement detected on page (class method)."),o().runtime.sendMessage({action:Hr}).then((function(){return helpers_logME("[ContentCS] Sent MSG_MOUSE_MOVED_ON_PAGE to popup/runtime.")}))["catch"]((function(t){return helpers_logME("[ContentCS] Error sending MSG_MOUSE_MOVED_ON_PAGE:",t)})),this._removePageMouseMoveListenerForPopup())}},{key:"_addPageMouseMoveListenerForPopup",value:function(){this.boundHandlePageMouseMoveForPopup&&this._removePageMouseMoveListenerForPopup(),this.initialMousePositionOnPageForContent=null,this.boundHandlePageMouseMoveForPopup=this._handlePageMouseMoveForPopup.bind(this),document.addEventListener("mousemove",this.boundHandlePageMouseMoveForPopup,{passive:!0}),helpers_logME("[ContentCS] Added mousemove listener to page document (class method for popup).")}},{key:"_removePageMouseMoveListenerForPopup",value:function(){this.boundHandlePageMouseMoveForPopup&&(document.removeEventListener("mousemove",this.boundHandlePageMouseMoveForPopup),this.boundHandlePageMouseMoveForPopup=null,this.initialMousePositionOnPageForContent=null,helpers_logME("[ContentCS] Removed mousemove listener from page document (class method for popup)."))}},{key:"setupMessageListener",value:function(){o().runtime.onMessage.addListener(this.handleMessage.bind(this))}},{key:"handleMessage",value:(n=contentMain_asyncToGenerator(contentMain_regeneratorRuntime().mark((function _callee2(t,e,r){var n,i,s,c,u,l,f,h,p,d,y,g,v,m,b,x=this;return contentMain_regeneratorRuntime().wrap((function(e){for(;1;)switch(e.prev=e.next){case 0:e.prev=0,n=t.action||t.type,e.t0=n,e.next=e.t0===Dr?5:e.t0===Ur?8:"TOGGLE_SELECT_ELEMENT_MODE"===e.t0?11:"getSelectedText"===e.t0?15:"CONTEXT_INVALID"===e.t0||"EXTENSION_RELOADED"===e.t0?18:"applyTranslationToActiveElement"===e.t0?22:"revertAllAndEscape"===e.t0?49:52;break;case 5:return helpers_logME("[ContentCS] Received ".concat(Dr,". Starting to listen for mouse movement.")),this._addPageMouseMoveListenerForPopup(),e.abrupt("return",!1);case 8:return helpers_logME("[ContentCS] Received ".concat(Ur,". Reason: ").concat(t.reason,". Stopping mouse movement listener.")),this._removePageMouseMoveListenerForPopup(),e.abrupt("return",!1);case 11:return helpers_logME("[ContentCS] Received TOGGLE_SELECT_ELEMENT_MODE with data:",t.data),!0===t.data&&(this.popupJustClosedForSelection=!0,helpers_logME("[ContentCS] Flag 'popupJustClosedForSelection' set TRUE via TOGGLE_SELECT_ELEMENT_MODE."),this.popupJustClosedForSelectionTimeout&&clearTimeout(this.popupJustClosedForSelectionTimeout),this.popupJustClosedForSelectionTimeout=setTimeout((function(){x.popupJustClosedForSelection=!1,helpers_logME("[ContentCS] Flag 'popupJustClosedForSelection' auto-reset to FALSE after timeout.")}),500)),this.updateSelectElementState(t.data),e.abrupt("return",!1);case 15:return c=null!==(i=null===(s=window.getSelection())||void 0===s||null===(s=s.toString())||void 0===s?void 0:s.trim())&&void 0!==i?i:"",Promise.resolve({selectedText:c}).then(r),e.abrupt("return",!0);case 18:return o().runtime.sendMessage({action:"CONTENT_SCRIPT_WILL_RELOAD"}),u=this.translationHandler.notifier.show("لطفا صفحه را رفرش کنید","info",!0,2e3),setTimeout((function(){x.translationHandler.notifier.dismiss(u)}),3e3),e.abrupt("return",!1);case 22:if(f=document.activeElement,h=null===(l=t.payload)||void 0===l?void 0:l.translatedText,p=!1,!f||"string"!=typeof h){e.next=47;break}if(e.prev=26,m=null!==(d=null===(y=(g=this.translationHandler).detectPlatform)||void 0===y?void 0:y.call(g,f))&&void 0!==d?d:detectPlatform(),null===(v=this.translationHandler.strategies[m])||void 0===v||!v.updateElement||"function"!=typeof this.translationHandler.strategies[m].updateElement){e.next=34;break}return e.next=31,this.translationHandler.strategies[m].updateElement(f,h);case 31:p=e.sent,e.next=36;break;case 34:f.isContentEditable?(f.innerText=h,p=!0):"value"in f&&(f.value=h,p=!0),helpers_logME("[Content] Applied via fallback method");case 36:f.dispatchEvent(new Event("input",{bubbles:!0})),f.dispatchEvent(new Event("change",{bubbles:!0})),Promise.resolve({success:!!p}).then(r),e.next=45;break;case 41:e.prev=41,e.t1=e["catch"](26),helpers_logME("[Content] Strategy failed",e.t1),Promise.resolve({success:!1,error:(null===e.t1||void 0===e.t1?void 0:e.t1.message)||"Strategy failed"}).then(r);case 45:e.next=48;break;case 47:Promise.resolve({success:!1,error:"No active field or invalid content."}).then(r);case 48:return e.abrupt("return",!0);case 49:return helpers_logME("Received revertAllAndEscape in content script"),revertTranslations({state:O,errorHandler:this.translationHandler.errorHandler,notifier:this.translationHandler.notifier,IconManager:this.translationHandler.IconManager}),e.abrupt("return",!1);case 52:return helpers_logME("[ContentCS] Unknown message in handleMessage:",t),e.abrupt("return",!1);case 54:e.next=62;break;case 56:return e.prev=56,e.t2=e["catch"](0),helpers_logME("[ContentCS] Error in handleMessage:",e.t2),null===(b=this.translationHandler.notifier)||void 0===b||b.dismiss(),this.translationHandler.errorHandler.handle(e.t2,{type:a.INTEGRATION,context:"message-listener"}),e.abrupt("return",!1);case 62:case"end":return e.stop()}}),_callee2,this,[[0,56],[26,41]])}))),function(t,e,r){return n.apply(this,arguments)})},{key:"setupBridgeListener",value:function(){window.addEventListener("message",function(){var t=contentMain_asyncToGenerator(contentMain_regeneratorRuntime().mark((function _callee3(t){var e,r,n,a,i;return contentMain_regeneratorRuntime().wrap((function(s){for(;1;)switch(s.prev=s.next){case 0:if(t.source===window&&"AI_WRITING_TRANSLATE_REQUEST"===(null===(e=t.data)||void 0===e?void 0:e.type)){s.next=2;break}return s.abrupt("return");case 2:return r=t.data,n=r.text,a=r.translateMode,s.prev=3,s.next=6,o().runtime.sendMessage({action:"fetchTranslation",payload:{promptText:n,translationMode:a}});case 6:i=s.sent,window.postMessage({type:"AI_WRITING_TRANSLATE_RESPONSE",result:i,original:contentMain_objectSpread({},t.data)},"*"),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](3),window.postMessage({type:"AI_WRITING_TRANSLATE_RESPONSE",error:(null===s.t0||void 0===s.t0?void 0:s.t0.message)||(null===s.t0||void 0===s.t0?void 0:s.t0.toString())||"bridge content error",original:contentMain_objectSpread({},t.data)},"*");case 13:case"end":return s.stop()}}),_callee3,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}())}}],e&&contentMain_defineProperties(t.prototype,e),r&&contentMain_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,i}(),contentMain_applyDecoratedDescriptor(t.prototype,"updateSelectElementState",[logMethod],Object.getOwnPropertyDescriptor(t.prototype,"updateSelectElementState"),t.prototype),contentMain_applyDecoratedDescriptor(t.prototype,"handleMessage",[logMethod],Object.getOwnPropertyDescriptor(t.prototype,"handleMessage"),t.prototype),t),r=new e;r.translationHandler}}Fr=window.top===window.self,jr=[].some((function(t){return location.hostname.includes(t)})),(Fr||jr)&&(window.__AI_WRITING_EXTENSION_ACTIVE__||initContentScript())},27356:(t,e,r)=>{"use strict";var n=r(47898);t.exports=function(t){return void 0!==t&&(n(t,"value")||n(t,"writable"))}},27434:(t,e,r)=>{"use strict";var n=r(15868);t.exports=n("document","documentElement")},27501:(t,e,r)=>{"use strict";var n=r(47493),o=r(26402),a=r(55071);n({target:"Reflect",stat:!0},{isExtensible:function(t){return o(t),a(t)}})},27669:(t,e,r)=>{"use strict";var n=r(34714);t.exports=n((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},27804:(t,e,r)=>{"use strict";var n=r(33120),o=r(11259),a=r(26402),i=r(30470),s=r(79203),c=r(8594),u=r(93645),l=r(18985),f=r(15186),h=r(69017);o("match",(function(t,e,r){return[function(e){var r=u(this),o=i(e)?void 0:l(e,t);return o?n(o,e,r):new RegExp(e)[t](c(r))},function(t){var n=a(this),o=c(t),i=r(e,n,o);if(i.done)return i.value;if(!n.global)return h(n,o);var u=n.unicode;n.lastIndex=0;for(var l,p=[],d=0;null!==(l=h(n,o));){var y=c(l[0]);p[d]=y,""===y&&(n.lastIndex=f(o,s(n.lastIndex),u)),d++}return 0===d?null:p}]}))},28226:(t,e,r)=>{"use strict";r(61303)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(37143))},28363:(t,e,r)=>{"use strict";var n=r(30338)("iterator"),o=!1;try{var a=0,i={next:function(){return{done:!!a++}},return:function(){o=!0}};i[n]=function(){return this},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!o)return!1}catch(t){return!1}var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},t(a)}catch(t){}return r}},28546:t=>{"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},28900:(t,e,r)=>{"use strict";var n=r(15868),o=r(37869),a=r(30338),i=r(38789),s=a("species");t.exports=function(t){var e=n(t);i&&e&&!e[s]&&o(e,s,{configurable:!0,get:function(){return this}})}},28922:(t,e,r)=>{"use strict";var n,o,a,i,s=r(11957),c=r(65750),u=r(4571),l=s.structuredClone,f=s.ArrayBuffer,h=s.MessageChannel,p=!1;if(u)p=function(t){l(t,{transfer:[t]})};else if(f)try{h||(n=c("worker_threads"))&&(h=n.MessageChannel),h&&(o=new h,a=new f(2),i=function(t){o.port1.postMessage(null,[t])},2===a.byteLength&&(i(a),0===a.byteLength&&(p=i)))}catch(t){}t.exports=p},28931:(t,e,r)=>{"use strict";var n=r(44117),o=r(33120),a=r(85140),i=r(84356),s=r(16330),c=r(96746),u=r(83509),l=r(33449),f=r(3990),h=r(84554),p=Array;t.exports=function(t){var e=a(t),r=c(this),d=arguments.length,y=d>1?arguments[1]:void 0,g=void 0!==y;g&&(y=n(y,d>2?arguments[2]:void 0));var v,m,b,x,w,_,E=h(e),T=0;if(!E||this===p&&s(E))for(v=u(e),m=r?new this(v):p(v);v>T;T++)_=g?y(e[T],T):e[T],l(m,T,_);else for(m=r?new this:[],w=(x=f(e,E)).next;!(b=o(w,x)).done;T++)_=g?i(x,y,[b.value,T],!0):b.value,l(m,T,_);return m.length=T,m}},29224:(t,e,r)=>{"use strict";var n=r(38789),o=r(10732),a=r(8953),i=r(37869),s=r(470).get,c=RegExp.prototype,u=TypeError;n&&o&&i(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===a(this))return!!s(this).dotAll;throw new u("Incompatible receiver, RegExp required")}}})},29445:(t,e,r)=>{"use strict";var n=r(92747),o=r(39138).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},29576:(t,e,r)=>{"use strict";var n=r(47493),o=r(81099);n({global:!0,forced:parseFloat!==o},{parseFloat:o})},29618:(t,e,r)=>{"use strict";var n=r(23025),o=r(74835).has,a=r(87981),i=r(91598),s=r(63408),c=r(73168),u=r(4700);t.exports=function(t){var e=n(this),r=i(t);if(a(e)<=r.size)return!1!==s(e,(function(t){if(r.includes(t))return!1}),!0);var l=r.getIterator();return!1!==c(l,(function(t){if(o(e,t))return u(l,"normal",!1)}))}},29819:t=>{"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=e+"+/",n=e+"-_",inverse=function(t){for(var e={},r=0;r<64;r++)e[t.charAt(r)]=r;return e};t.exports={i2c:r,c2i:inverse(r),i2cUrl:n,c2iUrl:inverse(n)}},29967:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(58550),i=r(53129),s=r(9021),c=r(34714),u=r(38789);n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:c((function(){return u&&1!==Object.getOwnPropertyDescriptor(o,"queueMicrotask").value.length}))},{queueMicrotask:function(t){s(arguments.length,1),a(i(t))}})},30045:(t,e,r)=>{"use strict";r(9636)("match")},30132:(t,e,r)=>{"use strict";r(9636)("replace")},30177:(t,e,r)=>{"use strict";var n=r(30338)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},30296:(t,e,r)=>{"use strict";var n=r(47493),o=r(53838).end;n({target:"String",proto:!0,forced:r(42790)},{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},30338:(t,e,r)=>{"use strict";var n=r(11957),o=r(61250),a=r(47898),i=r(37689),s=r(87016),c=r(21721),u=n.Symbol,l=o("wks"),f=c?u["for"]||u:u&&u.withoutSetter||i;t.exports=function(t){return a(l,t)||(l[t]=s&&a(u,t)?u[t]:f("Symbol."+t)),l[t]}},30374:(t,e,r)=>{"use strict";var n=r(47493),o=r(34714),a=r(96746),i=r(33449),s=Array;n({target:"Array",stat:!0,forced:o((function(){function F(){}return!(s.of.call(F)instanceof F)}))},{of:function(){for(var t=0,e=arguments.length,r=new(a(this)?this:s)(e);e>t;)i(r,t,arguments[t++]);return r.length=e,r}})},30414:(t,e,r)=>{"use strict";var n=r(76222),o=r(11957),a=r(89238),i="__core-js_shared__",s=t.exports=o[i]||a(i,{});(s.versions||(s.versions=[])).push({version:"3.41.0",mode:n?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},30470:t=>{"use strict";t.exports=function(t){return null==t}},30555:(t,e,r)=>{"use strict";var n=r(67088),o=r(79203),a=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=o(e);if(e!==r)throw new a("Wrong length or index");return r}},30598:(t,e,r)=>{"use strict";var n=r(564);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},30630:(t,e,r)=>{"use strict";var n=r(47493),o=r(90350),a=r(32250);n({target:"Array",proto:!0},{fill:o}),a("fill")},30876:(t,e,r)=>{"use strict";var n=r(49753),o=r(67088),a=r(8594),i=r(93645),s=n("".charAt),c=n("".charCodeAt),u=n("".slice),createMethod=function(t){return function(e,r){var n,l,f=a(i(e)),h=o(r),p=f.length;return h<0||h>=p?t?"":void 0:(n=c(f,h))<55296||n>56319||h+1===p||(l=c(f,h+1))<56320||l>57343?t?s(f,h):n:t?u(f,h,h+2):(n-55296<<10)+(l-56320)+65536}};t.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},30913:(t,e,r)=>{"use strict";var n=r(47493),o=r(42560).filter;n({target:"Array",proto:!0,forced:!r(93650)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},31042:(t,e,r)=>{"use strict";var n=r(93418).f,o=r(47898),a=r(30338)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!o(t,a)&&n(t,a,{configurable:!0,value:e})}},31067:(t,e,r)=>{"use strict";var n=r(49753),o=r(53129),a=r(55431),i=r(47898),s=r(46489),c=r(59479),u=Function,l=n([].concat),f=n([].join),h={};t.exports=c?u.bind:function(t){var e=o(this),r=e.prototype,n=s(arguments,1),boundFunction=function(){var r=l(n,s(arguments));return this instanceof boundFunction?function(t,e,r){if(!i(h,e)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";h[e]=u("C,a","return new C("+f(n,",")+")")}return h[e](t,r)}(e,r.length,r):e.apply(t,r)};return a(r)&&(boundFunction.prototype=r),boundFunction}},31133:(t,e,r)=>{"use strict";r(47493)({target:"Math",stat:!0},{sign:r(827)})},31325:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(53129),i=r(15868),s=r(68236),c=r(56850),u=r(3121),l=r(37548),f="No one promise resolved";n({target:"Promise",stat:!0,forced:l},{any:function(t){var e=this,r=i("AggregateError"),n=s.f(e),l=n.resolve,h=n.reject,p=c((function(){var n=a(e.resolve),i=[],s=0,c=1,p=!1;u(t,(function(t){var a=s++,u=!1;c++,o(n,e,t).then((function(t){u||p||(p=!0,l(t))}),(function(t){u||p||(u=!0,i[a]=t,--c||h(new r(i,f)))}))})),--c||h(new r(i,f))}));return p.error&&h(p.value),n.promise}})},31451:(t,e,r)=>{"use strict";var n=r(11957),o=r(72349),a=r(84079),i=r(66916),s=r(48864),handlePrototype=function(t){if(t&&t.forEach!==i)try{s(t,"forEach",i)}catch(e){t.forEach=i}};for(var c in o)o[c]&&handlePrototype(n[c]&&n[c].prototype);handlePrototype(a)},31479:(t,e,r)=>{"use strict";var n=r(47493),o=r(85140),a=r(83509),i=r(4232),s=r(27114);n({target:"Array",proto:!0,arity:1,forced:r(34714)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=o(this),r=a(e),n=arguments.length;s(r+n);for(var c=0;c<n;c++)e[r]=arguments[c],r++;return i(e,r),r}})},31717:(t,e,r)=>{"use strict";r(28900)("Array")},31743:(t,e,r)=>{"use strict";var n=r(47493),o=r(15868),a=r(87854),i=r(33120),s=r(49753),c=r(34714),u=r(35908),l=r(65496),f=r(46489),h=r(14358),p=r(87016),d=String,y=o("JSON","stringify"),g=s(/./.exec),v=s("".charAt),m=s("".charCodeAt),b=s("".replace),x=s(1..toString),w=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,T=!p||c((function(){var t=o("Symbol")("stringify detection");return"[null]"!==y([t])||"{}"!==y({a:t})||"{}"!==y(Object(t))})),S=c((function(){return'"\\udf06\\ud834"'!==y("\udf06\ud834")||'"\\udead"'!==y("\udead")})),stringifyWithSymbolsFix=function(t,e){var r=f(arguments),n=h(e);if(u(n)||void 0!==t&&!l(t))return r[1]=function(t,e){if(u(n)&&(e=i(n,this,d(t),e)),!l(e))return e},a(y,null,r)},fixIllFormed=function(t,e,r){var n=v(r,e-1),o=v(r,e+1);return g(_,t)&&!g(E,o)||g(E,t)&&!g(_,n)?"\\u"+x(m(t,0),16):t};y&&n({target:"JSON",stat:!0,arity:3,forced:T||S},{stringify:function(t,e,r){var n=f(arguments),o=a(T?stringifyWithSymbolsFix:y,null,n);return S&&"string"==typeof o?b(o,w,fixIllFormed):o}})},31760:(t,e,r)=>{"use strict";var n=r(34714);t.exports=!n((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},32250:(t,e,r)=>{"use strict";var n=r(30338),o=r(79969),a=r(93418).f,i=n("unscopables"),s=Array.prototype;void 0===s[i]&&a(s,i,{configurable:!0,value:o(null)}),t.exports=function(t){s[i][t]=!0}},32903:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(31042);n({global:!0},{Reflect:{}}),a(o.Reflect,"Reflect",!0)},32927:(t,e,r)=>{"use strict";var n=r(42250).IteratorPrototype,o=r(79969),a=r(42251),i=r(31042),s=r(468),returnThis=function(){return this};t.exports=function(t,e,r,c){var u=e+" Iterator";return t.prototype=o(n,{next:a(+!c,r)}),i(t,u,!1,!0),s[u]=returnThis,t}},33120:(t,e,r)=>{"use strict";var n=r(59479),o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},33264:(t,e,r)=>{"use strict";var n=r(38789),o=r(33120),a=r(85512),i=r(42251),s=r(95156),c=r(92512),u=r(47898),l=r(56830),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=s(t),e=c(e),l)try{return f(t,e)}catch(t){}if(u(t,e))return i(!o(a.f,t,e),t[e])}},33277:(t,e,r)=>{"use strict";var n,o=r(76222),a=r(47493),i=r(11957),s=r(15868),c=r(49753),u=r(34714),l=r(37689),f=r(35908),h=r(96746),p=r(30470),d=r(55431),y=r(65496),g=r(3121),v=r(26402),m=r(33382),b=r(47898),x=r(33449),w=r(48864),_=r(83509),E=r(9021),T=r(50881),S=r(80181),k=r(74835),A=r(63408),I=r(28922),P=r(41262),O=r(4571),L=i.Object,R=i.Array,C=i.Date,N=i.Error,M=i.TypeError,G=i.PerformanceMark,j=s("DOMException"),D=S.Map,H=S.has,U=S.get,W=S.set,B=k.Set,z=k.add,Y=k.has,$=s("Object","keys"),V=c([].push),X=c((!0).valueOf),q=c(1..valueOf),K=c("".valueOf),J=c(C.prototype.getTime),Z=l("structuredClone"),Q="DataCloneError",tt="Transferring",checkBasicSemantic=function(t){return!u((function(){var e=new i.Set([7]),r=t(e),n=t(L(7));return r===e||!r.has(7)||!d(n)||7!=+n}))&&t},checkErrorsCloning=function(t,e){return!u((function(){var r=new e,n=t({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof e&&n.a.stack===r.stack)}))},et=i.structuredClone,rt=o||!checkErrorsCloning(et,N)||!checkErrorsCloning(et,j)||(n=et,!!u((function(){var t=n(new i.AggregateError([1],Z,{cause:3}));return"AggregateError"!==t.name||1!==t.errors[0]||t.message!==Z||3!==t.cause}))),nt=!et&&checkBasicSemantic((function(t){return new G(Z,{detail:t}).detail})),ot=checkBasicSemantic(et)||nt,throwUncloneable=function(t){throw new j("Uncloneable type: "+t,Q)},throwUnpolyfillable=function(t,e){throw new j((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",Q)},tryNativeRestrictedStructuredClone=function(t,e){return ot||throwUnpolyfillable(e),ot(t)},cloneBuffer=function(t,e,r){if(H(e,t))return U(e,t);var n,o,a,s,c,u;if("SharedArrayBuffer"===(r||m(t)))n=ot?ot(t):t;else{var l=i.DataView;l||f(t.slice)||throwUnpolyfillable("ArrayBuffer");try{if(f(t.slice)&&!t.resizable)n=t.slice(0);else{o=t.byteLength,a="maxByteLength"in t?{maxByteLength:t.maxByteLength}:void 0,n=new ArrayBuffer(o,a),s=new l(t),c=new l(n);for(u=0;u<o;u++)c.setUint8(u,s.getUint8(u))}}catch(t){throw new j("ArrayBuffer is detached",Q)}}return W(e,t,n),n},structuredCloneInternal=function(t,e){if(y(t)&&throwUncloneable("Symbol"),!d(t))return t;if(e){if(H(e,t))return U(e,t)}else e=new D;var r,n,o,a,c,u,l,h,p=m(t);switch(p){case"Array":o=R(_(t));break;case"Object":o={};break;case"Map":o=new D;break;case"Set":o=new B;break;case"RegExp":o=new RegExp(t.source,T(t));break;case"Error":switch(n=t.name){case"AggregateError":o=new(s(n))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":o=new(s(n));break;case"CompileError":case"LinkError":case"RuntimeError":o=new(s("WebAssembly",n));break;default:o=new N}break;case"DOMException":o=new j(t.message,t.name);break;case"ArrayBuffer":case"SharedArrayBuffer":o=cloneBuffer(t,e,p);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":u="DataView"===p?t.byteLength:t.length,o=function(t,e,r,n,o){var a=i[e];return d(a)||throwUnpolyfillable(e),new a(cloneBuffer(t.buffer,o),r,n)}(t,p,t.byteOffset,u,e);break;case"DOMQuad":try{o=new DOMQuad(structuredCloneInternal(t.p1,e),structuredCloneInternal(t.p2,e),structuredCloneInternal(t.p3,e),structuredCloneInternal(t.p4,e))}catch(e){o=tryNativeRestrictedStructuredClone(t,p)}break;case"File":if(ot)try{o=ot(t),m(o)!==p&&(o=void 0)}catch(t){}if(!o)try{o=new File([t],t.name,t)}catch(t){}o||throwUnpolyfillable(p);break;case"FileList":if(a=function(){var t;try{t=new i.DataTransfer}catch(e){try{t=new i.ClipboardEvent("").clipboardData}catch(t){}}return t&&t.items&&t.files?t:null}()){for(c=0,u=_(t);c<u;c++)a.items.add(structuredCloneInternal(t[c],e));o=a.files}else o=tryNativeRestrictedStructuredClone(t,p);break;case"ImageData":try{o=new ImageData(structuredCloneInternal(t.data,e),t.width,t.height,{colorSpace:t.colorSpace})}catch(e){o=tryNativeRestrictedStructuredClone(t,p)}break;default:if(ot)o=ot(t);else switch(p){case"BigInt":o=L(t.valueOf());break;case"Boolean":o=L(X(t));break;case"Number":o=L(q(t));break;case"String":o=L(K(t));break;case"Date":o=new C(J(t));break;case"Blob":try{o=t.slice(0,t.size,t.type)}catch(t){throwUnpolyfillable(p)}break;case"DOMPoint":case"DOMPointReadOnly":r=i[p];try{o=r.fromPoint?r.fromPoint(t):new r(t.x,t.y,t.z,t.w)}catch(t){throwUnpolyfillable(p)}break;case"DOMRect":case"DOMRectReadOnly":r=i[p];try{o=r.fromRect?r.fromRect(t):new r(t.x,t.y,t.width,t.height)}catch(t){throwUnpolyfillable(p)}break;case"DOMMatrix":case"DOMMatrixReadOnly":r=i[p];try{o=r.fromMatrix?r.fromMatrix(t):new r(t)}catch(t){throwUnpolyfillable(p)}break;case"AudioData":case"VideoFrame":f(t.clone)||throwUnpolyfillable(p);try{o=t.clone()}catch(t){throwUncloneable(p)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":throwUnpolyfillable(p);default:throwUncloneable(p)}}switch(W(e,t,o),p){case"Array":case"Object":for(l=$(t),c=0,u=_(l);c<u;c++)h=l[c],x(o,h,structuredCloneInternal(t[h],e));break;case"Map":t.forEach((function(t,r){W(o,structuredCloneInternal(r,e),structuredCloneInternal(t,e))}));break;case"Set":t.forEach((function(t){z(o,structuredCloneInternal(t,e))}));break;case"Error":w(o,"message",structuredCloneInternal(t.message,e)),b(t,"cause")&&w(o,"cause",structuredCloneInternal(t.cause,e)),"AggregateError"===n?o.errors=structuredCloneInternal(t.errors,e):"SuppressedError"===n&&(o.error=structuredCloneInternal(t.error,e),o.suppressed=structuredCloneInternal(t.suppressed,e));case"DOMException":P&&w(o,"stack",structuredCloneInternal(t.stack,e))}return o};a({global:!0,enumerable:!0,sham:!O,forced:rt},{structuredClone:function(t){var e,r,n=E(arguments.length,1)>1&&!p(arguments[1])?v(arguments[1]):void 0,o=n?n.transfer:void 0;void 0!==o&&(r=function(t,e){if(!d(t))throw new M("Transfer option cannot be converted to a sequence");var r=[];g(t,(function(t){V(r,v(t))}));for(var n,o,a,s,c,u=0,l=_(r),p=new B;u<l;){if(n=r[u++],"ArrayBuffer"===(o=m(n))?Y(p,n):H(e,n))throw new j("Duplicate transferable",Q);if("ArrayBuffer"!==o){if(O)s=et(n,{transfer:[n]});else switch(o){case"ImageBitmap":a=i.OffscreenCanvas,h(a)||throwUnpolyfillable(o,tt);try{(c=new a(n.width,n.height)).getContext("bitmaprenderer").transferFromImageBitmap(n),s=c.transferToImageBitmap()}catch(t){}break;case"AudioData":case"VideoFrame":f(n.clone)&&f(n.close)||throwUnpolyfillable(o,tt);try{s=n.clone(),n.close()}catch(t){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":throwUnpolyfillable(o,tt)}if(void 0===s)throw new j("This object cannot be transferred: "+o,Q);W(e,n,s)}else z(p,n)}return p}(o,e=new D));var a=structuredCloneInternal(t,e);return r&&function(t){A(t,(function(t){O?ot(t,{transfer:[t]}):f(t.transfer)?t.transfer():I?I(t):throwUnpolyfillable("ArrayBuffer",tt)}))}(r),a}})},33382:(t,e,r)=>{"use strict";var n=r(17033),o=r(35908),a=r(8953),i=r(30338)("toStringTag"),s=Object,c="Arguments"===a(function(){return arguments}());t.exports=n?a:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=s(t),i))?r:c?a(e):"Object"===(n=a(e))&&o(e.callee)?"Arguments":n}},33435:(t,e,r)=>{"use strict";var n=r(47493),o=r(71192),a=r(53129),i=r(85140),s=r(83509),c=r(30598);n({target:"Array",proto:!0},{flatMap:function(t){var e,r=i(this),n=s(r);return a(t),(e=c(r,0)).length=o(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},33449:(t,e,r)=>{"use strict";var n=r(38789),o=r(93418),a=r(42251);t.exports=function(t,e,r){n?o.f(t,e,a(0,r)):t[e]=r}},33680:t=>{"use strict";var e=RangeError;t.exports=function(t){if(t==t)return t;throw new e("NaN is not allowed")}},33767:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(95156),i=r(85140),s=r(8594),c=r(83509),u=o([].push),l=o([].join);n({target:"String",stat:!0},{raw:function(t){var e=a(i(t).raw),r=c(e);if(!r)return"";for(var n=arguments.length,o=[],f=0;1;){if(u(o,s(e[f++])),f===r)return l(o,"");f<n&&u(o,s(arguments[f]))}}})},34008:(t,e,r)=>{"use strict";var n=r(15868),o=r(47898),a=r(48864),i=r(39130),s=r(69878),c=r(48313),u=r(56287),l=r(64590),f=r(20658),h=r(24873),p=r(1150),d=r(38789),y=r(76222);t.exports=function(t,e,r,g){var v="stackTraceLimit",m=g?2:1,b=t.split("."),x=b[b.length-1],w=n.apply(null,b);if(w){var _=w.prototype;if(!y&&o(_,"cause")&&delete _.cause,!r)return w;var E=n("Error"),T=e((function(t,e){var r=f(g?e:t,void 0),n=g?new w(t):new w;return void 0!==r&&a(n,"message",r),p(n,T,n.stack,2),this&&i(_,this)&&l(n,this,T),arguments.length>m&&h(n,arguments[m]),n}));if(T.prototype=_,"Error"!==x?s?s(T,E):c(T,E,{name:!0}):d&&v in w&&(u(T,w,v),u(T,w,"prepareStackTrace")),c(T,w),!y)try{_.name!==x&&a(_,"name",x),_.constructor=T}catch(t){}return T}}},34058:(t,e,r)=>{"use strict";var n=r(47227).start,o=r(24897);t.exports=o("trimStart")?function(){return n(this)}:"".trimStart},34369:(t,e,r)=>{"use strict";var n=r(47493),o=r(68236);n({target:"Promise",stat:!0},{withResolvers:function(){var t=o.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})},34714:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},34873:(t,e,r)=>{"use strict";var n=r(38789),o=r(34714),a=r(26402),i=r(20658),s=Error.prototype.toString,c=o((function(){if(n){var t=Object.create(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==s.call(t))return!0}return"2: 1"!==s.call({message:1,name:2})||"Error"!==s.call({})}));t.exports=c?function(){var t=a(this),e=i(t.name,"Error"),r=i(t.message);return e?r?e+": "+r:e:r}:s},34886:(t,e,r)=>{"use strict";var n=r(38789),o=r(49753),a=r(37869),i=URLSearchParams.prototype,s=o(i.forEach);n&&!("size"in i)&&a(i,"size",{get:function(){var t=0;return s(this,(function(){t++})),t},configurable:!0,enumerable:!0})},35137:(t,e,r)=>{"use strict";var n=r(34714),o=r(35908),a=/#|\.prototype\./,isForced=function(t,e){var r=s[i(t)];return r===u||r!==c&&(o(e)?n(e):!!e)},i=isForced.normalize=function(t){return String(t).replace(a,".").toLowerCase()},s=isForced.data={},c=isForced.NATIVE="N",u=isForced.POLYFILL="P";t.exports=isForced},35164:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(12892),i=r(93645),s=r(8594),c=r(30177),u=o("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~u(s(i(this)),s(a(t)),arguments.length>1?arguments[1]:void 0)}})},35289:(t,e,r)=>{"use strict";var n=r(11957),o=r(78057),a=r(8953),i=n.ArrayBuffer,s=n.TypeError;t.exports=i&&o(i.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==a(t))throw new s("ArrayBuffer expected");return t.byteLength}},35517:(t,e,r)=>{"use strict";var n=r(49753),o=r(35908),a=r(30414),i=n(Function.toString);o(a.inspectSource)||(a.inspectSource=function(t){return i(t)}),t.exports=a.inspectSource},35908:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},35987:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(26402),i=r(42170),s=r(33680),c=r(71347),u=r(13539),l=r(4700),f=r(76222),h=u((function(){var t=this.iterator;if(!this.remaining--)return this.done=!0,l(t,"normal",void 0);var e=a(o(this.next,t));return(this.done=!!e.done)?void 0:e.value}));n({target:"Iterator",proto:!0,real:!0,forced:f},{take:function(t){a(this);var e=c(s(+t));return new h(i(this),{remaining:e})}})},36716:(t,e,r)=>{"use strict";var n=r(17033),o=r(33382);t.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},36785:(t,e,r)=>{"use strict";var n=r(23025),o=r(74835),a=r(87981),i=r(91598),s=r(63408),c=r(73168),u=o.Set,l=o.add,f=o.has;t.exports=function(t){var e=n(this),r=i(t),o=new u;return a(e)>r.size?c(r.getIterator(),(function(t){f(e,t)&&l(o,t)})):s(e,(function(t){r.includes(t)&&l(o,t)})),o}},36861:(t,e,r)=>{"use strict";r(61303)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(91424))},37135:(t,e,r)=>{"use strict";var n=r(11957).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&n(t)}},37143:(t,e,r)=>{"use strict";var n=r(79969),o=r(37869),a=r(46376),i=r(44117),s=r(98454),c=r(30470),u=r(3121),l=r(45833),f=r(74520),h=r(28900),p=r(38789),d=r(78894).fastKey,y=r(470),g=y.set,v=y.getterFor;t.exports={getConstructor:function(t,e,r,l){var f=t((function(t,o){s(t,h),g(t,{type:e,index:n(null),first:null,last:null,size:0}),p||(t.size=0),c(o)||u(o,t[l],{that:t,AS_ENTRIES:r})})),h=f.prototype,y=v(e),define=function(t,e,r){var n,o,a=y(t),i=getEntry(t,e);return i?i.value=r:(a.last=i={index:o=d(e,!0),key:e,value:r,previous:n=a.last,next:null,removed:!1},a.first||(a.first=i),n&&(n.next=i),p?a.size++:t.size++,"F"!==o&&(a.index[o]=i)),t},getEntry=function(t,e){var r,n=y(t),o=d(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key===e)return r};return a(h,{clear:function(){for(var t=y(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=null),e=e.next;t.first=t.last=null,t.index=n(null),p?t.size=0:this.size=0},delete:function(t){var e=this,r=y(e),n=getEntry(e,t);if(n){var o=n.next,a=n.previous;delete r.index[n.index],n.removed=!0,a&&(a.next=o),o&&(o.previous=a),r.first===n&&(r.first=o),r.last===n&&(r.last=a),p?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=y(this),n=i(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!getEntry(this,t)}}),a(h,r?{get:function(t){var e=getEntry(this,t);return e&&e.value},set:function(t,e){return define(this,0===t?0:t,e)}}:{add:function(t){return define(this,t=0===t?0:t,t)}}),p&&o(h,"size",{configurable:!0,get:function(){return y(this).size}}),f},setStrong:function(t,e,r){var n=e+" Iterator",o=v(e),a=v(n);l(t,e,(function(t,e){g(this,{type:n,target:t,state:o(t),kind:e,last:null})}),(function(){for(var t=a(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?f("keys"===e?r.key:"values"===e?r.value:[r.key,r.value],!1):(t.target=null,f(void 0,!0))}),r?"entries":"values",!r,!0),h(e)}}},37548:(t,e,r)=>{"use strict";var n=r(86781),o=r(28363),a=r(65949).CONSTRUCTOR;t.exports=a||!o((function(t){n.all(t).then(void 0,(function(){}))}))},37564:(t,e,r)=>{"use strict";var n=r(47493),o=r(66916);n({target:"Array",proto:!0,forced:[].forEach!==o},{forEach:o})},37689:(t,e,r)=>{"use strict";var n=r(49753),o=0,a=Math.random(),i=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+i(++o+a,36)}},37709:(t,e,r)=>{"use strict";var n=r(70730),o=TypeError;t.exports=function(t){var e=n(t,"number");if("number"==typeof e)throw new o("Can't convert number to bigint");return BigInt(e)}},37869:(t,e,r)=>{"use strict";var n=r(9066),o=r(93418);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),o.f(t,e,r)}},37931:(t,e,r)=>{"use strict";var n=r(23025),o=r(74835),a=r(38863),i=r(87981),s=r(91598),c=r(63408),u=r(73168),l=o.has,f=o.remove;t.exports=function(t){var e=n(this),r=s(t),o=a(e);return i(e)<=r.size?c(e,(function(t){r.includes(t)&&f(o,t)})):u(r.getIterator(),(function(t){l(e,t)&&f(o,t)})),o}},37942:(t,e,r)=>{"use strict";r(47493)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},38051:(t,e,r)=>{"use strict";var n=r(50701),o=r(49753),a=r(8594),i=r(9021),s=URLSearchParams,c=s.prototype,u=o(c.getAll),l=o(c.has),f=new s("a=1");!f.has("a",2)&&f.has("a",void 0)||n(c,"has",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return l(this,t);var n=u(this,t);i(e,1);for(var o=a(r),s=0;s<n.length;)if(n[s++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0})},38064:(t,e,r)=>{"use strict";var n=r(47493),o=r(15868),a=r(49753),i=r(53129),s=r(93645),c=r(92512),u=r(3121),l=r(34714),f=Object.groupBy,h=o("Object","create"),p=a([].push);n({target:"Object",stat:!0,forced:!f||l((function(){return 1!==f("ab",(function(t){return t})).a.length}))},{groupBy:function(t,e){s(t),i(e);var r=h(null),n=0;return u(t,(function(t){var o=c(e(t,n++));o in r?p(r[o],t):r[o]=[t]})),r}})},38243:(t,e,r)=>{"use strict";var n=r(8953),o=r(49753);t.exports=function(t){if("Function"===n(t))return o(t)}},38366:(t,e,r)=>{"use strict";var n=r(49753),o=2147483647,a=36,i=1,s=26,c=38,u=700,l=72,f=128,h="-",p=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,y="Overflow: input needs wider integers to process",g=a-i,v=RangeError,m=n(d.exec),b=Math.floor,x=String.fromCharCode,w=n("".charCodeAt),_=n([].join),E=n([].push),T=n("".replace),S=n("".split),k=n("".toLowerCase),digitToBasic=function(t){return t+22+75*(t<26)},adapt=function(t,e,r){var n=0;for(t=r?b(t/u):t>>1,t+=b(t/e);t>g*s>>1;)t=b(t/g),n+=a;return b(n+(g+1)*t/(t+c))},encode=function(t){var e=[];t=function(t){for(var e=[],r=0,n=t.length;r<n;){var o=w(t,r++);if(o>=55296&&o<=56319&&r<n){var a=w(t,r++);56320==(64512&a)?E(e,((1023&o)<<10)+(1023&a)+65536):(E(e,o),r--)}else E(e,o)}return e}(t);var r,n,c=t.length,u=f,p=0,d=l;for(r=0;r<t.length;r++)(n=t[r])<128&&E(e,x(n));var g=e.length,m=g;for(g&&E(e,h);m<c;){var T=o;for(r=0;r<t.length;r++)(n=t[r])>=u&&n<T&&(T=n);var S=m+1;if(T-u>b((o-p)/S))throw new v(y);for(p+=(T-u)*S,u=T,r=0;r<t.length;r++){if((n=t[r])<u&&++p>o)throw new v(y);if(n===u){for(var k=p,A=a;1;){var I=A<=d?i:A>=d+s?s:A-d;if(k<I)break;var P=k-I,O=a-I;E(e,x(digitToBasic(I+P%O))),k=b(P/O),A+=a}E(e,x(digitToBasic(k))),d=adapt(p,S,m===g),p=0,m++}}p++,u++}return _(e,"")};t.exports=function(t){var e,r,n=[],o=S(T(k(t),d,"."),".");for(e=0;e<o.length;e++)r=o[e],E(n,m(p,r)?"xn--"+encode(r):r);return _(n,".")}},38516:(t,e,r)=>{"use strict";r(47493)({target:"Reflect",stat:!0},{ownKeys:r(65432)})},38784:(t,e,r)=>{"use strict";var n=r(47493),o=r(68236);n({target:"Promise",stat:!0,forced:r(65949).CONSTRUCTOR},{reject:function(t){var e=o.f(this);return(0,e.reject)(t),e.promise}})},38789:(t,e,r)=>{"use strict";var n=r(34714);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},38863:(t,e,r)=>{"use strict";var n=r(74835),o=r(63408),a=n.Set,i=n.add;t.exports=function(t){var e=new a;return o(t,(function(t){i(e,t)})),e}},39075:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(67088),i=r(27217),s=r(55532),c=r(34714),u=RangeError,l=String,f=Math.floor,h=o(s),p=o("".slice),d=o(1..toFixed),pow=function(t,e,r){return 0===e?r:e%2==1?pow(t,e-1,r*t):pow(t*t,e/2,r)},multiply=function(t,e,r){for(var n=-1,o=r;++n<6;)o+=e*t[n],t[n]=o%1e7,o=f(o/1e7)},divide=function(t,e){for(var r=6,n=0;--r>=0;)n+=t[r],t[r]=f(n/e),n=n%e*1e7},dataToString=function(t){for(var e=6,r="";--e>=0;)if(""!==r||0===e||0!==t[e]){var n=l(t[e]);r=""===r?n:r+h("0",7-n.length)+n}return r};n({target:"Number",proto:!0,forced:c((function(){return"0.000"!==d(8e-5,3)||"1"!==d(.9,0)||"1.25"!==d(1.255,2)||"1000000000000000128"!==d(0xde0b6b3a7640080,0)}))||!c((function(){d({})}))},{toFixed:function(t){var e,r,n,o,s=i(this),c=a(t),f=[0,0,0,0,0,0],d="",y="0";if(c<0||c>20)throw new u("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return l(s);if(s<0&&(d="-",s=-s),s>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(s*pow(2,69,1))-69)<0?s*pow(2,-e,1):s/pow(2,e,1),r*=4503599627370496,(e=52-e)>0){for(multiply(f,0,r),n=c;n>=7;)multiply(f,1e7,0),n-=7;for(multiply(f,pow(10,n,1),0),n=e-1;n>=23;)divide(f,1<<23),n-=23;divide(f,1<<n),multiply(f,1,1),divide(f,2),y=dataToString(f)}else multiply(f,0,r),multiply(f,1<<-e,0),y=dataToString(f)+h("0",c);return y=c>0?d+((o=y.length)<=c?"0."+h("0",c-o)+y:p(y,0,o-c)+"."+p(y,o-c)):d+y}})},39115:(t,e,r)=>{"use strict";var n=r(47493),o=r(34058);n({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==o},{trimLeft:o})},39130:(t,e,r)=>{"use strict";var n=r(49753);t.exports=n({}.isPrototypeOf)},39138:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},39707:(t,e,r)=>{"use strict";var n=r(47493),o=r(15868),a=r(47898),i=r(8594),s=r(61250),c=r(25113),u=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=i(t);if(a(u,e))return u[e];var r=o("Symbol")(e);return u[e]=r,l[r]=e,r}})},39947:(t,e,r)=>{"use strict";var n=r(47493),o=r(85140),a=r(77147),i=r(67088),s=r(83509),c=r(4232),u=r(27114),l=r(30598),f=r(33449),h=r(74753),p=r(93650)("splice"),d=Math.max,y=Math.min;n({target:"Array",proto:!0,forced:!p},{splice:function(t,e){var r,n,p,g,v,m,b=o(this),x=s(b),w=a(t,x),_=arguments.length;for(0===_?r=n=0:1===_?(r=0,n=x-w):(r=_-2,n=y(d(i(e),0),x-w)),u(x+r-n),p=l(b,n),g=0;g<n;g++)(v=w+g)in b&&f(p,g,b[v]);if(p.length=n,r<n){for(g=w;g<x-n;g++)m=g+r,(v=g+n)in b?b[m]=b[v]:h(b,m);for(g=x;g>x-n+r;g--)h(b,g-1)}else if(r>n)for(g=x-n;g>w;g--)m=g+r-1,(v=g+n-1)in b?b[m]=b[v]:h(b,m);for(g=0;g<r;g++)b[g+w]=arguments[g+2];return c(b,x-n+r),p}})},40100:(t,e,r)=>{"use strict";var n=r(1172).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},40116:(t,e,r)=>{"use strict";var n=r(47493),o=Math.atanh,a=Math.log;n({target:"Math",stat:!0,forced:!(o&&1/o(-0)<0)},{atanh:function(t){var e=+t;return 0===e?e:a((1+e)/(1-e))/2}})},40136:(t,e,r)=>{"use strict";var n=r(47493),o=r(15868),a=r(9021),i=r(8594),s=r(18405),c=o("URL");n({target:"URL",stat:!0,forced:!s},{parse:function(t){var e=a(arguments.length,1),r=i(t),n=e<2||void 0===arguments[1]?void 0:i(arguments[1]);try{return new c(r,n)}catch(t){return null}}})},40539:(t,e,r)=>{"use strict";var n,o=r(11957),a=r(87854),i=r(35908),s=r(10862),c=r(1172),u=r(46489),l=r(9021),f=o.Function,h=/MSIE .\./.test(c)||"BUN"===s&&((n=o.Bun.version.split(".")).length<3||"0"===n[0]&&(n[1]<3||"3"===n[1]&&"0"===n[2]));t.exports=function(t,e){var r=e?2:1;return h?function(n,o){var s=l(arguments.length,1)>r,c=i(n)?n:f(n),h=s?u(arguments,r):[],p=s?function(){a(c,this,h)}:c;return e?t(p,o):t(p)}:t}},40632:(t,e,r)=>{"use strict";var n=r(47493),o=r(71192),a=r(85140),i=r(83509),s=r(67088),c=r(30598);n({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=a(this),r=i(e),n=c(e,0);return n.length=o(n,e,e,r,0,void 0===t?1:s(t)),n}})},41224:(t,e,r)=>{"use strict";r(61303)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(37143))},41233:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(1786).clear;n({global:!0,bind:!0,enumerable:!0,forced:o.clearImmediate!==a},{clearImmediate:a})},41262:(t,e,r)=>{"use strict";var n=r(34714),o=r(42251);t.exports=!n((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},41524:(t,e,r)=>{"use strict";r(9636)("split")},41757:(t,e,r)=>{"use strict";var n=r(70095),o=r(24030).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0)}))},41837:(t,e,r)=>{"use strict";var n=r(70095),o=r(90350),a=r(37709),i=r(33382),s=r(33120),c=r(49753),u=r(34714),l=n.aTypedArray,f=n.exportTypedArrayMethod,h=c("".slice);f("fill",(function(t){var e=arguments.length;l(this);var r="Big"===h(i(this),0,3)?a(t):+t;return s(o,this,r,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}),u((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t})))},42101:(t,e,r)=>{"use strict";var n=r(49753),o=r(93645),a=r(8594),i=/"/g,s=n("".replace);t.exports=function(t,e,r,n){var c=a(o(t)),u="<"+e;return""!==r&&(u+=" "+r+'="'+s(a(n),i,"&quot;")+'"'),u+">"+c+"</"+e+">"}},42170:t=>{"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},42250:(t,e,r)=>{"use strict";var n,o,a,i=r(34714),s=r(35908),c=r(55431),u=r(79969),l=r(47746),f=r(50701),h=r(30338),p=r(76222),d=h("iterator"),y=!1;[].keys&&("next"in(a=[].keys())?(o=l(l(a)))!==Object.prototype&&(n=o):y=!0),!c(n)||i((function(){var t={};return n[d].call(t)!==t}))?n={}:p&&(n=u(n)),s(n[d])||f(n,d,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:y}},42251:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},42356:(t,e,r)=>{"use strict";r(68318),r(11230),r(43935),r(93298),r(18491),r(79496),r(30045),r(6147),r(30132),r(94878),r(60110),r(41524),r(5843),r(18360),r(14771),r(16075),r(97365),r(24272),r(90825),r(70226),r(54627),r(91696),r(78244),r(30630),r(30913),r(91836),r(5933),r(20077),r(25856),r(40632),r(33435),r(37564),r(93739),r(13362),r(8413),r(85615),r(5977),r(69483),r(61286),r(62317),r(30374),r(31479),r(64357),r(14374),r(1549),r(4977),r(81875),r(44303),r(31717),r(39947),r(84665),r(79678),r(69411),r(24403),r(26296),r(23542),r(47059),r(10406),r(62728),r(74652),r(95222),r(80772),r(88120),r(78586),r(80627),r(65675),r(3292),r(61e3),r(55640),r(37942),r(11433),r(22950),r(12603),r(57389),r(12933),r(237),r(87290),r(773),r(12402),r(83214),r(70321),r(59989),r(19634),r(1811),r(90660),r(91303),r(45568),r(4908),r(79850),r(88800),r(35987),r(55577),r(31743),r(49202),r(17726),r(78549),r(65612),r(44607),r(40116),r(4683),r(84452),r(97557),r(86007),r(71586),r(47503),r(11564),r(71755),r(80585),r(56809),r(56668),r(31133),r(46234),r(90881),r(23238),r(48116),r(21449),r(85503),r(96913),r(48278),r(55813),r(10028),r(82374),r(9948),r(3905),r(96110),r(92802),r(39075),r(16241),r(1618),r(4331),r(56554),r(68924),r(57788),r(87286),r(26575),r(68744),r(42470),r(67078),r(57517),r(93035),r(98804),r(38064),r(67082),r(42463),r(79741),r(98178),r(26772),r(5675),r(78337),r(75773),r(21440),r(95145),r(45898),r(50024),r(77102),r(95673),r(29576),r(72887),r(13817),r(78600),r(31325),r(26964),r(92642),r(34369),r(5619),r(12382),r(3276),r(94276),r(6571),r(23638),r(87236),r(50407),r(27501),r(38516),r(51888),r(4879),r(3160),r(32903),r(24817),r(10842),r(29224),r(86640),r(70421),r(80646),r(87401),r(90544),r(67228),r(79489),r(14223),r(94194),r(92383),r(54168),r(49439),r(96515),r(45966),r(67457),r(11196),r(65896),r(35164),r(5648),r(14379),r(27804),r(79166),r(30296),r(70633),r(33767),r(54002),r(52701),r(15267),r(4049),r(90121),r(19645),r(15904),r(62389),r(537),r(16825),r(1192),r(4828),r(46975),r(54947),r(71290),r(97399),r(73257),r(23433),r(81200),r(52273),r(3358),r(71115),r(15507),r(87109),r(225),r(11318),r(42511),r(4760),r(19518),r(84098),r(53625),r(89291),r(17333),r(25385),r(24269),r(46225),r(41837),r(83150),r(10919),r(56374),r(18796),r(41757),r(62995),r(96612),r(93689),r(88254),r(89698),r(92024),r(91555),r(22488),r(20737),r(96742),r(71989),r(90364),r(1826),r(16344),r(78836),r(48432),r(99539),r(87144),r(49556),r(2019),r(20755),r(55168),r(10706),r(10233),r(3007),r(89906),r(43656),r(31451),r(55450),r(50450),r(51670),r(2818),r(54185),r(29967),r(99616),r(33277),r(58692),r(66645),r(54535),r(40136),r(94837),r(61589),r(89356),r(38051),r(34886),r(20904)},42420:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},42463:(t,e,r)=>{"use strict";r(47493)({target:"Object",stat:!0},{is:r(72421)})},42470:(t,e,r)=>{"use strict";var n=r(47493),o=r(3121),a=r(33449);n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,(function(t,r){a(e,t,r)}),{AS_ENTRIES:!0}),e}})},42511:(t,e,r)=>{"use strict";r(19346)("Int8",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},42560:(t,e,r)=>{"use strict";var n=r(44117),o=r(49753),a=r(14472),i=r(85140),s=r(83509),c=r(30598),u=o([].push),createMethod=function(t){var e=1===t,r=2===t,o=3===t,l=4===t,f=6===t,h=7===t,p=5===t||f;return function(d,y,g,v){for(var m,b,x=i(d),w=a(x),_=s(w),E=n(y,g),T=0,S=v||c,k=e?S(d,_):r||h?S(d,0):void 0;_>T;T++)if((p||T in w)&&(b=E(m=w[T],T,x),t))if(e)k[T]=b;else if(b)switch(t){case 3:return!0;case 5:return m;case 6:return T;case 2:u(k,m)}else switch(t){case 4:return!1;case 7:u(k,m)}return f?-1:o||l?l:k}};t.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6),filterReject:createMethod(7)}},42790:(t,e,r)=>{"use strict";var n=r(1172);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},43656:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(15868),i=r(49753),s=r(33120),c=r(34714),u=r(8594),l=r(9021),f=r(29819).i2c,h=a("btoa"),p=i("".charAt),d=i("".charCodeAt),y=!!h&&!c((function(){return"aGk="!==h("hi")})),g=y&&!c((function(){h()})),v=y&&c((function(){return"bnVsbA=="!==h(null)})),m=y&&1!==h.length;n({global:!0,bind:!0,enumerable:!0,forced:!y||g||v||m},{btoa:function(t){if(l(arguments.length,1),y)return s(h,o,u(t));for(var e,r,n=u(t),i="",c=0,g=f;p(n,c)||(g="=",c%1);){if((r=d(n,c+=3/4))>255)throw new(a("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");i+=p(g,63&(e=e<<8|r)>>8-c%1*8)}return i}})},43935:(t,e,r)=>{"use strict";r(9636)("asyncIterator")},44108:(t,e,r)=>{"use strict";var n=r(49837),o=TypeError;t.exports=function(t){if(n(t))throw new o("ArrayBuffer is detached");return t}},44117:(t,e,r)=>{"use strict";var n=r(38243),o=r(53129),a=r(59479),i=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:a?i(t,e):function(){return t.apply(e,arguments)}}},44303:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(53129),i=r(85140),s=r(83509),c=r(74753),u=r(8594),l=r(34714),f=r(51031),h=r(68397),p=r(22918),d=r(80814),y=r(91832),g=r(40100),v=[],m=o(v.sort),b=o(v.push),x=l((function(){v.sort(void 0)})),w=l((function(){v.sort(null)})),_=h("sort"),E=!l((function(){if(y)return y<70;if(!(p&&p>3)){if(d)return!0;if(g)return g<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)v.push({k:e+n,v:r})}for(v.sort((function(t,e){return e.v-t.v})),n=0;n<v.length;n++)e=v[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));n({target:"Array",proto:!0,forced:x||!w||!_||!E},{sort:function(t){void 0!==t&&a(t);var e=i(this);if(E)return void 0===t?m(e):m(e,t);var r,n,o=[],l=s(e);for(n=0;n<l;n++)n in e&&b(o,e[n]);for(f(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:u(e)>u(r)?1:-1}}(t)),r=s(o),n=0;n<r;)e[n]=o[n++];for(;n<l;)c(e,n++);return e}})},44607:(t,e,r)=>{"use strict";var n=r(47493),o=Math.asinh,a=Math.log,i=Math.sqrt;n({target:"Math",stat:!0,forced:!(o&&1/o(0)>0)},{asinh:function asinh(t){var e=+t;return isFinite(e)&&0!==e?e<0?-asinh(-e):a(e+i(e*e+1)):e}})},44971:(t,e,r)=>{"use strict";var n=r(38789),o=r(34714);t.exports=n&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},45085:(t,e,r)=>{"use strict";var n=r(33120),o=r(15868),a=r(30338),i=r(50701);t.exports=function(){var t=o("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,s=a("toPrimitive");e&&!e[s]&&i(e,s,(function(t){return n(r,this)}),{arity:1})}},45568:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(85140),i=r(39130),s=r(42250).IteratorPrototype,c=r(13539),u=r(89517),l=r(76222),f=c((function(){return o(this.next,this.iterator)}),!0);n({target:"Iterator",stat:!0,forced:l},{from:function(t){var e=u("string"==typeof t?a(t):t,!0);return i(s,e.iterator)?e.iterator:new f(e)}})},45833:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(76222),i=r(16695),s=r(35908),c=r(32927),u=r(47746),l=r(69878),f=r(31042),h=r(48864),p=r(50701),d=r(30338),y=r(468),g=r(42250),v=i.PROPER,m=i.CONFIGURABLE,b=g.IteratorPrototype,x=g.BUGGY_SAFARI_ITERATORS,w=d("iterator"),_="keys",E="values",T="entries",returnThis=function(){return this};t.exports=function(t,e,r,i,d,g,S){c(r,e,i);var k,A,I,getIterationMethod=function(t){if(t===d&&C)return C;if(!x&&t&&t in L)return L[t];switch(t){case _:case E:case T:return function(){return new r(this,t)}}return function(){return new r(this)}},P=e+" Iterator",O=!1,L=t.prototype,R=L[w]||L["@@iterator"]||d&&L[d],C=!x&&R||getIterationMethod(d),N="Array"===e&&L.entries||R;if(N&&(k=u(N.call(new t)))!==Object.prototype&&k.next&&(a||u(k)===b||(l?l(k,b):s(k[w])||p(k,w,returnThis)),f(k,P,!0,!0),a&&(y[P]=returnThis)),v&&d===E&&R&&R.name!==E&&(!a&&m?h(L,"name",E):(O=!0,C=function(){return o(R,this)})),d)if(A={values:getIterationMethod(E),keys:g?C:getIterationMethod(_),entries:getIterationMethod(T)},S)for(I in A)(x||O||!(I in L))&&p(L,I,A[I]);else n({target:e,proto:!0,forced:x||O},A);return a&&!S||L[w]===C||p(L,w,C,{name:d}),y[e]=C,A}},45898:(t,e,r)=>{"use strict";var n=r(47493),o=r(55431),a=r(78894).onFreeze,i=r(1063),s=r(34714),c=Object.seal;n({target:"Object",stat:!0,forced:s((function(){c(1)})),sham:!i},{seal:function(t){return c&&o(t)?c(a(t)):t}})},45966:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(93645),i=r(67088),s=r(8594),c=r(34714),u=o("".charAt);n({target:"String",proto:!0,forced:c((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(t){var e=s(a(this)),r=e.length,n=i(t),o=n>=0?n:r+n;return o<0||o>=r?void 0:u(e,o)}})},46225:(t,e,r)=>{"use strict";var n=r(70095),o=r(42560).every,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0)}))},46234:(t,e,r)=>{"use strict";var n=r(47493),o=r(34714),a=r(76597),i=Math.abs,s=Math.exp,c=Math.E;n({target:"Math",stat:!0,forced:o((function(){return-2e-17!==Math.sinh(-2e-17)}))},{sinh:function(t){var e=+t;return i(e)<1?(a(e)-a(-e))/2:(s(e-1)-s(-e-1))*(c/2)}})},46376:(t,e,r)=>{"use strict";var n=r(50701);t.exports=function(t,e,r){for(var o in e)n(t,o,e[o],r);return t}},46489:(t,e,r)=>{"use strict";var n=r(49753);t.exports=n([].slice)},46538:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(40539)(o.setTimeout,!0);n({global:!0,bind:!0,forced:o.setTimeout!==a},{setTimeout:a})},46975:(t,e,r)=>{"use strict";var n=r(47493),o=r(42101);n({target:"String",proto:!0,forced:r(21390)("big")},{big:function(){return o(this,"big","","")}})},47059:(t,e,r)=>{"use strict";var n=r(47493),o=r(83339),a=r(95156),i=Array;n({target:"Array",proto:!0},{with:function(t,e){return o(a(this),i,t,e)}})},47227:(t,e,r)=>{"use strict";var n=r(49753),o=r(93645),a=r(8594),i=r(23121),s=n("".replace),c=RegExp("^["+i+"]+"),u=RegExp("(^|[^"+i+"])["+i+"]+$"),createMethod=function(t){return function(e){var r=a(o(e));return 1&t&&(r=s(r,c,"")),2&t&&(r=s(r,u,"$1")),r}};t.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}},47493:(t,e,r)=>{"use strict";var n=r(11957),o=r(33264).f,a=r(48864),i=r(50701),s=r(89238),c=r(48313),u=r(35137);t.exports=function(t,e){var r,l,f,h,p,d=t.target,y=t.global,g=t.stat;if(r=y?n:g?n[d]||s(d,{}):n[d]&&n[d].prototype)for(l in e){if(h=e[l],f=t.dontCallGetSet?(p=o(r,l))&&p.value:r[l],!u(y?l:d+(g?".":"#")+l,t.forced)&&void 0!==f){if(typeof h==typeof f)continue;c(h,f)}(t.sham||f&&f.sham)&&a(h,"sham",!0),i(r,l,h,t)}}},47503:(t,e,r)=>{"use strict";var n=r(47493),o=r(50399),a=.0009765625,i=65504,s=6103515625e-14;n({target:"Math",stat:!0},{f16round:function(t){return o(t,a,i,s)}})},47746:(t,e,r)=>{"use strict";var n=r(47898),o=r(35908),a=r(85140),i=r(56416),s=r(31760),c=i("IE_PROTO"),u=Object,l=u.prototype;t.exports=s?u.getPrototypeOf:function(t){var e=a(t);if(n(e,c))return e[c];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof u?l:null}},47898:(t,e,r)=>{"use strict";var n=r(49753),o=r(85140),a=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return a(o(t),e)}},48116:(t,e,r)=>{"use strict";r(47493)({target:"Math",stat:!0},{trunc:r(24518)})},48278:(t,e,r)=>{"use strict";r(47493)({target:"Number",stat:!0},{isInteger:r(54488)})},48313:(t,e,r)=>{"use strict";var n=r(47898),o=r(65432),a=r(33264),i=r(93418);t.exports=function(t,e,r){for(var s=o(e),c=i.f,u=a.f,l=0;l<s.length;l++){var f=s[l];n(t,f)||r&&n(r,f)||c(t,f,u(e,f))}}},48432:(t,e,r)=>{"use strict";var n=r(11957),o=r(38243),a=r(34714),i=r(53129),s=r(51031),c=r(70095),u=r(22918),l=r(80814),f=r(91832),h=r(40100),p=c.aTypedArray,d=c.exportTypedArrayMethod,y=n.Uint16Array,g=y&&o(y.prototype.sort),v=!(!g||a((function(){g(new y(2),null)}))&&a((function(){g(new y(2),{})}))),m=!!g&&!a((function(){if(f)return f<74;if(u)return u<67;if(l)return!0;if(h)return h<602;var t,e,r=new y(516),n=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for(g(r,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(r[t]!==n[t])return!0}));d("sort",(function(t){return void 0!==t&&i(t),m?g(this,t):s(p(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t))}),!m||v)},48616:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(40539)(o.setInterval,!0);n({global:!0,bind:!0,forced:o.setInterval!==a},{setInterval:a})},48864:(t,e,r)=>{"use strict";var n=r(38789),o=r(93418),a=r(42251);t.exports=n?function(t,e,r){return o.f(t,e,a(1,r))}:function(t,e,r){return t[e]=r,t}},49202:(t,e,r)=>{"use strict";var n=r(11957);r(31042)(n.JSON,"JSON",!0)},49439:(t,e,r)=>{"use strict";var n=r(47493),o=r(2817);n({target:"Set",proto:!0,real:!0,forced:!r(58047)("symmetricDifference")},{symmetricDifference:o})},49530:(t,e,r)=>{"use strict";var n=r(95156),o=r(77147),a=r(83509),createMethod=function(t){return function(e,r,i){var s=n(e),c=a(s);if(0===c)return!t&&-1;var u,l=o(i,c);if(t&&r!=r){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((t||l in s)&&s[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},49556:(t,e,r)=>{"use strict";var n=r(20385),o=r(70095),a=o.aTypedArray,i=o.exportTypedArrayMethod,s=o.getTypedArrayConstructor;i("toReversed",(function(){return n(a(this),s(this))}))},49753:(t,e,r)=>{"use strict";var n=r(59479),o=Function.prototype,a=o.call,i=n&&o.bind.bind(a,a);t.exports=n?i:function(t){return function(){return a.apply(t,arguments)}}},49837:(t,e,r)=>{"use strict";var n=r(11957),o=r(17412),a=r(35289),i=n.DataView;t.exports=function(t){if(!o||0!==a(t))return!1;try{return new i(t),!1}catch(t){return!0}}},49882:(t,e,r)=>{"use strict";var n=r(23025),o=r(74835).add,a=r(38863),i=r(91598),s=r(73168);t.exports=function(t){var e=n(this),r=i(t).getIterator(),c=a(e);return s(r,(function(t){o(c,t)})),c}},50024:(t,e,r)=>{"use strict";r(47493)({target:"Object",stat:!0},{setPrototypeOf:r(69878)})},50308:(t,e,r)=>{"use strict";var n=r(49753),o=Error,a=n("".replace),i=String(new o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(i);t.exports=function(t,e){if(c&&"string"==typeof t&&!o.prepareStackTrace)for(;e--;)t=a(t,s,"");return t}},50399:(t,e,r)=>{"use strict";var n=r(827),o=r(97471),a=Math.abs,i=2220446049250313e-31;t.exports=function(t,e,r,s){var c=+t,u=a(c),l=n(c);if(u<s)return l*o(u/s/e)*s*e;var f=(1+e/i)*u,h=f-(f-u);return h>r||h!=h?l*(1/0):l*h}},50407:(t,e,r)=>{"use strict";r(47493)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},50450:(t,e,r)=>{"use strict";var n=r(47493),o=r(15868),a=r(65750),i=r(34714),s=r(79969),c=r(42251),u=r(93418).f,l=r(50701),f=r(37869),h=r(47898),p=r(98454),d=r(26402),y=r(34873),g=r(20658),v=r(52215),m=r(50308),b=r(470),x=r(38789),w=r(76222),_="DOMException",E="DATA_CLONE_ERR",T=o("Error"),S=o(_)||function(){try{(new(o("MessageChannel")||a("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(t){if(t.name===E&&25===t.code)return t.constructor}}(),k=S&&S.prototype,A=T.prototype,I=b.set,P=b.getterFor(_),O="stack"in new T(_),codeFor=function(t){return h(v,t)&&v[t].m?v[t].c:0},$DOMException=function(){p(this,L);var t=arguments.length,e=g(t<1?void 0:arguments[0]),r=g(t<2?void 0:arguments[1],"Error"),n=codeFor(r);if(I(this,{type:_,name:r,message:e,code:n}),x||(this.name=r,this.message=e,this.code=n),O){var o=new T(e);o.name=_,u(this,"stack",c(1,m(o.stack,1)))}},L=$DOMException.prototype=s(A),createGetterDescriptor=function(t){return{enumerable:!0,configurable:!0,get:t}},getterFor=function(t){return createGetterDescriptor((function(){return P(this)[t]}))};x&&(f(L,"code",getterFor("code")),f(L,"message",getterFor("message")),f(L,"name",getterFor("name"))),u(L,"constructor",c(1,$DOMException));var R=i((function(){return!(new S instanceof T)})),C=R||i((function(){return A.toString!==y||"2: 1"!==String(new S(1,2))})),N=R||i((function(){return 25!==new S(1,"DataCloneError").code})),M=R||25!==S[E]||25!==k[E],G=w?C||N||M:R;n({global:!0,constructor:!0,forced:G},{DOMException:G?$DOMException:S});var j=o(_),D=j.prototype;for(var H in C&&(w||S===j)&&l(D,"toString",y),N&&x&&S===j&&f(D,"code",createGetterDescriptor((function(){return codeFor(d(this).name)}))),v)if(h(v,H)){var U=v[H],W=U.s,B=c(6,U.c);h(j,W)||u(j,W,B),h(D,W)||u(D,W,B)}},50701:(t,e,r)=>{"use strict";var n=r(35908),o=r(93418),a=r(9066),i=r(89238);t.exports=function(t,e,r,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:e;if(n(r)&&a(r,u,s),s.global)c?t[e]=r:i(e,r);else{try{s.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=r:o.f(t,e,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},50881:(t,e,r)=>{"use strict";var n=r(33120),o=r(47898),a=r(39130),i=r(6204),s=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in s||o(t,"flags")||!a(s,t)?e:n(i,t)}},50919:(t,e,r)=>{"use strict";var n=r(33120),o=r(35908),a=r(55431),i=TypeError;t.exports=function(t,e){var r,s;if("string"===e&&o(r=t.toString)&&!a(s=n(r,t)))return s;if(o(r=t.valueOf)&&!a(s=n(r,t)))return s;if("string"!==e&&o(r=t.toString)&&!a(s=n(r,t)))return s;throw new i("Can't convert object to primitive value")}},51031:(t,e,r)=>{"use strict";var n=r(46489),o=Math.floor,sort=function(t,e){var r=t.length;if(r<8)for(var a,i,s=1;s<r;){for(i=s,a=t[s];i&&e(t[i-1],a)>0;)t[i]=t[--i];i!==s++&&(t[i]=a)}else for(var c=o(r/2),u=sort(n(t,0,c),e),l=sort(n(t,c),e),f=u.length,h=l.length,p=0,d=0;p<f||d<h;)t[p+d]=p<f&&d<h?e(u[p],l[d])<=0?u[p++]:l[d++]:p<f?u[p++]:l[d++];return t};t.exports=sort},51670:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(15868),i=r(42251),s=r(93418).f,c=r(47898),u=r(98454),l=r(64590),f=r(20658),h=r(52215),p=r(50308),d=r(38789),y=r(76222),g="DOMException",v=a("Error"),m=a(g),$DOMException=function(){u(this,b);var t=arguments.length,e=f(t<1?void 0:arguments[0]),r=f(t<2?void 0:arguments[1],"Error"),n=new m(e,r),o=new v(e);return o.name=g,s(n,"stack",i(1,p(o.stack,1))),l(n,this,$DOMException),n},b=$DOMException.prototype=m.prototype,x="stack"in new v(g),w="stack"in new m(1,2),_=m&&d&&Object.getOwnPropertyDescriptor(o,g),E=!(!_||_.writable&&_.configurable),T=x&&!E&&!w;n({global:!0,constructor:!0,forced:y||T},{DOMException:T?$DOMException:m});var S=a(g),k=S.prototype;if(k.constructor!==S)for(var A in y||s(k,"constructor",i(1,S)),h)if(c(h,A)){var I=h[A],P=I.s;c(S,P)||s(S,P,i(6,I.c))}},51888:(t,e,r)=>{"use strict";var n=r(47493),o=r(15868),a=r(26402);n({target:"Reflect",stat:!0,sham:!r(1063)},{preventExtensions:function(t){a(t);try{var e=o("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},52215:t=>{"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},52273:(t,e,r)=>{"use strict";var n=r(47493),o=r(42101);n({target:"String",proto:!0,forced:r(21390)("link")},{link:function(t){return o(this,"a","href",t)}})},52701:(t,e,r)=>{"use strict";var n=r(87854),o=r(33120),a=r(49753),i=r(11259),s=r(34714),c=r(26402),u=r(35908),l=r(30470),f=r(67088),h=r(79203),p=r(8594),d=r(93645),y=r(15186),g=r(18985),v=r(89873),m=r(69017),b=r(30338)("replace"),x=Math.max,w=Math.min,_=a([].concat),E=a([].push),T=a("".indexOf),S=a("".slice),k="$0"==="a".replace(/./,"$0"),A=!!/./[b]&&""===/./[b]("a","$0");i("replace",(function(t,e,r){var a=A?"$":"$0";return[function(t,r){var n=d(this),a=l(t)?void 0:g(t,b);return a?o(a,t,n,r):o(e,p(n),t,r)},function(t,o){var i=c(this),s=p(t);if("string"==typeof o&&-1===T(o,a)&&-1===T(o,"$<")){var l=r(e,i,s,o);if(l.done)return l.value}var d=u(o);d||(o=p(o));var g,b=i.global;b&&(g=i.unicode,i.lastIndex=0);for(var k,A=[];1&&null!==(k=m(i,s))&&(E(A,k),b);){""===p(k[0])&&(i.lastIndex=y(s,h(i.lastIndex),g))}for(var I,P="",O=0,L=0;L<A.length;L++){for(var R,C=p((k=A[L])[0]),N=x(w(f(k.index),s.length),0),M=[],G=1;G<k.length;G++)E(M,void 0===(I=k[G])?I:String(I));var j=k.groups;if(d){var D=_([C],M,N,s);void 0!==j&&E(D,j),R=p(n(o,void 0,D))}else R=v(C,s,N,M,j,o);N>=O&&(P+=S(s,O,N)+R,O=N+C.length)}return P+S(s,O)}]}),!!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!k||A)},53129:(t,e,r)=>{"use strict";var n=r(35908),o=r(97822),a=TypeError;t.exports=function(t){if(n(t))return t;throw new a(o(t)+" is not a function")}},53625:(t,e,r)=>{"use strict";r(19346)("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}),!0)},53780:(t,e,r)=>{"use strict";var n=r(44117),o=r(33120),a=r(17289),i=r(85140),s=r(83509),c=r(3990),u=r(84554),l=r(16330),f=r(9520),h=r(70095).aTypedArrayConstructor,p=r(37709);t.exports=function(t){var e,r,d,y,g,v,m,b,x=a(this),w=i(t),_=arguments.length,E=_>1?arguments[1]:void 0,T=void 0!==E,S=u(w);if(S&&!l(S))for(b=(m=c(w,S)).next,w=[];!(v=o(b,m)).done;)w.push(v.value);for(T&&_>2&&(E=n(E,arguments[2])),r=s(w),d=new(h(x))(r),y=f(d),e=0;r>e;e++)g=T?E(w[e],e):w[e],d[e]=y?p(g):+g;return d}},53838:(t,e,r)=>{"use strict";var n=r(49753),o=r(79203),a=r(8594),i=r(55532),s=r(93645),c=n(i),u=n("".slice),l=Math.ceil,createMethod=function(t){return function(e,r,n){var i,f,h=a(s(e)),p=o(r),d=h.length,y=void 0===n?" ":a(n);return p<=d||""===y?h:((f=c(y,l((i=p-d)/y.length))).length>i&&(f=u(f,0,i)),t?h+f:f+h)}};t.exports={start:createMethod(!1),end:createMethod(!0)}},54002:(t,e,r)=>{"use strict";r(47493)({target:"String",proto:!0},{repeat:r(55532)})},54168:(t,e,r)=>{"use strict";var n=r(47493),o=r(76896);n({target:"Set",proto:!0,real:!0,forced:!r(58047)("isSupersetOf",(function(t){return!t}))},{isSupersetOf:o})},54185:(t,e,r)=>{"use strict";r(41233),r(4620)},54367:t=>{"use strict";var e=Math.log;t.exports=Math.log1p||function(t){var r=+t;return r>-1e-8&&r<1e-8?r-r*r/2:e(1+r)}},54488:(t,e,r)=>{"use strict";var n=r(55431),o=Math.floor;t.exports=Number.isInteger||function(t){return!n(t)&&isFinite(t)&&o(t)===t}},54535:(t,e,r)=>{"use strict";var n=r(47493),o=r(15868),a=r(34714),i=r(9021),s=r(8594),c=r(18405),u=o("URL"),l=c&&a((function(){u.canParse()})),f=a((function(){return 1!==u.canParse.length}));n({target:"URL",stat:!0,forced:!l||f},{canParse:function(t){var e=i(arguments.length,1),r=s(t),n=e<2||void 0===arguments[1]?void 0:s(arguments[1]);try{return!!new u(r,n)}catch(t){return!1}}})},54627:(t,e,r)=>{"use strict";var n=r(47493),o=r(34714),a=r(66823),i=r(55431),s=r(85140),c=r(83509),u=r(27114),l=r(33449),f=r(30598),h=r(93650),p=r(30338),d=r(91832),y=p("isConcatSpreadable"),g=d>=51||!o((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),isConcatSpreadable=function(t){if(!i(t))return!1;var e=t[y];return void 0!==e?!!e:a(t)};n({target:"Array",proto:!0,arity:1,forced:!g||!h("concat")},{concat:function(t){var e,r,n,o,a,i=s(this),h=f(i,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(isConcatSpreadable(a=-1===e?i:arguments[e]))for(o=c(a),u(p+o),r=0;r<o;r++,p++)r in a&&l(h,p,a[r]);else u(p+1),l(h,p++,a);return h.length=p,h}})},54947:(t,e,r)=>{"use strict";var n=r(47493),o=r(42101);n({target:"String",proto:!0,forced:r(21390)("blink")},{blink:function(){return o(this,"blink","","")}})},55071:(t,e,r)=>{"use strict";var n=r(34714),o=r(55431),a=r(8953),i=r(27669),s=Object.isExtensible,c=n((function(){s(1)}));t.exports=c||i?function(t){return!!o(t)&&((!i||"ArrayBuffer"!==a(t))&&(!s||s(t)))}:s},55168:(t,e,r)=>{"use strict";var n=r(83339),o=r(70095),a=r(9520),i=r(67088),s=r(37709),c=o.aTypedArray,u=o.getTypedArrayConstructor,l=o.exportTypedArrayMethod,f=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();l("with",{with:function(t,e){var r=c(this),o=i(t),l=a(r)?s(e):+e;return n(r,u(r),o,l)}}["with"],!f)},55431:(t,e,r)=>{"use strict";var n=r(35908);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},55450:(t,e,r)=>{"use strict";var n=r(11957),o=r(72349),a=r(84079),i=r(5977),s=r(48864),c=r(31042),u=r(30338)("iterator"),l=i.values,handlePrototype=function(t,e){if(t){if(t[u]!==l)try{s(t,u,l)}catch(e){t[u]=l}if(c(t,e,!0),o[e])for(var r in i)if(t[r]!==i[r])try{s(t,r,i[r])}catch(e){t[r]=i[r]}}};for(var f in o)handlePrototype(n[f]&&n[f].prototype,f);handlePrototype(a,"DOMTokenList")},55532:(t,e,r)=>{"use strict";var n=r(67088),o=r(8594),a=r(93645),i=RangeError;t.exports=function(t){var e=o(a(this)),r="",s=n(t);if(s<0||s===1/0)throw new i("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(r+=e);return r}},55577:(t,e,r)=>{"use strict";var n=r(47493),o=r(26402),a=r(3121),i=r(42170),s=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return a(i(o(this)),s,{that:t,IS_RECORD:!0}),t}})},55602:(t,e,r)=>{"use strict";var n=r(47493),o=r(87016),a=r(34714),i=r(42420),s=r(85140);n({target:"Object",stat:!0,forced:!o||a((function(){i.f(1)}))},{getOwnPropertySymbols:function(t){var e=i.f;return e?e(s(t)):[]}})},55640:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(67088),i=Date.prototype,s=o(i.getTime),c=o(i.setFullYear);n({target:"Date",proto:!0},{setYear:function(t){s(this);var e=a(t);return c(this,e>=0&&e<=99?e+1900:e)}})},55813:(t,e,r)=>{"use strict";r(47493)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},56287:(t,e,r)=>{"use strict";var n=r(93418).f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},56374:(t,e,r)=>{"use strict";var n=r(70095),o=r(42560).findIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0)}))},56416:(t,e,r)=>{"use strict";var n=r(61250),o=r(37689),a=n("keys");t.exports=function(t){return a[t]||(a[t]=o(t))}},56554:(t,e,r)=>{"use strict";var n=r(47493),o=r(38789),a=r(79662),i=r(53129),s=r(85140),c=r(93418);o&&n({target:"Object",proto:!0,forced:a},{__defineGetter__:function(t,e){c.f(s(this),t,{get:i(e),enumerable:!0,configurable:!0})}})},56668:(t,e,r)=>{"use strict";r(47493)({target:"Math",stat:!0},{log2:r(10298)})},56809:(t,e,r)=>{"use strict";r(47493)({target:"Math",stat:!0},{log1p:r(54367)})},56830:(t,e,r)=>{"use strict";var n=r(38789),o=r(34714),a=r(75118);t.exports=!n&&!o((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},56850:t=>{"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},57389:(t,e,r)=>{"use strict";var n=r(49753),o=r(50701),a=Date.prototype,i="Invalid Date",s="toString",c=n(a[s]),u=n(a.getTime);String(new Date(NaN))!==i&&o(a,s,(function(){var t=u(this);return t==t?c(this):i}))},57517:(t,e,r)=>{"use strict";var n=r(47493),o=r(38789),a=r(65432),i=r(95156),s=r(33264),c=r(33449);n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,r,n=i(t),o=s.f,u=a(n),l={},f=0;u.length>f;)void 0!==(r=o(n,e=u[f++]))&&c(l,e,r);return l}})},57762:(t,e,r)=>{"use strict";var n=r(30338);e.f=n},57788:(t,e,r)=>{"use strict";var n=r(47493),o=r(38789),a=r(93418).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!o},{defineProperty:a})},58047:(t,e,r)=>{"use strict";var n=r(15868),createSetLike=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},createSetLikeWithInfinitySize=function(t){return{size:t,has:function(){return!0},keys:function(){throw new Error("e")}}};t.exports=function(t,e){var r=n("Set");try{(new r)[t](createSetLike(0));try{return(new r)[t](createSetLike(-1)),!1}catch(n){if(!e)return!0;try{return(new r)[t](createSetLikeWithInfinitySize(-1/0)),!1}catch(n){var o=new r;return o.add(1),o.add(2),e(o[t](createSetLikeWithInfinitySize(1/0)))}}}catch(t){return!1}}},58275:(t,e,r)=>{"use strict";var n=r(47493),o=r(15868),a=r(76222),i=r(86781),s=r(65949).CONSTRUCTOR,c=r(95835),u=o("Promise"),l=a&&!s;n({target:"Promise",stat:!0,forced:a||s},{resolve:function(t){return c(l&&this===u?i:this,t)}})},58550:(t,e,r)=>{"use strict";var n,o,a,i,s,c=r(11957),u=r(71420),l=r(44117),f=r(1786).set,h=r(80240),p=r(12387),d=r(85728),y=r(97921),g=r(99196),v=c.MutationObserver||c.WebKitMutationObserver,m=c.document,b=c.process,x=c.Promise,w=u("queueMicrotask");if(!w){var _=new h,flush=function(){var t,e;for(g&&(t=b.domain)&&t.exit();e=_.get();)try{e()}catch(t){throw _.head&&n(),t}t&&t.enter()};p||g||y||!v||!m?!d&&x&&x.resolve?((i=x.resolve(void 0)).constructor=x,s=l(i.then,i),n=function(){s(flush)}):g?n=function(){b.nextTick(flush)}:(f=l(f,c),n=function(){f(flush)}):(o=!0,a=m.createTextNode(""),new v(flush).observe(a,{characterData:!0}),n=function(){a.data=o=!o}),w=function(t){_.head||n(),_.add(t)}}t.exports=w},58692:(t,e,r)=>{"use strict";r(48616),r(46538)},59073:(t,e,r)=>{"use strict";var n=r(23025),o=r(87981),a=r(63408),i=r(91598);t.exports=function(t){var e=n(this),r=i(t);return!(o(e)>r.size)&&!1!==a(e,(function(t){if(!r.includes(t))return!1}),!0)}},59479:(t,e,r)=>{"use strict";var n=r(34714);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},59989:(t,e,r)=>{"use strict";var n=r(47493),o=r(3121),a=r(53129),i=r(26402),s=r(42170);n({target:"Iterator",proto:!0,real:!0},{every:function(t){i(this),a(t);var e=s(this),r=0;return!o(e,(function(e,n){if(!t(e,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},60110:(t,e,r)=>{"use strict";r(9636)("species")},60361:(t,e,r)=>{"use strict";var n=r(92747),o=r(39138);t.exports=Object.keys||function(t){return n(t,o)}},60609:(t,e,r)=>{"use strict";var n=r(11957),o=r(35908),a=n.WeakMap;t.exports=o(a)&&/native code/.test(String(a))},61e3:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=Date,i=o(a.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return i(new a)}})},61250:(t,e,r)=>{"use strict";var n=r(30414);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},61286:(t,e,r)=>{"use strict";var n=r(47493),o=r(79134);n({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},61303:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(49753),i=r(35137),s=r(50701),c=r(78894),u=r(3121),l=r(98454),f=r(35908),h=r(30470),p=r(55431),d=r(34714),y=r(28363),g=r(31042),v=r(64590);t.exports=function(t,e,r){var m=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),x=m?"set":"add",w=o[t],_=w&&w.prototype,E=w,T={},fixMethod=function(t){var e=a(_[t]);s(_,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(b&&!p(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return b&&!p(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(b&&!p(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(i(t,!f(w)||!(b||_.forEach&&!d((function(){(new w).entries().next()})))))E=r.getConstructor(e,t,m,x),c.enable();else if(i(t,!0)){var S=new E,k=S[x](b?{}:-0,1)!==S,A=d((function(){S.has(1)})),I=y((function(t){new w(t)})),P=!b&&d((function(){for(var t=new w,e=5;e--;)t[x](e,e);return!t.has(-0)}));I||((E=e((function(t,e){l(t,_);var r=v(new w,t,E);return h(e)||u(e,r[x],{that:r,AS_ENTRIES:m}),r}))).prototype=_,_.constructor=E),(A||P)&&(fixMethod("delete"),fixMethod("has"),m&&fixMethod("get")),(P||k)&&fixMethod(x),b&&_.clear&&delete _.clear}return T[t]=E,n({global:!0,constructor:!0,forced:E!==w},T),g(E,t),b||r.setStrong(E,t,m),E}},61440:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(53129),i=r(68236),s=r(56850),c=r(3121);n({target:"Promise",stat:!0,forced:r(37548)},{all:function(t){var e=this,r=i.f(e),n=r.resolve,u=r.reject,l=s((function(){var r=a(e.resolve),i=[],s=0,l=1;c(t,(function(t){var a=s++,c=!1;l++,o(r,e,t).then((function(t){c||(c=!0,i[a]=t,--l||n(i))}),u)})),--l||n(i)}));return l.error&&u(l.value),r.promise}})},61589:(t,e,r)=>{"use strict";r(97815)},62317:(t,e,r)=>{"use strict";var n=r(47493),o=r(42560).map;n({target:"Array",proto:!0,forced:!r(93650)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},62389:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(49753),i=r(93645),s=r(8594),c=r(34714),u=Array,l=a("".charAt),f=a("".charCodeAt),h=a([].join),p="".toWellFormed,d="�",y=p&&c((function(){return"1"!==o(p,1)}));n({target:"String",proto:!0,forced:y},{toWellFormed:function(){var t=s(i(this));if(y)return o(p,t);for(var e=t.length,r=u(e),n=0;n<e;n++){var a=f(t,n);55296!=(63488&a)?r[n]=l(t,n):a>=56320||n+1>=e||56320!=(64512&f(t,n+1))?r[n]=d:(r[n]=l(t,n),r[++n]=l(t,n))}return h(r,"")}})},62728:(t,e,r)=>{"use strict";var n=r(47493),o=r(70095);n({target:"ArrayBuffer",stat:!0,forced:!o.NATIVE_ARRAY_BUFFER_VIEWS},{isView:o.isView})},62995:(t,e,r)=>{"use strict";var n=r(70095),o=r(42560).forEach,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(t){o(a(this),t,arguments.length>1?arguments[1]:void 0)}))},63037:(t,e,r)=>{"use strict";var n=r(53129),o=r(85140),a=r(14472),i=r(83509),s=TypeError,c="Reduce of empty array with no initial value",createMethod=function(t){return function(e,r,u,l){var f=o(e),h=a(f),p=i(f);if(n(r),0===p&&u<2)throw new s(c);var d=t?p-1:0,y=t?-1:1;if(u<2)for(;1;){if(d in h){l=h[d],d+=y;break}if(d+=y,t?d<0:p<=d)throw new s(c)}for(;t?d>=0:p>d;d+=y)d in h&&(l=r(l,h[d],d,f));return l}};t.exports={left:createMethod(!1),right:createMethod(!0)}},63408:(t,e,r)=>{"use strict";var n=r(49753),o=r(73168),a=r(74835),i=a.Set,s=a.proto,c=n(s.forEach),u=n(s.keys),l=u(new i).next;t.exports=function(t,e,r){return r?o({iterator:u(t),next:l},e):c(t,e)}},63477:(t,e,r)=>{"use strict";var n=r(11957);t.exports=function(t,e){var r=n[t],o=r&&r.prototype;return o&&o[e]}},63675:function(t,e){var r,n,o;!function(){if(1)n=[t],r=function(t){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)t.exports=globalThis.browser;else{const e="The message port closed before a response was received.",wrapAPIs=t=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class DefaultWeakMap extends WeakMap{constructor(t,e=void 0){super(e),this.createItem=t}get(t){return this.has(t)||this.set(t,this.createItem(t)),super.get(t)}}const isThenable=t=>t&&"object"==typeof t&&"function"==typeof t.then,makeCallback=(e,r)=>(...n)=>{t.runtime.lastError?e.reject(new Error(t.runtime.lastError.message)):r.singleCallbackArg||n.length<=1&&!1!==r.singleCallbackArg?e.resolve(n[0]):e.resolve(n)},pluralizeArguments=t=>1==t?"argument":"arguments",wrapAsyncFunction=(t,e)=>function(r,...n){if(n.length<e.minArgs)throw new Error(`Expected at least ${e.minArgs} ${pluralizeArguments(e.minArgs)} for ${t}(), got ${n.length}`);if(n.length>e.maxArgs)throw new Error(`Expected at most ${e.maxArgs} ${pluralizeArguments(e.maxArgs)} for ${t}(), got ${n.length}`);return new Promise(((o,a)=>{if(e.fallbackToNoCallback)try{r[t](...n,makeCallback({resolve:o,reject:a},e))}catch(a){console.warn(`${t} API method doesn't seem to support the callback parameter, `+"falling back to call it without a callback: ",a),r[t](...n),e.fallbackToNoCallback=!1,e.noCallback=!0,o()}else e.noCallback?(r[t](...n),o()):r[t](...n,makeCallback({resolve:o,reject:a},e))}))},wrapMethod=(t,e,r)=>new Proxy(e,{apply:(e,n,o)=>r.call(n,t,...o)});let n=Function.call.bind(Object.prototype.hasOwnProperty);const wrapObject=(t,e={},r={})=>{let o=Object.create(null),a={has:(e,r)=>r in t||r in o,get(a,i,s){if(i in o)return o[i];if(!(i in t))return;let c=t[i];if("function"==typeof c)if("function"==typeof e[i])c=wrapMethod(t,t[i],e[i]);else if(n(r,i)){let e=wrapAsyncFunction(i,r[i]);c=wrapMethod(t,t[i],e)}else c=c.bind(t);else if("object"==typeof c&&null!==c&&(n(e,i)||n(r,i)))c=wrapObject(c,e[i],r[i]);else{if(!n(r,"*"))return Object.defineProperty(o,i,{configurable:!0,enumerable:!0,get:()=>t[i],set(e){t[i]=e}}),c;c=wrapObject(c,e[i],r["*"])}return o[i]=c,c},set:(e,r,n,a)=>(r in o?o[r]=n:t[r]=n,!0),defineProperty:(t,e,r)=>Reflect.defineProperty(o,e,r),deleteProperty:(t,e)=>Reflect.deleteProperty(o,e)},i=Object.create(t);return new Proxy(i,a)},wrapEvent=t=>({addListener(e,r,...n){e.addListener(t.get(r),...n)},hasListener:(e,r)=>e.hasListener(t.get(r)),removeListener(e,r){e.removeListener(t.get(r))}}),o=new DefaultWeakMap((t=>"function"!=typeof t?t:function(e){const r=wrapObject(e,{},{getContent:{minArgs:0,maxArgs:0}});t(r)})),a=new DefaultWeakMap((t=>"function"!=typeof t?t:function(e,r,n){let o,a,i=!1,s=new Promise((t=>{o=function(e){i=!0,t(e)}}));try{a=t(e,r,o)}catch(t){a=Promise.reject(t)}const c=!0!==a&&isThenable(a);if(!0!==a&&!c&&!i)return!1;const sendPromisedResult=t=>{t.then((t=>{n(t)}),(t=>{let e;e=t&&(t instanceof Error||"string"==typeof t.message)?t.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:e})})).catch((t=>{console.error("Failed to send onMessage rejected reply",t)}))};return sendPromisedResult(c?a:s),!0})),wrappedSendMessageCallback=({reject:r,resolve:n},o)=>{t.runtime.lastError?t.runtime.lastError.message===e?n():r(new Error(t.runtime.lastError.message)):o&&o.__mozWebExtensionPolyfillReject__?r(new Error(o.message)):n(o)},wrappedSendMessage=(t,e,r,...n)=>{if(n.length<e.minArgs)throw new Error(`Expected at least ${e.minArgs} ${pluralizeArguments(e.minArgs)} for ${t}(), got ${n.length}`);if(n.length>e.maxArgs)throw new Error(`Expected at most ${e.maxArgs} ${pluralizeArguments(e.maxArgs)} for ${t}(), got ${n.length}`);return new Promise(((t,e)=>{const o=wrappedSendMessageCallback.bind(null,{resolve:t,reject:e});n.push(o),r.sendMessage(...n)}))},i={devtools:{network:{onRequestFinished:wrapEvent(o)}},runtime:{onMessage:wrapEvent(a),onMessageExternal:wrapEvent(a),sendMessage:wrappedSendMessage.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:wrappedSendMessage.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},s={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":s},services:{"*":s},websites:{"*":s}},wrapObject(t,i,r)};t.exports=wrapAPIs(chrome)}},void 0===(o="function"==typeof r?r.apply(e,n):r)||(t.exports=o);else;}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self)},63788:(t,e,r)=>{"use strict";var n=r(11957),o=r(34714),a=r(49753),i=r(8594),s=r(47227).trim,c=r(23121),u=n.parseInt,l=n.Symbol,f=l&&l.iterator,h=/^[+-]?0x/i,p=a(h.exec),d=8!==u(c+"08")||22!==u(c+"0x16")||f&&!o((function(){u(Object(f))}));t.exports=d?function(t,e){var r=s(i(t));return u(r,e>>>0||(p(h,r)?16:10))}:u},64357:(t,e,r)=>{"use strict";var n=r(47493),o=r(63037).left,a=r(68397),i=r(91832);n({target:"Array",proto:!0,forced:!r(99196)&&i>79&&i<83||!a("reduce")},{reduce:function(t){var e=arguments.length;return o(this,t,e,e>1?arguments[1]:void 0)}})},64590:(t,e,r)=>{"use strict";var n=r(35908),o=r(55431),a=r(69878);t.exports=function(t,e,r){var i,s;return a&&n(i=e.constructor)&&i!==r&&o(s=i.prototype)&&s!==r.prototype&&a(t,s),t}},65432:(t,e,r)=>{"use strict";var n=r(15868),o=r(49753),a=r(29445),i=r(42420),s=r(26402),c=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=a.f(s(t)),r=i.f;return r?c(e,r(t)):e}},65496:(t,e,r)=>{"use strict";var n=r(15868),o=r(35908),a=r(39130),i=r(21721),s=Object;t.exports=i?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return o(e)&&a(e.prototype,s(t))}},65612:(t,e,r)=>{"use strict";var n=r(47493),o=r(54367),a=Math.acosh,i=Math.log,s=Math.sqrt,c=Math.LN2;n({target:"Math",stat:!0,forced:!a||710!==Math.floor(a(Number.MAX_VALUE))||a(1/0)!==1/0},{acosh:function(t){var e=+t;return e<1?NaN:e>94906265.62425156?i(e)+c:o(e-1+s(e-1)*s(e+1))}})},65675:(t,e,r)=>{"use strict";var n=r(47493),o=r(68949);o&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return o(this,arguments.length?arguments[0]:void 0,!1)}})},65750:(t,e,r)=>{"use strict";var n=r(11957),o=r(99196);t.exports=function(t){if(o){try{return n.process.getBuiltinModule(t)}catch(t){}try{return Function('return require("'+t+'")')()}catch(t){}}}},65896:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(77147),i=RangeError,s=String.fromCharCode,c=String.fromCodePoint,u=o([].join);n({target:"String",stat:!0,arity:1,forced:!!c&&1!==c.length},{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,o=0;n>o;){if(e=+arguments[o++],a(e,1114111)!==e)throw new i(e+" is not a valid code point");r[o]=e<65536?s(e):s(((e-=65536)>>10)+55296,e%1024+56320)}return u(r,"")}})},65949:(t,e,r)=>{"use strict";var n=r(11957),o=r(86781),a=r(35908),i=r(35137),s=r(35517),c=r(30338),u=r(10862),l=r(76222),f=r(91832),h=o&&o.prototype,p=c("species"),d=!1,y=a(n.PromiseRejectionEvent),g=i("Promise",(function(){var t=s(o),e=t!==String(o);if(!e&&66===f)return!0;if(l&&(!h["catch"]||!h["finally"]))return!0;if(!f||f<51||!/native code/.test(t)){var r=new o((function(t){t(1)})),FakePromise=function(t){t((function(){}),(function(){}))};if((r.constructor={})[p]=FakePromise,!(d=r.then((function(){}))instanceof FakePromise))return!0}return!(e||"BROWSER"!==u&&"DENO"!==u||y)}));t.exports={CONSTRUCTOR:g,REJECTION_EVENT:y,SUBCLASSING:d}},66526:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(53129),i=r(68236),s=r(56850),c=r(3121);n({target:"Promise",stat:!0,forced:r(37548)},{race:function(t){var e=this,r=i.f(e),n=r.reject,u=s((function(){var i=a(e.resolve);c(t,(function(t){o(i,e,t).then(r.resolve,n)}))}));return u.error&&n(u.value),r.promise}})},66645:(t,e,r)=>{"use strict";r(97143)},66772:(t,e,r)=>{"use strict";var n=r(11957),o=r(34714),a=r(28363),i=r(70095).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,c=n.Int8Array;t.exports=!i||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!a((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||o((function(){return 1!==new c(new s(2),1,void 0).length}))},66823:(t,e,r)=>{"use strict";var n=r(8953);t.exports=Array.isArray||function(t){return"Array"===n(t)}},66916:(t,e,r)=>{"use strict";var n=r(42560).forEach,o=r(68397)("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},67057:(t,e,r)=>{"use strict";var n=r(26402),o=r(50919),a=TypeError;t.exports=function(t){if(n(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new a("Incorrect hint");return o(this,t)}},67078:(t,e,r)=>{"use strict";var n=r(47493),o=r(34714),a=r(95156),i=r(33264).f,s=r(38789);n({target:"Object",stat:!0,forced:!s||o((function(){i(1)})),sham:!s},{getOwnPropertyDescriptor:function(t,e){return i(a(t),e)}})},67082:(t,e,r)=>{"use strict";r(47493)({target:"Object",stat:!0},{hasOwn:r(47898)})},67088:(t,e,r)=>{"use strict";var n=r(24518);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},67228:(t,e,r)=>{"use strict";r(28226)},67457:(t,e,r)=>{"use strict";var n=r(47493),o=r(30876).codeAt;n({target:"String",proto:!0},{codePointAt:function(t){return o(this,t)}})},68236:(t,e,r)=>{"use strict";var n=r(53129),o=TypeError,PromiseCapability=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw new o("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new PromiseCapability(t)}},68318:(t,e,r)=>{"use strict";r(79720),r(39707),r(74461),r(31743),r(55602)},68397:(t,e,r)=>{"use strict";var n=r(34714);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){return 1},1)}))}},68744:(t,e,r)=>{"use strict";var n=r(47493),o=r(1063),a=r(34714),i=r(55431),s=r(78894).onFreeze,c=Object.freeze;n({target:"Object",stat:!0,forced:a((function(){c(1)})),sham:!o},{freeze:function(t){return c&&i(t)?c(s(t)):t}})},68924:(t,e,r)=>{"use strict";var n=r(47493),o=r(38789),a=r(75638).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!o},{defineProperties:a})},68949:(t,e,r)=>{"use strict";var n=r(11957),o=r(49753),a=r(78057),i=r(30555),s=r(44108),c=r(35289),u=r(28922),l=r(4571),f=n.structuredClone,h=n.ArrayBuffer,p=n.DataView,d=Math.min,y=h.prototype,g=p.prototype,v=o(y.slice),m=a(y,"resizable","get"),b=a(y,"maxByteLength","get"),x=o(g.getInt8),w=o(g.setInt8);t.exports=(l||u)&&function(t,e,r){var n,o=c(t),a=void 0===e?o:i(e),y=!m||!m(t);if(s(t),l&&(t=f(t,{transfer:[t]}),o===a&&(r||y)))return t;if(o>=a&&(!r||y))n=v(t,0,a);else{var g=r&&!y&&b?{maxByteLength:b(t)}:void 0;n=new h(a,g);for(var _=new p(t),E=new p(n),T=d(a,o),S=0;S<T;S++)w(E,S,x(_,S))}return l||u(t),n}},69017:(t,e,r)=>{"use strict";var n=r(33120),o=r(26402),a=r(35908),i=r(8953),s=r(88118),c=TypeError;t.exports=function(t,e){var r=t.exec;if(a(r)){var u=n(r,t,e);return null!==u&&o(u),u}if("RegExp"===i(t))return n(s,t,e);throw new c("RegExp#exec called on incompatible receiver")}},69411:(t,e,r)=>{"use strict";var n=r(47493),o=r(32250),a=r(27114),i=r(83509),s=r(77147),c=r(95156),u=r(67088),l=Array,f=Math.max,h=Math.min;n({target:"Array",proto:!0},{toSpliced:function(t,e){var r,n,o,p,d=c(this),y=i(d),g=s(t,y),v=arguments.length,m=0;for(0===v?r=n=0:1===v?(r=0,n=y-g):(r=v-2,n=h(f(u(e),0),y-g)),o=a(y+r-n),p=l(o);m<g;m++)p[m]=d[m];for(;m<g+r;m++)p[m]=arguments[m-g+2];for(;m<o;m++)p[m]=d[m+n-r];return p}}),o("toSpliced")},69483:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(14472),i=r(95156),s=r(68397),c=o([].join);n({target:"Array",proto:!0,forced:a!==Object||!s("join",",")},{join:function(t){return c(i(this),void 0===t?",":t)}})},69878:(t,e,r)=>{"use strict";var n=r(78057),o=r(55431),a=r(93645),i=r(5697);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return a(r),i(n),o(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},70095:(t,e,r)=>{"use strict";var n,o,a,i=r(17412),s=r(38789),c=r(11957),u=r(35908),l=r(55431),f=r(47898),h=r(33382),p=r(97822),d=r(48864),y=r(50701),g=r(37869),v=r(39130),m=r(47746),b=r(69878),x=r(30338),w=r(37689),_=r(470),E=_.enforce,T=_.get,S=c.Int8Array,k=S&&S.prototype,A=c.Uint8ClampedArray,I=A&&A.prototype,P=S&&m(S),O=k&&m(k),L=Object.prototype,R=c.TypeError,C=x("toStringTag"),N=w("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",G=i&&!!b&&"Opera"!==h(c.opera),j=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},H={BigInt64Array:8,BigUint64Array:8},getTypedArrayConstructor=function(t){var e=m(t);if(l(e)){var r=T(e);return r&&f(r,M)?r[M]:getTypedArrayConstructor(e)}},isTypedArray=function(t){if(!l(t))return!1;var e=h(t);return f(D,e)||f(H,e)};for(n in D)(a=(o=c[n])&&o.prototype)?E(a)[M]=o:G=!1;for(n in H)(a=(o=c[n])&&o.prototype)&&(E(a)[M]=o);if((!G||!u(P)||P===Function.prototype)&&(P=function(){throw new R("Incorrect invocation")},G))for(n in D)c[n]&&b(c[n],P);if((!G||!O||O===L)&&(O=P.prototype,G))for(n in D)c[n]&&b(c[n].prototype,O);if(G&&m(I)!==O&&b(I,O),s&&!f(O,C))for(n in j=!0,g(O,C,{configurable:!0,get:function(){return l(this)?this[N]:void 0}}),D)c[n]&&d(c[n],N,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:G,TYPED_ARRAY_TAG:j&&N,aTypedArray:function(t){if(isTypedArray(t))return t;throw new R("Target is not a typed array")},aTypedArrayConstructor:function(t){if(u(t)&&(!b||v(P,t)))return t;throw new R(p(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(s){if(r)for(var o in D){var a=c[o];if(a&&f(a.prototype,t))try{delete a.prototype[t]}catch(r){try{a.prototype[t]=e}catch(t){}}}O[t]&&!r||y(O,t,r?e:G&&k[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,o;if(s){if(b){if(r)for(n in D)if((o=c[n])&&f(o,t))try{delete o[t]}catch(t){}if(P[t]&&!r)return;try{return y(P,t,r?e:G&&P[t]||e)}catch(t){}}for(n in D)!(o=c[n])||o[t]&&!r||y(o,t,e)}},getTypedArrayConstructor,isView:function(t){if(!l(t))return!1;var e=h(t);return"DataView"===e||f(D,e)||f(H,e)},isTypedArray,TypedArray:P,TypedArrayPrototype:O}},70226:(t,e,r)=>{"use strict";var n=r(47493),o=r(85140),a=r(83509),i=r(67088),s=r(32250);n({target:"Array",proto:!0},{at:function(t){var e=o(this),r=a(e),n=i(t),s=n>=0?n:r+n;return s<0||s>=r?void 0:e[s]}}),s("at")},70321:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(26402),i=r(42170),s=r(33680),c=r(71347),u=r(13539),l=r(76222),f=u((function(){for(var t,e=this.iterator,r=this.next;this.remaining;)if(this.remaining--,t=a(o(r,e)),this.done=!!t.done)return;if(t=a(o(r,e)),!(this.done=!!t.done))return t.value}));n({target:"Iterator",proto:!0,real:!0,forced:l},{drop:function(t){a(this);var e=c(s(+t));return new f(i(this),{remaining:e})}})},70421:(t,e,r)=>{"use strict";var n=r(11957),o=r(38789),a=r(37869),i=r(6204),s=r(34714),c=n.RegExp,u=c.prototype;o&&s((function(){var t=!0;try{c(".","d")}catch(e){t=!1}var e={},r="",n=t?"dgimsy":"gimsy",addGetter=function(t,n){Object.defineProperty(e,t,{get:function(){return r+=n,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in t&&(o.hasIndices="d"),o)addGetter(a,o[a]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(e)!==n||r!==n}))&&a(u,"flags",{configurable:!0,get:i})},70445:(t,e,r)=>{"use strict";var n=r(8953),o=r(95156),a=r(29445).f,i=r(46489),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"===n(t)?function(t){try{return a(t)}catch(t){return i(s)}}(t):a(o(t))}},70633:(t,e,r)=>{"use strict";var n=r(47493),o=r(53838).start;n({target:"String",proto:!0,forced:r(42790)},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},70730:(t,e,r)=>{"use strict";var n=r(33120),o=r(55431),a=r(65496),i=r(18985),s=r(50919),c=r(30338),u=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var r,c=i(t,l);if(c){if(void 0===e&&(e="default"),r=n(c,t,e),!o(r)||a(r))return r;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},71115:(t,e,r)=>{"use strict";var n=r(47493),o=r(42101);n({target:"String",proto:!0,forced:r(21390)("strike")},{strike:function(){return o(this,"strike","","")}})},71139:(t,e,r)=>{"use strict";var n,o=r(1063),a=r(11957),i=r(49753),s=r(46376),c=r(78894),u=r(61303),l=r(91424),f=r(55431),h=r(470).enforce,p=r(34714),d=r(60609),y=Object,g=Array.isArray,v=y.isExtensible,m=y.isFrozen,b=y.isSealed,x=y.freeze,w=y.seal,_=!a.ActiveXObject&&"ActiveXObject"in a,wrapper=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},E=u("WeakMap",wrapper,l),T=E.prototype,S=i(T.set);if(d)if(_){n=l.getConstructor(wrapper,"WeakMap",!0),c.enable();var k=i(T["delete"]),A=i(T.has),I=i(T.get);s(T,{delete:function(t){if(f(t)&&!v(t)){var e=h(this);return e.frozen||(e.frozen=new n),k(this,t)||e.frozen["delete"](t)}return k(this,t)},has:function(t){if(f(t)&&!v(t)){var e=h(this);return e.frozen||(e.frozen=new n),A(this,t)||e.frozen.has(t)}return A(this,t)},get:function(t){if(f(t)&&!v(t)){var e=h(this);return e.frozen||(e.frozen=new n),A(this,t)?I(this,t):e.frozen.get(t)}return I(this,t)},set:function(t,e){if(f(t)&&!v(t)){var r=h(this);r.frozen||(r.frozen=new n),A(this,t)?S(this,t,e):r.frozen.set(t,e)}else S(this,t,e);return this}})}else o&&p((function(){var t=x([]);return S(new E,t,1),!m(t)}))&&s(T,{set:function(t,e){var r;return g(t)&&(m(t)?r=x:b(t)&&(r=w)),S(this,t,e),r&&r(t),this}})},71192:(t,e,r)=>{"use strict";var n=r(66823),o=r(83509),a=r(27114),i=r(44117),flattenIntoArray=function(t,e,r,s,c,u,l,f){for(var h,p,d=c,y=0,g=!!l&&i(l,f);y<s;)y in r&&(h=g?g(r[y],y,e):r[y],u>0&&n(h)?(p=o(h),d=flattenIntoArray(t,e,h,p,d,u-1)-1):(a(d+1),t[d]=h),d++),y++;return d};t.exports=flattenIntoArray},71290:(t,e,r)=>{"use strict";var n=r(47493),o=r(42101);n({target:"String",proto:!0,forced:r(21390)("bold")},{bold:function(){return o(this,"b","","")}})},71347:(t,e,r)=>{"use strict";var n=r(67088),o=RangeError;t.exports=function(t){var e=n(t);if(e<0)throw new o("The argument can't be less than 0");return e}},71420:(t,e,r)=>{"use strict";var n=r(11957),o=r(38789),a=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!o)return n[t];var e=a(n,t);return e&&e.value}},71586:(t,e,r)=>{"use strict";r(47493)({target:"Math",stat:!0},{fround:r(85836)})},71755:(t,e,r)=>{"use strict";var n=r(47493),o=r(34714),a=Math.imul;n({target:"Math",stat:!0,forced:o((function(){return-5!==a(4294967295,5)||2!==a.length}))},{imul:function(t,e){var r=65535,n=+t,o=+e,a=r&n,i=r&o;return 0|a*i+((r&n>>>16)*i+a*(r&o>>>16)<<16>>>0)}})},71989:(t,e,r)=>{"use strict";var n=r(70095),o=r(63037).right,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(t){var e=arguments.length;return o(a(this),t,e,e>1?arguments[1]:void 0)}))},72349:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},72421:t=>{"use strict";t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},72887:(t,e,r)=>{"use strict";var n=r(47493),o=r(63788);n({global:!0,forced:parseInt!==o},{parseInt:o})},73119:t=>{"use strict";var e=Math.log,r=Math.LOG10E;t.exports=Math.log10||function(t){return e(t)*r}},73168:(t,e,r)=>{"use strict";var n=r(33120);t.exports=function(t,e,r){for(var o,a,i=r?t:t.iterator,s=t.next;!(o=n(s,i)).done;)if(void 0!==(a=e(o.value)))return a}},73257:(t,e,r)=>{"use strict";var n=r(47493),o=r(42101);n({target:"String",proto:!0,forced:r(21390)("fontcolor")},{fontcolor:function(t){return o(this,"font","color",t)}})},74461:(t,e,r)=>{"use strict";var n=r(47493),o=r(47898),a=r(65496),i=r(97822),s=r(61250),c=r(25113),u=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{keyFor:function(t){if(!a(t))throw new TypeError(i(t)+" is not a symbol");if(o(u,t))return u[t]}})},74520:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},74652:(t,e,r)=>{"use strict";var n=r(47493),o=r(38243),a=r(34714),i=r(25249),s=r(26402),c=r(77147),u=r(79203),l=i.ArrayBuffer,f=i.DataView,h=f.prototype,p=o(l.prototype.slice),d=o(h.getUint8),y=o(h.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new l(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(p&&void 0===e)return p(s(this),t);for(var r=s(this).byteLength,n=c(t,r),o=c(void 0===e?r:e,r),a=new l(u(o-n)),i=new f(this),h=new f(a),g=0;n<o;)y(h,g++,d(i,n++));return a}})},74753:(t,e,r)=>{"use strict";var n=r(97822),o=TypeError;t.exports=function(t,e){if(!delete t[e])throw new o("Cannot delete property "+n(e)+" of "+n(t))}},74835:(t,e,r)=>{"use strict";var n=r(49753),o=Set.prototype;t.exports={Set,add:n(o.add),has:n(o.has),remove:n(o["delete"]),proto:o}},75118:(t,e,r)=>{"use strict";var n=r(11957),o=r(55431),a=n.document,i=o(a)&&o(a.createElement);t.exports=function(t){return i?a.createElement(t):{}}},75638:(t,e,r)=>{"use strict";var n=r(38789),o=r(44971),a=r(93418),i=r(26402),s=r(95156),c=r(60361);e.f=n&&!o?Object.defineProperties:function(t,e){i(t);for(var r,n=s(e),o=c(e),u=o.length,l=0;u>l;)a.f(t,r=o[l++],n[r]);return t}},75773:(t,e,r)=>{"use strict";var n=r(47493),o=r(38789),a=r(79662),i=r(85140),s=r(92512),c=r(47746),u=r(33264).f;o&&n({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(t){var e,r=i(this),n=s(t);do{if(e=u(r,n))return e.set}while(r=c(r))}})},76222:t=>{"use strict";t.exports=!1},76597:t=>{"use strict";var e=Math.expm1,r=Math.exp;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!==e(-2e-17)?function(t){var e=+t;return 0===e?e:e>-1e-6&&e<1e-6?e+e*e/2:r(e)-1}:e},76655:(t,e,r)=>{"use strict";var n=r(83509);t.exports=function(t,e,r){for(var o=0,a=arguments.length>2?r:n(e),i=new t(a);a>o;)i[o]=e[o++];return i}},76896:(t,e,r)=>{"use strict";var n=r(23025),o=r(74835).has,a=r(87981),i=r(91598),s=r(73168),c=r(4700);t.exports=function(t){var e=n(this),r=i(t);if(a(e)<r.size)return!1;var u=r.getIterator();return!1!==s(u,(function(t){if(!o(e,t))return c(u,"normal",!1)}))}},77102:(t,e,r)=>{"use strict";var n=r(17033),o=r(50701),a=r(36716);n||o(Object.prototype,"toString",a,{unsafe:!0})},77147:(t,e,r)=>{"use strict";var n=r(67088),o=Math.max,a=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):a(r,e)}},78057:(t,e,r)=>{"use strict";var n=r(49753),o=r(53129);t.exports=function(t,e,r){try{return n(o(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},78177:(t,e,r)=>{"use strict";var n=r(55431),o=r(8953),a=r(30338)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"===o(t))}},78244:(t,e,r)=>{"use strict";var n=r(47493),o=r(42560).every;n({target:"Array",proto:!0,forced:!r(68397)("every")},{every:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},78337:(t,e,r)=>{"use strict";var n=r(47493),o=r(38789),a=r(79662),i=r(85140),s=r(92512),c=r(47746),u=r(33264).f;o&&n({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(t){var e,r=i(this),n=s(t);do{if(e=u(r,n))return e.get}while(r=c(r))}})},78549:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(53129),i=r(93645),s=r(3121),c=r(80181),u=r(76222),l=r(34714),f=c.Map,h=c.has,p=c.get,d=c.set,y=o([].push),g=u||l((function(){return 1!==f.groupBy("ab",(function(t){return t})).get("a").length}));n({target:"Map",stat:!0,forced:u||g},{groupBy:function(t,e){i(t),a(e);var r=new f,n=0;return s(t,(function(t){var o=e(t,n++);h(r,o)?y(p(r,o),t):d(r,o,[t])})),r}})},78586:(t,e,r)=>{"use strict";var n=r(38789),o=r(37869),a=r(49837),i=ArrayBuffer.prototype;n&&!("detached"in i)&&o(i,"detached",{configurable:!0,get:function(){return a(this)}})},78600:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(53129),i=r(68236),s=r(56850),c=r(3121);n({target:"Promise",stat:!0,forced:r(37548)},{allSettled:function(t){var e=this,r=i.f(e),n=r.resolve,u=r.reject,l=s((function(){var r=a(e.resolve),i=[],s=0,u=1;c(t,(function(t){var a=s++,c=!1;u++,o(r,e,t).then((function(t){c||(c=!0,i[a]={status:"fulfilled",value:t},--u||n(i))}),(function(t){c||(c=!0,i[a]={status:"rejected",reason:t},--u||n(i))}))})),--u||n(i)}));return l.error&&u(l.value),r.promise}})},78836:(t,e,r)=>{"use strict";var n=r(70095),o=r(42560).some,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0)}))},78894:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(26476),i=r(55431),s=r(47898),c=r(93418).f,u=r(29445),l=r(70445),f=r(55071),h=r(37689),p=r(1063),d=!1,y=h("meta"),g=0,setMetadata=function(t){c(t,y,{value:{objectID:"O"+g++,weakData:{}}})},v=t.exports={enable:function(){v.enable=function(){},d=!0;var t=u.f,e=o([].splice),r={};r[y]=1,t(r).length&&(u.f=function(r){for(var n=t(r),o=0,a=n.length;o<a;o++)if(n[o]===y){e(n,o,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,y)){if(!f(t))return"F";if(!e)return"E";setMetadata(t)}return t[y].objectID},getWeakData:function(t,e){if(!s(t,y)){if(!f(t))return!0;if(!e)return!1;setMetadata(t)}return t[y].weakData},onFreeze:function(t){return p&&d&&f(t)&&!s(t,y)&&setMetadata(t),t}};a[y]=!0},79134:(t,e,r)=>{"use strict";var n=r(87854),o=r(95156),a=r(67088),i=r(83509),s=r(68397),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),h=l||!f;t.exports=h?function(t){if(l)return n(u,this,arguments)||0;var e=o(this),r=i(e);if(0===r)return-1;var s=r-1;for(arguments.length>1&&(s=c(s,a(arguments[1]))),s<0&&(s=r+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:u},79166:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(38243),i=r(32927),s=r(74520),c=r(93645),u=r(79203),l=r(8594),f=r(26402),h=r(30470),p=r(8953),d=r(78177),y=r(50881),g=r(18985),v=r(50701),m=r(34714),b=r(30338),x=r(95588),w=r(15186),_=r(69017),E=r(470),T=r(76222),S=b("matchAll"),k="RegExp String",A=k+" Iterator",I=E.set,P=E.getterFor(A),O=RegExp.prototype,L=TypeError,R=a("".indexOf),C=a("".matchAll),N=!!C&&!m((function(){C("a",/./)})),M=i((function(t,e,r,n){I(this,{type:A,regexp:t,string:e,global:r,unicode:n,done:!1})}),k,(function(){var t=P(this);if(t.done)return s(void 0,!0);var e=t.regexp,r=t.string,n=_(e,r);return null===n?(t.done=!0,s(void 0,!0)):t.global?(""===l(n[0])&&(e.lastIndex=w(r,u(e.lastIndex),t.unicode)),s(n,!1)):(t.done=!0,s(n,!1))})),$matchAll=function(t){var e,r,n,o=f(this),a=l(t),i=x(o,RegExp),s=l(y(o));return e=new i(i===RegExp?o.source:o,s),r=!!~R(s,"g"),n=!!~R(s,"u"),e.lastIndex=u(o.lastIndex),new M(e,a,r,n)};n({target:"String",proto:!0,forced:N},{matchAll:function(t){var e,r,n,a,i=c(this);if(h(t)){if(N)return C(i,t)}else{if(d(t)&&(e=l(c(y(t))),!~R(e,"g")))throw new L("`.matchAll` does not allow non-global regexes");if(N)return C(i,t);if(void 0===(n=g(t,S))&&T&&"RegExp"===p(t)&&(n=$matchAll),n)return o(n,t,i)}return r=l(i),a=new RegExp(t,"g"),T?o($matchAll,a,r):a[S](r)}}),T||S in O||v(O,S,$matchAll)},79203:(t,e,r)=>{"use strict";var n=r(67088),o=Math.min;t.exports=function(t){var e=n(t);return e>0?o(e,9007199254740991):0}},79489:(t,e,r)=>{"use strict";var n=r(47493),o=r(37931);n({target:"Set",proto:!0,real:!0,forced:!r(58047)("difference",(function(t){return 0===t.size}))},{difference:o})},79496:(t,e,r)=>{"use strict";r(9636)("iterator")},79662:(t,e,r)=>{"use strict";var n=r(76222),o=r(11957),a=r(34714),i=r(40100);t.exports=n||!a((function(){if(!(i&&i<535)){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete o[t]}}))},79678:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(53129),i=r(95156),s=r(76655),c=r(63477),u=r(32250),l=Array,f=o(c("Array","sort"));n({target:"Array",proto:!0},{toSorted:function(t){void 0!==t&&a(t);var e=i(this),r=s(l,e);return f(r,t)}}),u("toSorted")},79720:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(33120),i=r(49753),s=r(76222),c=r(38789),u=r(87016),l=r(34714),f=r(47898),h=r(39130),p=r(26402),d=r(95156),y=r(92512),g=r(8594),v=r(42251),m=r(79969),b=r(60361),x=r(29445),w=r(70445),_=r(42420),E=r(33264),T=r(93418),S=r(75638),k=r(85512),A=r(50701),I=r(37869),P=r(61250),O=r(56416),L=r(26476),R=r(37689),C=r(30338),N=r(57762),M=r(9636),G=r(45085),j=r(31042),D=r(470),H=r(42560).forEach,U=O("hidden"),W="Symbol",B="prototype",z=D.set,Y=D.getterFor(W),$=Object[B],V=o.Symbol,X=V&&V[B],q=o.RangeError,K=o.TypeError,J=o.QObject,Z=E.f,Q=T.f,tt=w.f,et=k.f,rt=i([].push),nt=P("symbols"),ot=P("op-symbols"),at=P("wks"),it=!J||!J[B]||!J[B].findChild,fallbackDefineProperty=function(t,e,r){var n=Z($,e);n&&delete $[e],Q(t,e,r),n&&t!==$&&Q($,e,n)},st=c&&l((function(){return 7!==m(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?fallbackDefineProperty:Q,wrap=function(t,e){var r=nt[t]=m(X);return z(r,{type:W,tag:t,description:e}),c||(r.description=e),r},$defineProperty=function(t,e,r){t===$&&$defineProperty(ot,e,r),p(t);var n=y(e);return p(r),f(nt,n)?(r.enumerable?(f(t,U)&&t[U][n]&&(t[U][n]=!1),r=m(r,{enumerable:v(0,!1)})):(f(t,U)||Q(t,U,v(1,m(null))),t[U][n]=!0),st(t,n,r)):Q(t,n,r)},$defineProperties=function(t,e){p(t);var r=d(e),n=b(r).concat($getOwnPropertySymbols(r));return H(n,(function(e){c&&!a($propertyIsEnumerable,r,e)||$defineProperty(t,e,r[e])})),t},$propertyIsEnumerable=function(t){var e=y(t),r=a(et,this,e);return!(this===$&&f(nt,e)&&!f(ot,e))&&(!(r||!f(this,e)||!f(nt,e)||f(this,U)&&this[U][e])||r)},$getOwnPropertyDescriptor=function(t,e){var r=d(t),n=y(e);if(r!==$||!f(nt,n)||f(ot,n)){var o=Z(r,n);return!o||!f(nt,n)||f(r,U)&&r[U][n]||(o.enumerable=!0),o}},$getOwnPropertyNames=function(t){var e=tt(d(t)),r=[];return H(e,(function(t){f(nt,t)||f(L,t)||rt(r,t)})),r},$getOwnPropertySymbols=function(t){var e=t===$,r=tt(e?ot:d(t)),n=[];return H(r,(function(t){!f(nt,t)||e&&!f($,t)||rt(n,nt[t])})),n};u||(A(X=(V=function(){if(h(X,this))throw new K("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=R(t),setter=function(t){var r=void 0===this?o:this;r===$&&a(setter,ot,t),f(r,U)&&f(r[U],e)&&(r[U][e]=!1);var n=v(1,t);try{st(r,e,n)}catch(t){if(!(t instanceof q))throw t;fallbackDefineProperty(r,e,n)}};return c&&it&&st($,e,{configurable:!0,set:setter}),wrap(e,t)})[B],"toString",(function(){return Y(this).tag})),A(V,"withoutSetter",(function(t){return wrap(R(t),t)})),k.f=$propertyIsEnumerable,T.f=$defineProperty,S.f=$defineProperties,E.f=$getOwnPropertyDescriptor,x.f=w.f=$getOwnPropertyNames,_.f=$getOwnPropertySymbols,N.f=function(t){return wrap(C(t),t)},c&&(I(X,"description",{configurable:!0,get:function(){return Y(this).description}}),s||A($,"propertyIsEnumerable",$propertyIsEnumerable,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:V}),H(b(at),(function(t){M(t)})),n({target:W,stat:!0,forced:!u},{useSetter:function(){it=!0},useSimple:function(){it=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(t,e){return void 0===e?m(t):$defineProperties(m(t),e)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:$getOwnPropertyNames}),G(),j(V,W),L[U]=!0},79741:(t,e,r)=>{"use strict";var n=r(47493),o=r(55071);n({target:"Object",stat:!0,forced:Object.isExtensible!==o},{isExtensible:o})},79850:(t,e,r)=>{"use strict";var n=r(47493),o=r(3121),a=r(53129),i=r(26402),s=r(42170),c=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(t){i(this),a(t);var e=s(this),r=arguments.length<2,n=r?void 0:arguments[1],u=0;if(o(e,(function(e){r?(r=!1,n=e):n=t(n,e,u),u++}),{IS_RECORD:!0}),r)throw new c("Reduce of empty iterator with no initial value");return n}})},79969:(t,e,r)=>{"use strict";var n,o=r(26402),a=r(75638),i=r(39138),s=r(26476),c=r(27434),u=r(75118),l=r(56416),f=">",h="<",p="prototype",d="script",y=l("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(t){return h+d+f+t+h+"/"+d+f},NullProtoObjectViaActiveX=function(t){t.write(scriptTag("")),t.close();var e=t.parentWindow.Object;return t=null,e},NullProtoObject=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;NullProtoObject="undefined"!=typeof document?document.domain&&n?NullProtoObjectViaActiveX(n):(e=u("iframe"),r="java"+d+":",e.style.display="none",c.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(scriptTag("document.F=Object")),t.close(),t.F):NullProtoObjectViaActiveX(n);for(var o=i.length;o--;)delete NullProtoObject[p][i[o]];return NullProtoObject()};s[y]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(EmptyConstructor[p]=o(t),r=new EmptyConstructor,EmptyConstructor[p]=null,r[y]=t):r=NullProtoObject(),void 0===e?r:a.f(r,e)}},80181:(t,e,r)=>{"use strict";var n=r(49753),o=Map.prototype;t.exports={Map,set:n(o.set),get:n(o.get),has:n(o.has),remove:n(o["delete"]),proto:o}},80240:t=>{"use strict";var Queue=function(){this.head=null,this.tail=null};Queue.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=Queue},80585:(t,e,r)=>{"use strict";r(47493)({target:"Math",stat:!0},{log10:r(73119)})},80627:(t,e,r)=>{"use strict";var n=r(47493),o=r(68949);o&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return o(this,arguments.length?arguments[0]:void 0,!0)}})},80646:(t,e,r)=>{"use strict";var n=r(38789),o=r(14704).MISSED_STICKY,a=r(8953),i=r(37869),s=r(470).get,c=RegExp.prototype,u=TypeError;n&&o&&i(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===a(this))return!!s(this).sticky;throw new u("Incompatible receiver, RegExp required")}}})},80772:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=Math.pow,i=31,s=1023,c=a(2,-24),u=.0009765625,l=o(DataView.prototype.getUint16);n({target:"DataView",proto:!0},{getFloat16:function(t){var e,r,n,o,f=l(this,t,arguments.length>1&&arguments[1]);return r=(e=f)>>>15,o=e&s,(n=e>>>10&i)===i?0===o?0===r?1/0:-1/0:NaN:0===n?o*(0===r?c:-c):a(2,n-15)*(0===r?1+o*u:-1-o*u)}})},80814:(t,e,r)=>{"use strict";var n=r(1172);t.exports=/MSIE|Trident/.test(n)},81099:(t,e,r)=>{"use strict";var n=r(11957),o=r(34714),a=r(49753),i=r(8594),s=r(47227).trim,c=r(23121),u=a("".charAt),l=n.parseFloat,f=n.Symbol,h=f&&f.iterator,p=1/l(c+"-0")!=-1/0||h&&!o((function(){l(Object(h))}));t.exports=p?function(t){var e=s(i(t)),r=l(e);return 0===r&&"-"===u(e,0)?-0:r}:l},81200:(t,e,r)=>{"use strict";var n=r(47493),o=r(42101);n({target:"String",proto:!0,forced:r(21390)("italics")},{italics:function(){return o(this,"i","","")}})},81875:(t,e,r)=>{"use strict";var n=r(47493),o=r(42560).some;n({target:"Array",proto:!0,forced:!r(68397)("some")},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},82185:t=>{var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,i=Object.create(a.prototype),s=new Context(n||[]);return o(i,"_invoke",{value:makeInvokeMethod(t,r,s)}),i}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=wrap;var u="suspendedStart",l="suspendedYield",f="executing",h="completed",p={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var d={};define(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(values([])));g&&g!==r&&n.call(g,i)&&(d=g);var v=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(d);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,a,i){var s=tryCatch(t[r],t,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){invoke("next",t,a,i)}),(function(t){invoke("throw",t,a,i)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return invoke("throw",t,a,i)}))}i(s.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(t,r,n){var o=u;return function(a,i){if(o===f)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;1;){var s=n.delegate;if(s){var c=maybeInvokeDelegate(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===u)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var d=tryCatch(t,r,n);if("normal"===d.type){if(o=n.done?h:l,d.arg===p)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=h,n.method="throw",n.arg=d.arg)}}}function maybeInvokeDelegate(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,maybeInvokeDelegate(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=tryCatch(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(null!=t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function next(){for(;++o<t.length;)if(n.call(t,o))return next.value=t[o],next.done=!1,next;return next.value=e,next.done=!0,next};return a.next=a}}throw new TypeError(typeof t+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(v,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,s,(function(){return this})),t.AsyncIterator=AsyncIterator,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new AsyncIterator(wrap(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},defineIteratorMethods(v),define(v,c,"Generator"),define(v,i,(function(){return this})),define(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(resetTryEntry),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function handle(n,o){return i.type="throw",i.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:values(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}(1?t.exports:0);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},82281:(t,e,r)=>{"use strict";var n=r(34714),o=r(11957).RegExp;t.exports=n((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},82374:(t,e,r)=>{"use strict";r(47493)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},83150:(t,e,r)=>{"use strict";var n=r(70095),o=r(42560).filter,a=r(96981),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",(function(t){var e=o(i(this),t,arguments.length>1?arguments[1]:void 0);return a(this,e)}))},83214:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(98454),i=r(26402),s=r(35908),c=r(47746),u=r(37869),l=r(33449),f=r(34714),h=r(47898),p=r(30338),d=r(42250).IteratorPrototype,y=r(38789),g=r(76222),v="constructor",m="Iterator",b=p("toStringTag"),x=TypeError,w=o[m],_=g||!s(w)||w.prototype!==d||!f((function(){w({})})),IteratorConstructor=function(){if(a(this,d),c(this)===d)throw new x("Abstract class Iterator not directly constructable")},defineIteratorPrototypeAccessor=function(t,e){y?u(d,t,{configurable:!0,get:function(){return e},set:function(e){if(i(this),this===d)throw new x("You can't redefine this property");h(this,t)?this[t]=e:l(this,t,e)}}):d[t]=e};h(d,b)||defineIteratorPrototypeAccessor(b,m),!_&&h(d,v)&&d[v]!==Object||defineIteratorPrototypeAccessor(v,IteratorConstructor),IteratorConstructor.prototype=d,n({global:!0,constructor:!0,forced:_},{Iterator:IteratorConstructor})},83339:(t,e,r)=>{"use strict";var n=r(83509),o=r(67088),a=RangeError;t.exports=function(t,e,r,i){var s=n(t),c=o(r),u=c<0?s+c:c;if(u>=s||u<0)throw new a("Incorrect index");for(var l=new e(s),f=0;f<s;f++)l[f]=f===u?i:t[f];return l}},83428:(t,e,r)=>{"use strict";var n=r(47493),o=r(76222),a=r(65949).CONSTRUCTOR,i=r(86781),s=r(15868),c=r(35908),u=r(50701),l=i&&i.prototype;if(n({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(t){return this.then(void 0,t)}}),!o&&c(i)){var f=s("Promise").prototype["catch"];l["catch"]!==f&&u(l,"catch",f,{unsafe:!0})}},83509:(t,e,r)=>{"use strict";var n=r(79203);t.exports=function(t){return n(t.length)}},84079:(t,e,r)=>{"use strict";var n=r(75118)("span").classList,o=n&&n.constructor&&n.constructor.prototype;t.exports=o===Object.prototype?void 0:o},84098:(t,e,r)=>{"use strict";r(19346)("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},84251:(t,e,r)=>{"use strict";var n=r(33382),o=TypeError;t.exports=function(t){if("DataView"===n(t))return t;throw new o("Argument is not a DataView")}},84352:(t,e,r)=>{"use strict";var n=r(47493),o=r(25249);n({global:!0,constructor:!0,forced:!r(17412)},{DataView:o.DataView})},84356:(t,e,r)=>{"use strict";var n=r(26402),o=r(4700);t.exports=function(t,e,r,a){try{return a?e(n(r)[0],r[1]):e(r)}catch(e){o(t,"throw",e)}}},84452:(t,e,r)=>{"use strict";var n=r(47493),o=Math.floor,a=Math.log,i=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(t){var e=t>>>0;return e?31-o(a(e+.5)*i):32}})},84554:(t,e,r)=>{"use strict";var n=r(33382),o=r(18985),a=r(30470),i=r(468),s=r(30338)("iterator");t.exports=function(t){if(!a(t))return o(t,s)||o(t,"@@iterator")||i[n(t)]}},84665:(t,e,r)=>{"use strict";var n=r(47493),o=r(20385),a=r(95156),i=r(32250),s=Array;n({target:"Array",proto:!0},{toReversed:function(){return o(a(this),s)}}),i("toReversed")},85140:(t,e,r)=>{"use strict";var n=r(93645),o=Object;t.exports=function(t){return o(n(t))}},85503:(t,e,r)=>{"use strict";r(47493)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},85512:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},85615:(t,e,r)=>{"use strict";r(47493)({target:"Array",stat:!0},{isArray:r(66823)})},85728:(t,e,r)=>{"use strict";var n=r(1172);t.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},85836:(t,e,r)=>{"use strict";var n=r(50399),o=1.1920928955078125e-7,a=34028234663852886e22,i=11754943508222875e-54;t.exports=Math.fround||function(t){return n(t,o,a,i)}},86007:(t,e,r)=>{"use strict";var n=r(47493),o=r(76597);n({target:"Math",stat:!0,forced:o!==Math.expm1},{expm1:o})},86640:(t,e,r)=>{"use strict";var n=r(47493),o=r(88118);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},86781:(t,e,r)=>{"use strict";var n=r(11957);t.exports=n.Promise},87016:(t,e,r)=>{"use strict";var n=r(91832),o=r(34714),a=r(11957).String;t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol("symbol detection");return!a(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},87109:(t,e,r)=>{"use strict";var n=r(47493),o=r(42101);n({target:"String",proto:!0,forced:r(21390)("sup")},{sup:function(){return o(this,"sup","","")}})},87144:(t,e,r)=>{"use strict";var n=r(11957),o=r(87854),a=r(70095),i=r(34714),s=r(46489),c=n.Int8Array,u=a.aTypedArray,l=a.exportTypedArrayMethod,f=[].toLocaleString,h=!!c&&i((function(){f.call(new c(1))}));l("toLocaleString",(function(){return o(f,h?s(u(this)):u(this),s(arguments))}),i((function(){return[1,2].toLocaleString()!==new c([1,2]).toLocaleString()}))||!i((function(){c.prototype.toLocaleString.call([1,2])})))},87236:(t,e,r)=>{"use strict";var n=r(47493),o=r(26402),a=r(47746);n({target:"Reflect",stat:!0,sham:!r(31760)},{getPrototypeOf:function(t){return a(o(t))}})},87286:(t,e,r)=>{"use strict";var n=r(47493),o=r(38789),a=r(79662),i=r(53129),s=r(85140),c=r(93418);o&&n({target:"Object",proto:!0,forced:a},{__defineSetter__:function(t,e){c.f(s(this),t,{set:i(e),enumerable:!0,configurable:!0})}})},87290:(t,e,r)=>{"use strict";var n=r(35908),o=r(55431),a=r(93418),i=r(39130),s=r(30338),c=r(9066),u=s("hasInstance"),l=Function.prototype;u in l||a.f(l,u,{value:c((function(t){if(!n(this)||!o(t))return!1;var e=this.prototype;return o(e)?i(e,t):t instanceof this}),u)})},87401:(t,e,r)=>{"use strict";r(86640);var n,o,a=r(47493),i=r(33120),s=r(35908),c=r(26402),u=r(8594),l=(n=!1,(o=/[ac]/).exec=function(){return n=!0,/./.exec.apply(this,arguments)},!0===o.test("abc")&&n),f=/./.test;a({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=c(this),r=u(t),n=e.exec;if(!s(n))return i(f,e,r);var o=i(n,e,r);return null!==o&&(c(o),!0)}})},87854:(t,e,r)=>{"use strict";var n=r(59479),o=Function.prototype,a=o.apply,i=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?i.bind(a):function(){return i.apply(a,arguments)})},87981:(t,e,r)=>{"use strict";var n=r(78057),o=r(74835);t.exports=n(o.proto,"size","get")||function(t){return t.size}},88118:(t,e,r)=>{"use strict";var n,o,a=r(33120),i=r(49753),s=r(8594),c=r(6204),u=r(14704),l=r(61250),f=r(79969),h=r(470).get,p=r(10732),d=r(82281),y=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,v=g,m=i("".charAt),b=i("".indexOf),x=i("".replace),w=i("".slice),_=(o=/b*/g,a(g,n=/a/,"a"),a(g,o,"a"),0!==n.lastIndex||0!==o.lastIndex),E=u.BROKEN_CARET,T=void 0!==/()??/.exec("")[1];(_||T||E||p||d)&&(v=function(t){var e,r,n,o,i,u,l,p=this,d=h(p),S=s(t),k=d.raw;if(k)return k.lastIndex=p.lastIndex,e=a(v,k,S),p.lastIndex=k.lastIndex,e;var A=d.groups,I=E&&p.sticky,P=a(c,p),O=p.source,L=0,R=S;if(I&&(P=x(P,"y",""),-1===b(P,"g")&&(P+="g"),R=w(S,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==m(S,p.lastIndex-1))&&(O="(?: "+O+")",R=" "+R,L++),r=new RegExp("^(?:"+O+")",P)),T&&(r=new RegExp("^"+O+"$(?!\\s)",P)),_&&(n=p.lastIndex),o=a(g,I?r:p,R),I?o?(o.input=w(o.input,L),o[0]=w(o[0],L),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:_&&o&&(p.lastIndex=p.global?o.index+o[0].length:n),T&&o&&o.length>1&&a(y,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&A)for(o.groups=u=f(null),i=0;i<A.length;i++)u[(l=A[i])[0]]=o[l[1]];return o}),t.exports=v},88120:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(84251),i=r(30555),s=r(10298),c=r(97471),u=Math.pow,l=65520,f=61005353927612305e-21,h=16777216,p=1024,d=o(DataView.prototype.setUint16);n({target:"DataView",proto:!0},{setFloat16:function(t,e){a(this);var r=i(t),n=function(t){if(t!=t)return 32256;if(0===t)return(1/t==-1/0)<<15;var e=t<0;if(e&&(t=-t),t>=l)return e<<15|31744;if(t<f)return e<<15|c(t*h);var r=0|s(t);if(-15===r)return e<<15|p;var n=c((t*u(2,-r)-1)*p);return n===p?e<<15|r+16<<10:e<<15|r+15<<10|n}(+e);return d(this,r,n,arguments.length>2&&arguments[2])}})},88254:(t,e,r)=>{"use strict";var n=r(70095),o=r(49530).indexOf,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0)}))},88800:(t,e,r)=>{"use strict";var n=r(47493),o=r(3121),a=r(53129),i=r(26402),s=r(42170);n({target:"Iterator",proto:!0,real:!0},{some:function(t){i(this),a(t);var e=s(this),r=0;return o(e,(function(e,n){if(t(e,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},89238:(t,e,r)=>{"use strict";var n=r(11957),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},89291:(t,e,r)=>{"use strict";r(19346)("Uint16",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},89356:(t,e,r)=>{"use strict";var n=r(50701),o=r(49753),a=r(8594),i=r(9021),s=URLSearchParams,c=s.prototype,u=o(c.append),l=o(c["delete"]),f=o(c.forEach),h=o([].push),p=new s("a=1&a=2&b=3");p["delete"]("a",1),p["delete"]("b",void 0),p+""!="a=2"&&n(c,"delete",(function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return l(this,t);var n=[];f(this,(function(t,e){h(n,{key:e,value:t})})),i(e,1);for(var o,s=a(t),c=a(r),p=0,d=0,y=!1,g=n.length;p<g;)o=n[p++],y||o.key===s?(y=!0,l(this,o.key)):d++;for(;d<g;)(o=n[d++]).key===s&&o.value===c||u(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},89517:(t,e,r)=>{"use strict";var n=r(33120),o=r(26402),a=r(42170),i=r(84554);t.exports=function(t,e){e&&"string"==typeof t||o(t);var r=i(t);return a(o(void 0!==r?n(r,t):t))}},89698:(t,e,r)=>{"use strict";var n=r(11957),o=r(34714),a=r(49753),i=r(70095),s=r(5977),c=r(30338)("iterator"),u=n.Uint8Array,l=a(s.values),f=a(s.keys),h=a(s.entries),p=i.aTypedArray,d=i.exportTypedArrayMethod,y=u&&u.prototype,g=!o((function(){y[c].call([1])})),v=!!y&&y.values&&y[c]===y.values&&"values"===y.values.name,typedArrayValues=function(){return l(p(this))};d("entries",(function(){return h(p(this))}),g),d("keys",(function(){return f(p(this))}),g),d("values",typedArrayValues,g||!v,{name:"values"}),d(c,typedArrayValues,g||!v,{name:"values"})},89873:(t,e,r)=>{"use strict";var n=r(49753),o=r(85140),a=Math.floor,i=n("".charAt),s=n("".replace),c=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,n,f,h){var p=r+t.length,d=n.length,y=l;return void 0!==f&&(f=o(f),y=u),s(h,y,(function(o,s){var u;switch(i(s,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,r);case"'":return c(e,p);case"<":u=f[c(s,1,-1)];break;default:var l=+s;if(0===l)return o;if(l>d){var h=a(l/10);return 0===h?o:h<=d?void 0===n[h-1]?i(s,1):n[h-1]+i(s,1):o}u=n[l-1]}return void 0===u?"":u}))}},89906:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(15868),i=r(49753),s=r(33120),c=r(34714),u=r(8594),l=r(9021),f=r(29819).c2i,h=/[^\d+/a-z]/i,p=/[\t\n\f\r ]+/g,d=/[=]{1,2}$/,y=a("atob"),g=String.fromCharCode,v=i("".charAt),m=i("".replace),b=i(h.exec),x=!!y&&!c((function(){return"hi"!==y("aGk=")})),w=x&&c((function(){return""!==y(" ")})),_=x&&!c((function(){y("a")})),E=x&&!c((function(){y()})),T=x&&1!==y.length;n({global:!0,bind:!0,enumerable:!0,forced:!x||w||_||E||T},{atob:function(t){if(l(arguments.length,1),x&&!w&&!_)return s(y,o,t);var e,r,n,i=m(u(t),p,""),c="",E=0,T=0;if(i.length%4==0&&(i=m(i,d,"")),(e=i.length)%4==1||b(h,i))throw new(a("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;E<e;)r=v(i,E++),n=T%4?64*n+f[r]:f[r],T++%4&&(c+=g(255&n>>(-2*T&6)));return c}})},90121:(t,e,r)=>{"use strict";var n=r(33120),o=r(49753),a=r(11259),i=r(26402),s=r(30470),c=r(93645),u=r(95588),l=r(15186),f=r(79203),h=r(8594),p=r(18985),d=r(69017),y=r(14704),g=r(34714),v=y.UNSUPPORTED_Y,m=4294967295,b=Math.min,x=o([].push),w=o("".slice),_=!g((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),E="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;a("split",(function(t,e,r){var o="0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:n(e,this,t,r)}:e;return[function(e,r){var a=c(this),i=s(e)?void 0:p(e,t);return i?n(i,e,a,r):n(o,h(a),e,r)},function(t,n){var a=i(this),s=h(t);if(!E){var c=r(o,a,s,n,o!==e);if(c.done)return c.value}var p=u(a,RegExp),y=a.unicode,g=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(v?"g":"y"),_=new p(v?"^(?:"+a.source+")":a,g),T=void 0===n?m:n>>>0;if(0===T)return[];if(0===s.length)return null===d(_,s)?[s]:[];for(var S=0,k=0,A=[];k<s.length;){_.lastIndex=v?0:k;var I,P=d(_,v?w(s,k):s);if(null===P||(I=b(f(_.lastIndex+(v?k:0)),s.length))===S)k=l(s,k,y);else{if(x(A,w(s,S,k)),A.length===T)return A;for(var O=1;O<=P.length-1;O++)if(x(A,P[O]),A.length===T)return A;k=S=I}}return x(A,w(s,S)),A}]}),E||!_,v)},90292:(t,e,r)=>{"use strict";var n=r(38789),o=r(34714),a=r(49753),i=r(47746),s=r(60361),c=r(95156),u=a(r(85512).f),l=a([].push),f=n&&o((function(){var t=Object.create(null);return t[2]=2,!u(t,2)})),createMethod=function(t){return function(e){for(var r,o=c(e),a=s(o),h=f&&null===i(o),p=a.length,d=0,y=[];p>d;)r=a[d++],n&&!(h?r in o:u(o,r))||l(y,t?[r,o[r]]:o[r]);return y}};t.exports={entries:createMethod(!0),values:createMethod(!1)}},90350:(t,e,r)=>{"use strict";var n=r(85140),o=r(77147),a=r(83509);t.exports=function(t){for(var e=n(this),r=a(e),i=arguments.length,s=o(i>1?arguments[1]:void 0,r),c=i>2?arguments[2]:void 0,u=void 0===c?r:o(c,r);u>s;)e[s++]=t;return e}},90364:(t,e,r)=>{"use strict";var n=r(70095),o=n.aTypedArray,a=n.exportTypedArrayMethod,i=Math.floor;a("reverse",(function(){for(var t,e=this,r=o(e).length,n=i(r/2),a=0;a<n;)t=e[a],e[a++]=e[--r],e[r]=t;return e}))},90544:(t,e,r)=>{"use strict";var n=r(16695).PROPER,o=r(50701),a=r(26402),i=r(8594),s=r(34714),c=r(50881),u="toString",l=RegExp.prototype,f=l[u],h=s((function(){return"/a/b"!==f.call({source:"a",flags:"b"})})),p=n&&f.name!==u;(h||p)&&o(l,u,(function(){var t=a(this);return"/"+i(t.source)+"/"+i(c(t))}),{unsafe:!0})},90660:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120),a=r(53129),i=r(26402),s=r(42170),c=r(89517),u=r(13539),l=r(4700),f=r(76222),h=u((function(){for(var t,e,r=this.iterator,n=this.mapper;1;){if(e=this.inner)try{if(!(t=i(o(e.next,e.iterator))).done)return t.value;this.inner=null}catch(t){l(r,"throw",t)}if(t=i(o(this.next,r)),this.done=!!t.done)return;try{this.inner=c(n(t.value,this.counter++),!1)}catch(t){l(r,"throw",t)}}}));n({target:"Iterator",proto:!0,real:!0,forced:f},{flatMap:function(t){return i(this),a(t),new h(s(this),{mapper:t,inner:null})}})},90825:(t,e,r)=>{"use strict";var n=r(47493),o=r(15868),a=r(87854),i=r(34714),s=r(34008),c="AggregateError",u=o(c),l=!i((function(){return 1!==u([1]).errors[0]}))&&i((function(){return 7!==u([1],c,{cause:7}).cause}));n({global:!0,constructor:!0,arity:2,forced:l},{AggregateError:s(c,(function(t){return function(e,r){return a(t,this,arguments)}}),l,!0)})},90881:(t,e,r)=>{"use strict";var n=r(47493),o=r(76597),a=Math.exp;n({target:"Math",stat:!0},{tanh:function(t){var e=+t,r=o(e),n=o(-e);return r===1/0?1:n===1/0?-1:(r-n)/(a(e)+a(-e))}})},91303:(t,e,r)=>{"use strict";var n=r(47493),o=r(3121),a=r(53129),i=r(26402),s=r(42170);n({target:"Iterator",proto:!0,real:!0},{forEach:function(t){i(this),a(t);var e=s(this),r=0;o(e,(function(e){t(e,r++)}),{IS_RECORD:!0})}})},91424:(t,e,r)=>{"use strict";var n=r(49753),o=r(46376),a=r(78894).getWeakData,i=r(98454),s=r(26402),c=r(30470),u=r(55431),l=r(3121),f=r(42560),h=r(47898),p=r(470),d=p.set,y=p.getterFor,g=f.find,v=f.findIndex,m=n([].splice),b=0,uncaughtFrozenStore=function(t){return t.frozen||(t.frozen=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.entries=[]},findUncaughtFrozen=function(t,e){return g(t.entries,(function(t){return t[0]===e}))};UncaughtFrozenStore.prototype={get:function(t){var e=findUncaughtFrozen(this,t);if(e)return e[1]},has:function(t){return!!findUncaughtFrozen(this,t)},set:function(t,e){var r=findUncaughtFrozen(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=v(this.entries,(function(e){return e[0]===t}));return~e&&m(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,r,n){var f=t((function(t,o){i(t,p),d(t,{type:e,id:b++,frozen:null}),c(o)||l(o,t[n],{that:t,AS_ENTRIES:r})})),p=f.prototype,g=y(e),define=function(t,e,r){var n=g(t),o=a(s(e),!0);return!0===o?uncaughtFrozenStore(n).set(e,r):o[n.id]=r,t};return o(p,{delete:function(t){var e=g(this);if(!u(t))return!1;var r=a(t);return!0===r?uncaughtFrozenStore(e)["delete"](t):r&&h(r,e.id)&&delete r[e.id]},has:function(t){var e=g(this);if(!u(t))return!1;var r=a(t);return!0===r?uncaughtFrozenStore(e).has(t):r&&h(r,e.id)}}),o(p,r?{get:function(t){var e=g(this);if(u(t)){var r=a(t);if(!0===r)return uncaughtFrozenStore(e).get(t);if(r)return r[e.id]}},set:function(t,e){return define(this,t,e)}}:{add:function(t){return define(this,t,!0)}}),f}}},91555:(t,e,r)=>{"use strict";var n=r(70095),o=r(87854),a=r(79134),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(t){var e=arguments.length;return o(a,i(this),e>1?[t,arguments[1]]:[t])}))},91598:(t,e,r)=>{"use strict";var n=r(53129),o=r(26402),a=r(33120),i=r(67088),s=r(42170),c="Invalid size",u=RangeError,l=TypeError,f=Math.max,SetRecord=function(t,e){this.set=t,this.size=f(e,0),this.has=n(t.has),this.keys=n(t.keys)};SetRecord.prototype={getIterator:function(){return s(o(a(this.keys,this.set)))},includes:function(t){return a(this.has,this.set,t)}},t.exports=function(t){o(t);var e=+t.size;if(e!=e)throw new l(c);var r=i(e);if(r<0)throw new u(c);return new SetRecord(t,r)}},91696:(t,e,r)=>{"use strict";var n=r(47493),o=r(93768),a=r(32250);n({target:"Array",proto:!0},{copyWithin:o}),a("copyWithin")},91832:(t,e,r)=>{"use strict";var n,o,a=r(11957),i=r(1172),s=a.process,c=a.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(o=+n[1]),t.exports=o},91836:(t,e,r)=>{"use strict";var n=r(47493),o=r(42560).find,a=r(32250),i="find",s=!0;i in[]&&Array(1)[i]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a(i)},92024:(t,e,r)=>{"use strict";var n=r(70095),o=r(49753),a=n.aTypedArray,i=n.exportTypedArrayMethod,s=o([].join);i("join",(function(t){return s(a(this),t)}))},92087:(t,e,r)=>{"use strict";var n=r(47227).end,o=r(24897);t.exports=o("trimEnd")?function(){return n(this)}:"".trimEnd},92383:(t,e,r)=>{"use strict";var n=r(47493),o=r(59073);n({target:"Set",proto:!0,real:!0,forced:!r(58047)("isSubsetOf",(function(t){return t}))},{isSubsetOf:o})},92512:(t,e,r)=>{"use strict";var n=r(70730),o=r(65496);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},92642:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(87854),i=r(46489),s=r(68236),c=r(53129),u=r(56850),l=o.Promise,f=!1;n({target:"Promise",stat:!0,forced:!l||!l["try"]||u((function(){l["try"]((function(t){f=8===t}),8)})).error||!f},{try:function(t){var e=arguments.length>1?i(arguments,1):[],r=s.f(this),n=u((function(){return a(c(t),void 0,e)}));return(n.error?r.reject:r.resolve)(n.value),r.promise}})},92747:(t,e,r)=>{"use strict";var n=r(49753),o=r(47898),a=r(95156),i=r(49530).indexOf,s=r(26476),c=n([].push);t.exports=function(t,e){var r,n=a(t),u=0,l=[];for(r in n)!o(s,r)&&o(n,r)&&c(l,r);for(;e.length>u;)o(n,r=e[u++])&&(~i(l,r)||c(l,r));return l}},92802:(t,e,r)=>{"use strict";var n=r(47493),o=r(49753),a=r(67088),i=r(27217),s=r(55532),c=r(73119),u=r(34714),l=RangeError,f=String,h=isFinite,p=Math.abs,d=Math.floor,y=Math.pow,g=Math.round,v=o(1..toExponential),m=o(s),b=o("".slice),x="-6.9000e-11"===v(-69e-12,4)&&"1.25e+0"===v(1.255,2)&&"1.235e+4"===v(12345,3)&&"3e+1"===v(25,0);n({target:"Number",proto:!0,forced:!x||!(u((function(){v(1,1/0)}))&&u((function(){v(1,-1/0)})))||!!u((function(){v(1/0,1/0),v(NaN,1/0)}))},{toExponential:function(t){var e=i(this);if(void 0===t)return v(e);var r=a(t);if(!h(e))return String(e);if(r<0||r>20)throw new l("Incorrect fraction digits");if(x)return v(e,r);var n,o,s,u,w="";if(e<0&&(w="-",e=-e),0===e)o=0,n=m("0",r+1);else{var _=c(e);o=d(_);var E=y(10,o-r),T=g(e/E);2*e>=(2*T+1)*E&&(T+=1),T>=y(10,r+1)&&(T/=10,o+=1),n=f(T)}return 0!==r&&(n=b(n,0,1)+"."+b(n,1)),0===o?(s="+",u="0"):(s=o>0?"+":"-",u=f(p(o))),w+(n+="e"+s+u)}})},93035:(t,e,r)=>{"use strict";var n=r(47493),o=r(34714),a=r(70445).f;n({target:"Object",stat:!0,forced:o((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:a})},93214:(t,e,r)=>{"use strict";var n=r(47493),o=r(39130),a=r(47746),i=r(69878),s=r(48313),c=r(79969),u=r(48864),l=r(42251),f=r(24873),h=r(1150),p=r(3121),d=r(20658),y=r(30338)("toStringTag"),g=Error,v=[].push,$AggregateError=function(t,e){var r,n=o(m,this);i?r=i(new g,n?a(this):m):(r=n?this:c(m),u(r,y,"Error")),void 0!==e&&u(r,"message",d(e)),h(r,$AggregateError,r.stack,1),arguments.length>2&&f(r,arguments[2]);var s=[];return p(t,v,{that:s}),u(r,"errors",s),r};i?i($AggregateError,g):s($AggregateError,g,{name:!0});var m=$AggregateError.prototype=c(g.prototype,{constructor:l(1,$AggregateError),message:l(1,""),name:l(1,"AggregateError")});n({global:!0,constructor:!0,arity:2},{AggregateError:$AggregateError})},93298:(t,e,r)=>{"use strict";r(9636)("hasInstance")},93418:(t,e,r)=>{"use strict";var n=r(38789),o=r(56830),a=r(44971),i=r(26402),s=r(92512),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",h="configurable",p="writable";e.f=n?a?function(t,e,r){if(i(t),e=s(e),i(r),"function"==typeof t&&"prototype"===e&&"value"in r&&p in r&&!r[p]){var n=l(t,e);n&&n[p]&&(t[e]=r.value,r={configurable:h in r?r[h]:n[h],enumerable:f in r?r[f]:n[f],writable:!1})}return u(t,e,r)}:u:function(t,e,r){if(i(t),e=s(e),i(r),o)try{return u(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},93645:(t,e,r)=>{"use strict";var n=r(30470),o=TypeError;t.exports=function(t){if(n(t))throw new o("Can't call method on "+t);return t}},93650:(t,e,r)=>{"use strict";var n=r(34714),o=r(30338),a=r(91832),i=o("species");t.exports=function(t){return a>=51||!n((function(){var e=[];return(e.constructor={})[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},93689:(t,e,r)=>{"use strict";var n=r(70095),o=r(49530).includes,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0)}))},93739:(t,e,r)=>{"use strict";var n=r(47493),o=r(28931);n({target:"Array",stat:!0,forced:!r(28363)((function(t){Array.from(t)}))},{from:o})},93768:(t,e,r)=>{"use strict";var n=r(85140),o=r(77147),a=r(83509),i=r(74753),s=Math.min;t.exports=[].copyWithin||function(t,e){var r=n(this),c=a(r),u=o(t,c),l=o(e,c),f=arguments.length>2?arguments[2]:void 0,h=s((void 0===f?c:o(f,c))-l,c-u),p=1;for(l<u&&u<l+h&&(p=-1,l+=h-1,u+=h-1);h-- >0;)l in r?r[u]=r[l]:i(r,u),u+=p,l+=p;return r}},94194:(t,e,r)=>{"use strict";var n=r(47493),o=r(29618);n({target:"Set",proto:!0,real:!0,forced:!r(58047)("isDisjointFrom",(function(t){return!t}))},{isDisjointFrom:o})},94276:(t,e,r)=>{"use strict";var n=r(47493),o=r(26402),a=r(33264).f;n({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var r=a(o(t),e);return!(r&&!r.configurable)&&delete t[e]}})},94837:(t,e,r)=>{"use strict";var n=r(47493),o=r(33120);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return o(URL.prototype.toString,this)}})},94878:(t,e,r)=>{"use strict";r(9636)("search")},95145:(t,e,r)=>{"use strict";var n=r(38789),o=r(37869),a=r(55431),i=r(95776),s=r(85140),c=r(93645),u=Object.getPrototypeOf,l=Object.setPrototypeOf,f=Object.prototype,h="__proto__";if(n&&u&&l&&!(h in f))try{o(f,h,{configurable:!0,get:function(){return u(s(this))},set:function(t){var e=c(this);i(t)&&a(e)&&l(e,t)}})}catch(t){}},95156:(t,e,r)=>{"use strict";var n=r(14472),o=r(93645);t.exports=function(t){return n(o(t))}},95222:(t,e,r)=>{"use strict";r(84352)},95304:(t,e,r)=>{"use strict";var n=r(71347),o=RangeError;t.exports=function(t,e){var r=n(t);if(r%e)throw new o("Wrong offset");return r}},95588:(t,e,r)=>{"use strict";var n=r(26402),o=r(17289),a=r(30470),i=r(30338)("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||a(r=n(s)[i])?e:o(r)}},95673:(t,e,r)=>{"use strict";var n=r(47493),o=r(90292).values;n({target:"Object",stat:!0},{values:function(t){return o(t)}})},95776:(t,e,r)=>{"use strict";var n=r(55431);t.exports=function(t){return n(t)||null===t}},95835:(t,e,r)=>{"use strict";var n=r(26402),o=r(55431),a=r(68236);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=a.f(t);return(0,r.resolve)(e),r.promise}},96110:(t,e,r)=>{"use strict";var n=r(47493),o=r(63788);n({target:"Number",stat:!0,forced:Number.parseInt!==o},{parseInt:o})},96515:(t,e,r)=>{"use strict";var n=r(47493),o=r(49882);n({target:"Set",proto:!0,real:!0,forced:!r(58047)("union")},{union:o})},96612:(t,e,r)=>{"use strict";var n=r(66772);(0,r(70095).exportTypedArrayStaticMethod)("from",r(53780),n)},96742:(t,e,r)=>{"use strict";var n=r(70095),o=r(63037).left,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(t){var e=arguments.length;return o(a(this),t,e,e>1?arguments[1]:void 0)}))},96746:(t,e,r)=>{"use strict";var n=r(49753),o=r(34714),a=r(35908),i=r(33382),s=r(15868),c=r(35517),noop=function(){},u=s("Reflect","construct"),l=/^\s*(?:class|function)\b/,f=n(l.exec),h=!l.test(noop),isConstructorModern=function(t){if(!a(t))return!1;try{return u(noop,[],t),!0}catch(t){return!1}},isConstructorLegacy=function(t){if(!a(t))return!1;switch(i(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!f(l,c(t))}catch(t){return!0}};isConstructorLegacy.sham=!0,t.exports=!u||o((function(){var t;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern((function(){t=!0}))||t}))?isConstructorLegacy:isConstructorModern},96913:(t,e,r)=>{"use strict";r(47493)({target:"Number",stat:!0},{isFinite:r(37135)})},96981:(t,e,r)=>{"use strict";var n=r(76655),o=r(70095).getTypedArrayConstructor;t.exports=function(t,e){return n(o(t),e)}},97143:(t,e,r)=>{"use strict";r(14379);var n,o=r(47493),a=r(38789),i=r(18405),s=r(11957),c=r(44117),u=r(49753),l=r(50701),f=r(37869),h=r(98454),p=r(47898),d=r(98184),y=r(28931),g=r(46489),v=r(30876).codeAt,m=r(38366),b=r(8594),x=r(31042),w=r(9021),_=r(97815),E=r(470),T=E.set,S=E.getterFor("URL"),k=_.URLSearchParams,A=_.getState,I=s.URL,P=s.TypeError,O=s.parseInt,L=Math.floor,R=Math.pow,C=u("".charAt),N=u(/./.exec),M=u([].join),G=u(1..toString),j=u([].pop),D=u([].push),H=u("".replace),U=u([].shift),W=u("".split),B=u("".slice),z=u("".toLowerCase),Y=u([].unshift),$="Invalid authority",V="Invalid scheme",X="Invalid host",q="Invalid port",K=/[a-z]/i,J=/[\d+-.a-z]/i,Z=/\d/,Q=/^0x/i,tt=/^[0-7]+$/,et=/^\d+$/,rt=/^[\da-f]+$/i,nt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ot=/[\0\t\n\r #/:<>?@[\\\]^|]/,at=/^[\u0000-\u0020]+/,it=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,st=/[\t\n\r]/g,serializeHost=function(t){var e,r,n,o;if("number"==typeof t){for(e=[],r=0;r<4;r++)Y(e,t%256),t=L(t/256);return M(e,".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,o=0,a=0;a<8;a++)0!==t[a]?(o>r&&(e=n,r=o),n=null,o=0):(null===n&&(n=a),++o);return o>r?n:e}(t),r=0;r<8;r++)o&&0===t[r]||(o&&(o=!1),n===r?(e+=r?":":"::",o=!0):(e+=G(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},ct={},ut=d({},ct,{" ":1,'"':1,"<":1,">":1,"`":1}),lt=d({},ut,{"#":1,"?":1,"{":1,"}":1}),ft=d({},lt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(t,e){var r=v(t,0);return r>32&&r<127&&!p(e,t)?t:encodeURIComponent(t)},ht={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isWindowsDriveLetter=function(t,e){var r;return 2===t.length&&N(K,C(t,0))&&(":"===(r=C(t,1))||!e&&"|"===r)},startsWithWindowsDriveLetter=function(t){var e;return t.length>1&&isWindowsDriveLetter(B(t,0,2))&&(2===t.length||"/"===(e=C(t,2))||"\\"===e||"?"===e||"#"===e)},isSingleDot=function(t){return"."===t||"%2e"===z(t)},pt={},dt={},yt={},gt={},vt={},mt={},bt={},xt={},wt={},_t={},Et={},Tt={},St={},kt={},At={},It={},Pt={},Ot={},Lt={},Rt={},Ct={},URLState=function(t,e,r){var n,o,a,i=b(t);if(e){if(o=this.parse(i))throw new P(o);this.searchParams=null}else{if(void 0!==r&&(n=new URLState(r,!0)),o=this.parse(i,null,n))throw new P(o);(a=A(new k)).bindURL(this),this.searchParams=a}};URLState.prototype={type:"URL",parse:function(t,e,r){var o,a,i,s,c,u=this,l=e||pt,f=0,h="",d=!1,v=!1,m=!1;for(t=b(t),e||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=H(t,at,""),t=H(t,it,"$1")),t=H(t,st,""),o=y(t);f<=o.length;){switch(a=o[f],l){case pt:if(!a||!N(K,a)){if(e)return V;l=yt;continue}h+=z(a),l=dt;break;case dt:if(a&&(N(J,a)||"+"===a||"-"===a||"."===a))h+=z(a);else{if(":"!==a){if(e)return V;h="",l=yt,f=0;continue}if(e&&(u.isSpecial()!==p(ht,h)||"file"===h&&(u.includesCredentials()||null!==u.port)||"file"===u.scheme&&!u.host))return;if(u.scheme=h,e)return void(u.isSpecial()&&ht[u.scheme]===u.port&&(u.port=null));h="","file"===u.scheme?l=kt:u.isSpecial()&&r&&r.scheme===u.scheme?l=gt:u.isSpecial()?l=xt:"/"===o[f+1]?(l=vt,f++):(u.cannotBeABaseURL=!0,D(u.path,""),l=Lt)}break;case yt:if(!r||r.cannotBeABaseURL&&"#"!==a)return V;if(r.cannotBeABaseURL&&"#"===a){u.scheme=r.scheme,u.path=g(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,l=Ct;break}l="file"===r.scheme?kt:mt;continue;case gt:if("/"!==a||"/"!==o[f+1]){l=mt;continue}l=wt,f++;break;case vt:if("/"===a){l=_t;break}l=Ot;continue;case mt:if(u.scheme=r.scheme,a===n)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=g(r.path),u.query=r.query;else if("/"===a||"\\"===a&&u.isSpecial())l=bt;else if("?"===a)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=g(r.path),u.query="",l=Rt;else{if("#"!==a){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=g(r.path),u.path.length--,l=Ot;continue}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=g(r.path),u.query=r.query,u.fragment="",l=Ct}break;case bt:if(!u.isSpecial()||"/"!==a&&"\\"!==a){if("/"!==a){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,l=Ot;continue}l=_t}else l=wt;break;case xt:if(l=wt,"/"!==a||"/"!==C(h,f+1))continue;f++;break;case wt:if("/"!==a&&"\\"!==a){l=_t;continue}break;case _t:if("@"===a){d&&(h="%40"+h),d=!0,i=y(h);for(var x=0;x<i.length;x++){var w=i[x];if(":"!==w||m){var _=percentEncode(w,ft);m?u.password+=_:u.username+=_}else m=!0}h=""}else if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()){if(d&&""===h)return $;f-=y(h).length+1,h="",l=Et}else h+=a;break;case Et:case Tt:if(e&&"file"===u.scheme){l=It;continue}if(":"!==a||v){if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()){if(u.isSpecial()&&""===h)return X;if(e&&""===h&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(h))return s;if(h="",l=Pt,e)return;continue}"["===a?v=!0:"]"===a&&(v=!1),h+=a}else{if(""===h)return X;if(s=u.parseHost(h))return s;if(h="",l=St,e===Tt)return}break;case St:if(!N(Z,a)){if(a===n||"/"===a||"?"===a||"#"===a||"\\"===a&&u.isSpecial()||e){if(""!==h){var E=O(h,10);if(E>65535)return q;u.port=u.isSpecial()&&E===ht[u.scheme]?null:E,h=""}if(e)return;l=Pt;continue}return q}h+=a;break;case kt:if(u.scheme="file","/"===a||"\\"===a)l=At;else{if(!r||"file"!==r.scheme){l=Ot;continue}switch(a){case n:u.host=r.host,u.path=g(r.path),u.query=r.query;break;case"?":u.host=r.host,u.path=g(r.path),u.query="",l=Rt;break;case"#":u.host=r.host,u.path=g(r.path),u.query=r.query,u.fragment="",l=Ct;break;default:startsWithWindowsDriveLetter(M(g(o,f),""))||(u.host=r.host,u.path=g(r.path),u.shortenPath()),l=Ot;continue}}break;case At:if("/"===a||"\\"===a){l=It;break}r&&"file"===r.scheme&&!startsWithWindowsDriveLetter(M(g(o,f),""))&&(isWindowsDriveLetter(r.path[0],!0)?D(u.path,r.path[0]):u.host=r.host),l=Ot;continue;case It:if(a===n||"/"===a||"\\"===a||"?"===a||"#"===a){if(!e&&isWindowsDriveLetter(h))l=Ot;else if(""===h){if(u.host="",e)return;l=Pt}else{if(s=u.parseHost(h))return s;if("localhost"===u.host&&(u.host=""),e)return;h="",l=Pt}continue}h+=a;break;case Pt:if(u.isSpecial()){if(l=Ot,"/"!==a&&"\\"!==a)continue}else if(e||"?"!==a)if(e||"#"!==a){if(a!==n&&(l=Ot,"/"!==a))continue}else u.fragment="",l=Ct;else u.query="",l=Rt;break;case Ot:if(a===n||"/"===a||"\\"===a&&u.isSpecial()||!e&&("?"===a||"#"===a)){if(".."===(c=z(c=h))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"===a||"\\"===a&&u.isSpecial()||D(u.path,"")):isSingleDot(h)?"/"===a||"\\"===a&&u.isSpecial()||D(u.path,""):("file"===u.scheme&&!u.path.length&&isWindowsDriveLetter(h)&&(u.host&&(u.host=""),h=C(h,0)+":"),D(u.path,h)),h="","file"===u.scheme&&(a===n||"?"===a||"#"===a))for(;u.path.length>1&&""===u.path[0];)U(u.path);"?"===a?(u.query="",l=Rt):"#"===a&&(u.fragment="",l=Ct)}else h+=percentEncode(a,lt);break;case Lt:"?"===a?(u.query="",l=Rt):"#"===a?(u.fragment="",l=Ct):a!==n&&(u.path[0]+=percentEncode(a,ct));break;case Rt:e||"#"!==a?a!==n&&("'"===a&&u.isSpecial()?u.query+="%27":u.query+="#"===a?"%23":percentEncode(a,ct)):(u.fragment="",l=Ct);break;case Ct:a!==n&&(u.fragment+=percentEncode(a,ut))}f++}},parseHost:function(t){var e,r,n;if("["===C(t,0)){if("]"!==C(t,t.length-1))return X;if(e=function(t){var e,r,n,o,a,i,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,chr=function(){return C(t,f)};if(":"===chr()){if(":"!==C(t,1))return;f+=2,l=++u}for(;chr();){if(8===u)return;if(":"!==chr()){for(e=r=0;r<4&&N(rt,chr());)e=16*e+O(chr(),16),f++,r++;if("."===chr()){if(0===r)return;if(f-=r,u>6)return;for(n=0;chr();){if(o=null,n>0){if(!("."===chr()&&n<4))return;f++}if(!N(Z,chr()))return;for(;N(Z,chr());){if(a=O(chr(),10),null===o)o=a;else{if(0===o)return;o=10*o+a}if(o>255)return;f++}c[u]=256*c[u]+o,2!=++n&&4!==n||u++}if(4!==n)return;break}if(":"===chr()){if(f++,!chr())return}else if(chr())return;c[u++]=e}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(i=u-l,u=7;0!==u&&i>0;)s=c[u],c[u--]=c[l+i-1],c[l+--i]=s;else if(8!==u)return;return c}(B(t,1,-1)),!e)return X;this.host=e}else if(this.isSpecial()){if(t=m(t),N(nt,t))return X;if(e=function(t){var e,r,n,o,a,i,s,c=W(t,".");if(c.length&&""===c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(r=[],n=0;n<e;n++){if(""===(o=c[n]))return t;if(a=10,o.length>1&&"0"===C(o,0)&&(a=N(Q,o)?16:8,o=B(o,8===a?1:2)),""===o)i=0;else{if(!N(10===a?et:8===a?tt:rt,o))return t;i=O(o,a)}D(r,i)}for(n=0;n<e;n++)if(i=r[n],n===e-1){if(i>=R(256,5-e))return null}else if(i>255)return null;for(s=j(r),n=0;n<r.length;n++)s+=r[n]*R(256,3-n);return s}(t),null===e)return X;this.host=e}else{if(N(ot,t))return X;for(e="",r=y(t),n=0;n<r.length;n++)e+=percentEncode(r[n],ct);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return p(ht,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"===this.scheme&&1===e&&isWindowsDriveLetter(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,o=t.host,a=t.port,i=t.path,s=t.query,c=t.fragment,u=e+":";return null!==o?(u+="//",t.includesCredentials()&&(u+=r+(n?":"+n:"")+"@"),u+=serializeHost(o),null!==a&&(u+=":"+a)):"file"===e&&(u+="//"),u+=t.cannotBeABaseURL?i[0]:i.length?"/"+M(i,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(t){var e=this.parse(t);if(e)throw new P(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"===t)try{return new URLConstructor(t.path[0]).origin}catch(t){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+serializeHost(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(b(t)+":",pt)},getUsername:function(){return this.username},setUsername:function(t){var e=y(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=percentEncode(e[r],ft)}},getPassword:function(){return this.password},setPassword:function(t){var e=y(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=percentEncode(e[r],ft)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?serializeHost(t):serializeHost(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Et)},getHostname:function(){var t=this.host;return null===t?"":serializeHost(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Tt)},getPort:function(){var t=this.port;return null===t?"":b(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=b(t))?this.port=null:this.parse(t,St))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+M(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Pt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""===(t=b(t))?this.query=null:("?"===C(t,0)&&(t=B(t,1)),this.query="",this.parse(t,Rt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!==(t=b(t))?("#"===C(t,0)&&(t=B(t,1)),this.fragment="",this.parse(t,Ct)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var URLConstructor=function(t){var e=h(this,Nt),r=w(arguments.length,1)>1?arguments[1]:void 0,n=T(e,new URLState(t,!1,r));a||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},Nt=URLConstructor.prototype,accessorDescriptor=function(t,e){return{get:function(){return S(this)[t]()},set:e&&function(t){return S(this)[e](t)},configurable:!0,enumerable:!0}};if(a&&(f(Nt,"href",accessorDescriptor("serialize","setHref")),f(Nt,"origin",accessorDescriptor("getOrigin")),f(Nt,"protocol",accessorDescriptor("getProtocol","setProtocol")),f(Nt,"username",accessorDescriptor("getUsername","setUsername")),f(Nt,"password",accessorDescriptor("getPassword","setPassword")),f(Nt,"host",accessorDescriptor("getHost","setHost")),f(Nt,"hostname",accessorDescriptor("getHostname","setHostname")),f(Nt,"port",accessorDescriptor("getPort","setPort")),f(Nt,"pathname",accessorDescriptor("getPathname","setPathname")),f(Nt,"search",accessorDescriptor("getSearch","setSearch")),f(Nt,"searchParams",accessorDescriptor("getSearchParams")),f(Nt,"hash",accessorDescriptor("getHash","setHash"))),l(Nt,"toJSON",(function(){return S(this).serialize()}),{enumerable:!0}),l(Nt,"toString",(function(){return S(this).serialize()}),{enumerable:!0}),I){var Mt=I.createObjectURL,Gt=I.revokeObjectURL;Mt&&l(URLConstructor,"createObjectURL",c(Mt,I)),Gt&&l(URLConstructor,"revokeObjectURL",c(Gt,I))}x(URLConstructor,"URL"),o({global:!0,constructor:!0,forced:!i,sham:!a},{URL:URLConstructor})},97365:(t,e,r)=>{"use strict";var n=r(50701),o=r(34873),a=Error.prototype;a.toString!==o&&n(a,"toString",o)},97399:(t,e,r)=>{"use strict";var n=r(47493),o=r(42101);n({target:"String",proto:!0,forced:r(21390)("fixed")},{fixed:function(){return o(this,"tt","","")}})},97471:t=>{"use strict";var e=1/2220446049250313e-31;t.exports=function(t){return t+e-e}},97557:(t,e,r)=>{"use strict";var n=r(47493),o=r(76597),a=Math.cosh,i=Math.abs,s=Math.E;n({target:"Math",stat:!0,forced:!a||a(710)===1/0},{cosh:function(t){var e=o(i(t)-1)+1;return(e+1/(e*s*s))*(s/2)}})},97583:t=>{"use strict";var e=Array,r=Math.abs,n=Math.pow,o=Math.floor,a=Math.log,i=Math.LN2;t.exports={pack:function(t,s,c){var u,l,f,h=e(c),p=8*c-s-1,d=(1<<p)-1,y=d>>1,g=23===s?n(2,-24)-n(2,-77):0,v=t<0||0===t&&1/t<0?1:0,m=0;for((t=r(t))!=t||t===1/0?(l=t!=t?1:0,u=d):(u=o(a(t)/i),t*(f=n(2,-u))<1&&(u--,f*=2),(t+=u+y>=1?g/f:g*n(2,1-y))*f>=2&&(u++,f/=2),u+y>=d?(l=0,u=d):u+y>=1?(l=(t*f-1)*n(2,s),u+=y):(l=t*n(2,y-1)*n(2,s),u=0));s>=8;)h[m++]=255&l,l/=256,s-=8;for(u=u<<s|l,p+=s;p>0;)h[m++]=255&u,u/=256,p-=8;return h[m-1]|=128*v,h},unpack:function(t,e){var r,o=t.length,a=8*o-e-1,i=(1<<a)-1,s=i>>1,c=a-7,u=o-1,l=t[u--],f=127&l;for(l>>=7;c>0;)f=256*f+t[u--],c-=8;for(r=f&(1<<-c)-1,f>>=-c,c+=e;c>0;)r=256*r+t[u--],c-=8;if(0===f)f=1-s;else{if(f===i)return r?NaN:l?-1/0:1/0;r+=n(2,e),f-=s}return(l?-1:1)*r*n(2,f-e)}}},97815:(t,e,r)=>{"use strict";r(5977),r(65896);var n=r(47493),o=r(11957),a=r(71420),i=r(15868),s=r(33120),c=r(49753),u=r(38789),l=r(18405),f=r(50701),h=r(37869),p=r(46376),d=r(31042),y=r(32927),g=r(470),v=r(98454),m=r(35908),b=r(47898),x=r(44117),w=r(33382),_=r(26402),E=r(55431),T=r(8594),S=r(79969),k=r(42251),A=r(3990),I=r(84554),P=r(74520),O=r(9021),L=r(30338),R=r(51031),C=L("iterator"),N="URLSearchParams",M=N+"Iterator",G=g.set,j=g.getterFor(N),D=g.getterFor(M),H=a("fetch"),U=a("Request"),W=a("Headers"),B=U&&U.prototype,z=W&&W.prototype,Y=o.TypeError,$=o.encodeURIComponent,V=String.fromCharCode,X=i("String","fromCodePoint"),q=parseInt,K=c("".charAt),J=c([].join),Z=c([].push),Q=c("".replace),tt=c([].shift),et=c([].splice),rt=c("".split),nt=c("".slice),ot=c(/./.exec),at=/\+/g,it="�",st=/^[0-9a-f]+$/i,parseHexOctet=function(t,e){var r=nt(t,e,e+2);return ot(st,r)?q(r,16):NaN},getLeadingOnes=function(t){for(var e=0,r=128;r>0&&t&r;r>>=1)e++;return e},utf8Decode=function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(31&t[0])<<6|63&t[1];break;case 3:e=(15&t[0])<<12|(63&t[1])<<6|63&t[2];break;case 4:e=(7&t[0])<<18|(63&t[1])<<12|(63&t[2])<<6|63&t[3]}return e>1114111?null:e},decode=function(t){for(var e=(t=Q(t,at," ")).length,r="",n=0;n<e;){var o=K(t,n);if("%"===o){if("%"===K(t,n+1)||n+3>e){r+="%",n++;continue}var a=parseHexOctet(t,n+1);if(a!=a){r+=o,n++;continue}n+=2;var i=getLeadingOnes(a);if(0===i)o=V(a);else{if(1===i||i>4){r+=it,n++;continue}for(var s=[a],c=1;c<i&&!(++n+3>e||"%"!==K(t,n));){var u=parseHexOctet(t,n+1);if(u!=u){n+=3;break}if(u>191||u<128)break;Z(s,u),n+=2,c++}if(s.length!==i){r+=it;continue}var l=utf8Decode(s);null===l?r+=it:o=X(l)}}r+=o,n++}return r},ct=/[!'()~]|%20/g,ut={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(t){return ut[t]},serialize=function(t){return Q($(t),ct,replacer)},lt=y((function(t,e){G(this,{type:M,target:j(t).entries,index:0,kind:e})}),N,(function(){var t=D(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,P(void 0,!0);var n=e[r];switch(t.kind){case"keys":return P(n.key,!1);case"values":return P(n.value,!1)}return P([n.key,n.value],!1)}),!0),URLSearchParamsState=function(t){this.entries=[],this.url=null,void 0!==t&&(E(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===K(t,0)?nt(t,1):t:T(t)))};URLSearchParamsState.prototype={type:N,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,o,a,i,c,u=this.entries,l=I(t);if(l)for(r=(e=A(t,l)).next;!(n=s(r,e)).done;){if(a=(o=A(_(n.value))).next,(i=s(a,o)).done||(c=s(a,o)).done||!s(a,o).done)throw new Y("Expected sequence with length 2");Z(u,{key:T(i.value),value:T(c.value)})}else for(var f in t)b(t,f)&&Z(u,{key:f,value:T(t[f])})},parseQuery:function(t){if(t)for(var e,r,n=this.entries,o=rt(t,"&"),a=0;a<o.length;)(e=o[a++]).length&&(r=rt(e,"="),Z(n,{key:decode(tt(r)),value:decode(J(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],Z(r,serialize(t.key)+"="+serialize(t.value));return J(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var URLSearchParamsConstructor=function(){v(this,ft);var t=G(this,new URLSearchParamsState(arguments.length>0?arguments[0]:void 0));u||(this.size=t.entries.length)},ft=URLSearchParamsConstructor.prototype;if(p(ft,{append:function(t,e){var r=j(this);O(arguments.length,2),Z(r.entries,{key:T(t),value:T(e)}),u||this.length++,r.updateURL()},delete:function(t){for(var e=j(this),r=O(arguments.length,1),n=e.entries,o=T(t),a=r<2?void 0:arguments[1],i=void 0===a?a:T(a),s=0;s<n.length;){var c=n[s];if(c.key!==o||void 0!==i&&c.value!==i)s++;else if(et(n,s,1),void 0!==i)break}u||(this.size=n.length),e.updateURL()},get:function(t){var e=j(this).entries;O(arguments.length,1);for(var r=T(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){var e=j(this).entries;O(arguments.length,1);for(var r=T(t),n=[],o=0;o<e.length;o++)e[o].key===r&&Z(n,e[o].value);return n},has:function(t){for(var e=j(this).entries,r=O(arguments.length,1),n=T(t),o=r<2?void 0:arguments[1],a=void 0===o?o:T(o),i=0;i<e.length;){var s=e[i++];if(s.key===n&&(void 0===a||s.value===a))return!0}return!1},set:function(t,e){var r=j(this);O(arguments.length,1);for(var n,o=r.entries,a=!1,i=T(t),s=T(e),c=0;c<o.length;c++)(n=o[c]).key===i&&(a?et(o,c--,1):(a=!0,n.value=s));a||Z(o,{key:i,value:s}),u||(this.size=o.length),r.updateURL()},sort:function(){var t=j(this);R(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,r=j(this).entries,n=x(t,arguments.length>1?arguments[1]:void 0),o=0;o<r.length;)n((e=r[o++]).value,e.key,this)},keys:function(){return new lt(this,"keys")},values:function(){return new lt(this,"values")},entries:function(){return new lt(this,"entries")}},{enumerable:!0}),f(ft,C,ft.entries,{name:"entries"}),f(ft,"toString",(function(){return j(this).serialize()}),{enumerable:!0}),u&&h(ft,"size",{get:function(){return j(this).entries.length},configurable:!0,enumerable:!0}),d(URLSearchParamsConstructor,N),n({global:!0,constructor:!0,forced:!l},{URLSearchParams:URLSearchParamsConstructor}),!l&&m(W)){var ht=c(z.has),pt=c(z.set),wrapRequestOptions=function(t){if(E(t)){var e,r=t.body;if(w(r)===N)return e=t.headers?new W(t.headers):new W,ht(e,"content-type")||pt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(t,{body:k(0,T(r)),headers:k(0,e)})}return t};if(m(H)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return H(t,arguments.length>1?wrapRequestOptions(arguments[1]):{})}}),m(U)){var RequestConstructor=function(t){return v(this,B),new U(t,arguments.length>1?wrapRequestOptions(arguments[1]):{})};B.constructor=RequestConstructor,RequestConstructor.prototype=B,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:RequestConstructor})}}t.exports={URLSearchParams:URLSearchParamsConstructor,getState:j}},97822:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},97921:(t,e,r)=>{"use strict";var n=r(1172);t.exports=/web0s(?!.*chrome)/i.test(n)},98046:(t,e,r)=>{"use strict";var n=r(33120),o=r(53129),a=r(26402),i=r(42170),s=r(13539),c=r(84356),u=s((function(){var t=this.iterator,e=a(n(this.next,t));if(!(this.done=!!e.done))return c(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return a(this),o(t),new u(i(this),{mapper:t})}},98178:(t,e,r)=>{"use strict";var n=r(47493),o=r(34714),a=r(55431),i=r(8953),s=r(27669),c=Object.isFrozen;n({target:"Object",stat:!0,forced:s||o((function(){c(1)}))},{isFrozen:function(t){return!a(t)||(!(!s||"ArrayBuffer"!==i(t))||!!c&&c(t))}})},98184:(t,e,r)=>{"use strict";var n=r(38789),o=r(49753),a=r(33120),i=r(34714),s=r(60361),c=r(42420),u=r(85512),l=r(85140),f=r(14472),h=Object.assign,p=Object.defineProperty,d=o([].concat);t.exports=!h||i((function(){if(n&&1!==h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol("assign detection"),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach((function(t){e[t]=t})),7!==h({},t)[r]||s(h({},e)).join("")!==o}))?function(t,e){for(var r=l(t),o=arguments.length,i=1,h=c.f,p=u.f;o>i;)for(var y,g=f(arguments[i++]),v=h?d(s(g),h(g)):s(g),m=v.length,b=0;m>b;)y=v[b++],n&&!a(p,g,y)||(r[y]=g[y]);return r}:h},98454:(t,e,r)=>{"use strict";var n=r(39130),o=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new o("Incorrect invocation")}},98804:(t,e,r)=>{"use strict";var n=r(47493),o=r(34714),a=r(85140),i=r(47746),s=r(31760);n({target:"Object",stat:!0,forced:o((function(){i(1)})),sham:!s},{getPrototypeOf:function(t){return i(a(t))}})},99196:(t,e,r)=>{"use strict";var n=r(10862);t.exports="NODE"===n},99539:(t,e,r)=>{"use strict";var n=r(70095),o=r(79203),a=r(77147),i=n.aTypedArray,s=n.getTypedArrayConstructor;(0,n.exportTypedArrayMethod)("subarray",(function(t,e){var r=i(this),n=r.length,c=a(t,n);return new(s(r))(r.buffer,r.byteOffset+c*r.BYTES_PER_ELEMENT,o((void 0===e?n:a(e,n))-c))}))},99616:(t,e,r)=>{"use strict";var n=r(47493),o=r(11957),a=r(37869),i=r(38789),s=TypeError,c=Object.defineProperty,u=o.self!==o;try{if(i){var l=Object.getOwnPropertyDescriptor(o,"self");!u&&l&&l.get&&l.enumerable||a(o,"self",{get:function(){return o},set:function(t){if(this!==o)throw new s("Illegal invocation");c(o,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else n({global:!0,simple:!0,forced:u},{self:o})}catch(t){}}},e={};function __webpack_require__(r){var n=e[r];if(void 0!==n)return n.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,__webpack_require__),o.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__(42356),__webpack_require__(82185);__webpack_require__(27332)})();